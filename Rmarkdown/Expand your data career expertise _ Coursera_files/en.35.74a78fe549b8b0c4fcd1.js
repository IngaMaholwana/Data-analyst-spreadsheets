/*! For license information please see 35.74a78fe549b8b0c4fcd1.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"0Z5F":function(module,e,t){"use strict";var n=t("q1tI"),i=t("pVnL"),r=t.n(i),a=t("3tO9"),o=t.n(a),s=t("QILm"),c=t.n(s),u=t("/MKj"),l=t("vXr1"),d=t("mHyk"),p=t("UWlR"),g=t("GD1+"),m=t("FsjB"),h=t("6bNa"),v=t("cE3W"),b=["additionalContext","config","courseraContext","variant","onClick","label","message","newSessionOnClick","className","responseProcessingType","isDisclosureButton","skipSessionUpdate","enableTextStreaming"],ExternalCoachAction_ExternalCoachActionContent=function(e){var t=e.additionalContext,i=e.config,a=e.courseraContext,s=e.variant,g=e.onClick,v=e.label,f=e.message,y=e.newSessionOnClick,C=e.className,k=e.responseProcessingType,S=e.isDisclosureButton,w=void 0!==S&&S,O=e.skipSessionUpdate,x=void 0!==O&&O,j=e.enableTextStreaming,T=void 0!==j&&j,E=c()(e,b),I=Object(l.c)(),P=Object(d.e)(),V=Object(u.c)((function(e){return{isMessageLoading:e.behavior.messageLoader,isMessageStreaming:e.behavior.isMessageStreaming}})),L=V.isMessageLoading,M=V.isMessageStreaming;return n.createElement(p.d,r()({disabled:L||M,variant:s,onClick:function(e){if(y&&(Object(m.d)(),Object(m.b)()),g&&g(e),!x){var n=Object(h.a)(I);Object(m.h)(n),Object(m.g)(h.b.get(n))}Object(m.f)({input:{message:null!=f?f:v,additionalContext:t,courseraContext:a,config:i,responseProcessingType:k},enableTextStreaming:T}),i.coachModeId&&i.coachActionId&&P("interact_coach",o()(o()(o()({coachInteractionType:"click_action",coach:o()({mode:i.coachModeId},w&&{location:"disclosure"})},(null==a?void 0:a.itemId)&&{courseItem:{id:a.itemId}}),(null==a?void 0:a.courseId)&&{product:{type:"course",id:a.courseId}}),{},{coachAction:i.coachActionId}))},className:C},E),v)},ExternalCoachAction_ExternalCoachAction=function(e){return n.createElement(g.a,null,n.createElement(v.a,{value:{data:{mode:e.config.coachModeId||"UNKNOWN_UNDEFINED"}}},n.createElement(ExternalCoachAction_ExternalCoachActionContent,e)))},f=t("70GB"),y=t("8q04");e.a=function(e){var t=e.label,i=e.isDisclosureButton,r=void 0!==i&&i,a=e.isToolbarTrigger,o=void 0!==a&&a,s=e.variant,c=e.config,u=e.courseraContext,l=e.enableTextStreaming,d=Object(y.a)(),p=d.setToolSelected,g=d.setExpanded;return n.createElement(ExternalCoachAction_ExternalCoachAction,{isDisclosureButton:r,variant:s,label:t,message:t,config:c,courseraContext:u,onClick:function(){o&&(p("coach"),g(!0),Object(f.a)({}).handleNewMessage())},enableTextStreaming:l})}},"1Gkd":function(module,exports,e){},"2ljr":function(module,e,t){"use strict";t.d(e,"c",(function(){return getStartTimeForDisplay})),t.d(e,"a",(function(){return getEndTimeForDisplay})),t.d(e,"b",(function(){return getIsOutsideTrimmingRange}));var getStartTimeForDisplay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.max(e-t,0)},getEndTimeForDisplay=function(e,t){var n=null!=t?t:{},i=n.trimmedStartTimeSeconds,r=n.trimmedEndTimeSeconds,a=void 0===r?0:r;return a?Math.min(e-i,a):e},getIsOutsideTrimmingRange=function(e,t,n){var i=null!=n?n:{},r=i.trimmedStartTimeSeconds,a=void 0===r?0:r,o=i.trimmedEndTimeSeconds;return!!(t&&t<a)||!!(o&&e>o)}},"4nIq":function(module,exports,e){},"4x9Y":function(module,e,t){"use strict";t.d(e,"a",(function(){return handleVideoJsError}));var n=t("3tO9"),i=t.n(n),r=t("agHs");function handleVideoJsError(e,t,n){var a=null==e?void 0:e.error();if(a){var o=a;a instanceof Error||(o=new Error("video.js: ".concat(JSON.stringify(a))));var s=Object.keys(null!=n?n:{}).reduce((function(e,t){return e[t]=JSON.stringify(null==n?void 0:n[t]).slice(0,200),e}),{});r.captureException(o,{tags:i()({source:t,errorType:"media"},s)})}}},"7ipH":function(module,e,t){"use strict";t.d(e,"a",(function(){return n}));var n=function(e){return e.mouse_movement="mouse_movement",e.key_press="key_press",e.page_scroll="page_scroll",e.video_is_playing="video_is_playing",e}({})},"80dD":function(module,exports,e){var t=e("Ixfw"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},ARDt:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LearningHours_SendEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LearningHours_SendEventInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"LearningHours_SendEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LearningHours_SendEventSuccess"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LearningHours_SendEventError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:244}};e.loc.source={body:"mutation LearningHours_SendEvent($input: LearningHours_SendEventInput!) {\n  LearningHours_SendEvent(input: $input) {\n    ... on LearningHours_SendEventSuccess {\n      id\n    }\n    ... on LearningHours_SendEventError {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.LearningHours_SendEvent=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"LearningHours_SendEvent")},CLvh:function(module,exports,e){var t=e("xmJK"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},CdQ7:function(module,exports,e){},"DJ+3":function(module,exports,e){e("1Gkd")},F9YM:function(module,e,t){"use strict";t.d(e,"c",(function(){return formatTime})),t.d(e,"e",(function(){return getTimeFromDuration})),t.d(e,"a",(function(){return buildParagraphs})),t.d(e,"b",(function(){return findCuesAroundTime})),t.d(e,"d",(function(){return getAdjacentCues}));var n=t("wd/R"),i=t.n(n),findCueIndexForTime=function(e,t){return function findCueIndexForTimeHelper(e,t,n,i){if(t>n)return-1;var r=n-Math.floor((n-t)/2);return i<e[r].startTime?findCueIndexForTimeHelper(e,t,r-1,i):r!==e.length-1&&i>=e[r+1].startTime?findCueIndexForTimeHelper(e,r+1,n,i):r}(e,0,e.length-1,t)},formatTime=function(e){var t="m:ss",n=1e3*e;return i.a.duration(n).hours()>0&&(t="h:m"+t),i.a.utc(n).locale("en").format(t)},getTimeFromDuration=function(e){var t=1e3*e,n=i.a.duration(t),r=n.hours(),a=n.minutes();return{seconds:n.seconds(),minutes:a,hours:r}},buildParagraphs=function(e){var t,n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=[];return e.forEach((function(e){n&&(i=e.startTime-n.endTime),(!t||i>=r)&&(t=[],a.push(t)),e.hideForTrimmingRange||t.push(e),n=e})),a.filter((function(e){return e.length>0}))},findCuesAroundTime=function(e,t){var n=e[findCueIndexForTime(e,t)];return n?[n]:[]},getAdjacentCues=function(e,t,n){var i=findCueIndexForTime(e,t);return-1===i&&e.length>2?[0,1,2].map((function(t){return e[t]})):i<0||i>=e.length?[]:"en"===n?function(e,t){for(var n=[],i=e-1;-1!==i;){var r=t[i];if("."===r.text[r.text.length-1])break;n.unshift(i),i-=1}for(var a=e;a<=t.length-1;){var o=t[a];if(n.push(a),"."===o.text[o.text.length-1])break;a+=1}return n}(i,e).map((function(t){return e[t]})):function(e,t){var n=[],i=[];return e>=2&&i.push(e-2),e>=1&&i.push(e-1),e<t-1&&n.push(e+1),e<t-2&&n.push(e+2),[].concat(i,[e],n)}(i,e.length).map((function(t){return e[t]}))}},Ht4C:function(module,exports,e){e("4nIq")},Ixfw:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},JqCg:function(module,exports,e){var t=e("nQ+W"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},KjNy:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QueryByEventType"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"eventType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LexExperimentEvents_EventType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"LexExperimentEvents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryByEventType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"eventType"},value:{kind:"Variable",name:{kind:"Name",value:"eventType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:192}};e.loc.source={body:"query QueryByEventType($eventType: LexExperimentEvents_EventType!) {\n  LexExperimentEvents {\n    queryByEventType(eventType: $eventType) {\n      id\n      eventType\n      createdAt\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.QueryByEventType=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"QueryByEventType")},KoCz:function(module,e,t){"use strict";t.d(e,"a",(function(){return ItemPageContextProvider}));var n=t("J4zp"),i=t.n(n),r=t("q1tI"),a=Object(r.createContext)({hasModalOpen:!1,setHasModalOpen:function(e){}});e.b=a;var ItemPageContextProvider=function(e){var t=e.children,n=Object(r.useState)(!1),o=i()(n,2),s=o[0],c=o[1];return r.createElement(a.Provider,{value:{hasModalOpen:s,setHasModalOpen:c}},t)}},MA7l:function(module,e,t){"use strict";function toDecimalSeconds(e){return parseFloat(e.toFixed(3))}function toSeconds(e){return toDecimalSeconds(e/1e3)}function getVideoStartTimeOffsetSeconds(e){return toSeconds(null!=e?e:0)}function getVideoTrimmedDurationSeconds(e,t){return"number"!=typeof e||"number"!=typeof t?null:toSeconds(t-e)}t.d(e,"c",(function(){return toDecimalSeconds})),t.d(e,"d",(function(){return toSeconds})),t.d(e,"a",(function(){return getVideoStartTimeOffsetSeconds})),t.d(e,"b",(function(){return getVideoTrimmedDurationSeconds}))},N8J5:function(module,exports,e){var t=e("NFod"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},NFod:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},Ne6o:function(module,exports,e){var t=e("OIEB"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},OIEB:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},OMAK:function(module,exports){module.exports={name:"siteOnDemandCompletion",parameters:[{name:"assignmentVerificationSessions",value:["XttsmXm4EeWpCwrPNVXTlw","7P0bJnRZEeWgtQq7brjg6Q","IM53RnK_EeWpCwrPNVXTlw","jTosCG7UEeWPJBI9QEQKiQ","NrwvcW7VEeWWpw7gge8ZbQ","N7aolG-BEeWdPxJ-h_8T7w","NtSGgG-BEeWgtQq7brjg6Q","RpHdwHLAEeWXygocDxikNQ","dTeBf3K_EeWpCwrPNVXTlw","_MN8qm7UEeWgtQq7brjg6Q"]},{name:"showPhotoUploadInClassmates",value:!1},{name:"itemVideoDownloadBlacklist",value:["3EPZVpSGEeSb9SIACzCJlg"]},{name:"itemVideoContextMenuDenyList",value:["VNEblfJtEeyFUAphC_7O7w"]}]}},Q64i:function(module,exports,e){var t=e("WXLS"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},ROPg:function(module,e,t){"use strict";t.r(e);var n,i,r,a,o=t("MnCE"),s=t("L1vm"),c=t("pVnL"),u=t.n(c),l=t("fsL8"),d=t.n(l),p=t("yXPU"),g=t.n(p),m=t("3tO9"),h=t.n(m),v=t("J4zp"),b=t.n(v),f=t("VkAN"),y=t.n(f),C=t("E+oP"),k=t.n(C),S=t("OhL7"),w=t("q1tI"),O=t("aqT/"),x=t.n(O),j=t("8bdM"),T=t("JYi1"),E=t("sQ/U"),I=t("FdHa"),P=t("gksZ"),V=t("6/Gu"),L=t("8Hdl"),M=t("lPk7"),N=t("15pW"),F=Object(w.createContext)({shouldDisableSkippingForward:!1,onVideoPlayedToEnd:function(){},learnerMaxVideoProgressInSeconds:0,setLearnerMaxVideoProgressInSeconds:function(){},checkLearnerVideoProgress:function(){},showVideoSkippingDisabledNotification:!1,setShowVideoSkippingDisabledNotification:function(){}}),LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext=function(){return Object(w.useContext)(F)},LearningEffortFirstPlayContext_LearningEffortFirstPlayContextProvider=function(e){var t=e.children,n=Object(w.useState)(!1),i=b()(n,2),r=i[0],a=i[1],o=Object(w.useState)(0),s=b()(o,2),c=s[0],u=s[1],l=Object(w.useState)(!1),d=b()(l,2),p=d[0],g=d[1];return w.createElement(F.Provider,{value:{shouldDisableSkippingForward:r,onVideoPlayedToEnd:function(){a(!1)},learnerMaxVideoProgressInSeconds:c,setLearnerMaxVideoProgressInSeconds:u,checkLearnerVideoProgress:function(e,t){e!==N.g&&e!==N.h||!t||a(!0)},showVideoSkippingDisabledNotification:p,setShowVideoSkippingDisabledNotification:g}},t)},D=t("joWv"),R=t("6Dos"),A=t("1HaE"),H=t("YmkS"),B=t("ingZ"),z=t("qJwm"),U=t("ZJgU"),Q=t("qCXy"),W=t("flsP"),q=t.n(W),K={container:Object(S.c)(n||(n=y()(["\n    margin-top: var(--cds-spacing-150);\n  "]))),feedbackButton:Object(S.c)(i||(i=y()(["\n    max-width: fit-content;\n  "])))},components_PodcastFeedback=function(){return Object(S.d)(V.a,{css:K.container},Object(S.d)(U.a,{size:"small",icon:r||(r=Object(S.d)(Q.a,null)),iconPosition:"before",css:K.feedbackButton,"data-pendo":"podcast-provide-feedback-button-learner"},q()("Give feedback on this audio track")))},G=t("KMW/"),Z=t("d/Ev"),J=t.n(Z);null===(a=G.a.addDefaults)||void 0===a||a.call(G.a,[J.a]);var X={get:function(e,t){return G.a.get("ContentInnovation",e,t)},preview:function(e,t,n){return G.a.preview("ContentInnovation",e,t)}},Y=t("1lFr"),ee=t("xPfO"),te=t("8q04"),ne=t("Puqe"),ie=t.n(ne),re=t("wig9"),ae=t.n(re),oe=t("3WF5"),se=t.n(oe),ce=t("k4Da"),ue=t.n(ce),le=t("xweI"),de=t.n(le),pe=t("agHs"),ge=t("S+eF"),me=t.n(ge),he=t("8OJ3"),ve=t("v6sC"),be=t("2ljr"),models_Cue=function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;this.id=e,this.index=t,this.startTime=i,this.endTime=r,this.text=n.replace("<br/>"," ").replace("\n"," ").replace(/^\.$/,"").replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)})),this.startTimeForDisplay=Object(be.c)(this.startTime,a),this.hideForTrimmingRange=Object(be.b)(this.startTime,this.endTime,{trimmedStartTimeSeconds:a,trimmedEndTimeSeconds:o})},fe=function(){function Track(e,t,n){this.languageCode=e,this.label=t,this.url=n,this.sourceContent=null,this.cues=[],this.isLoaded=!1}return Track.prototype.getTextTranscript=function(){return this.cues.map((function(e){return e.text})).join(" ")},Track}(),propertyComparator=function(e){return function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}},ye=function(){function TrackList(e){this.tracks=e.slice(),this.tracks.sort(propertyComparator("label"))}var e=TrackList.prototype;return e.toArray=function(){return this.tracks},e.getFromLanguageCode=function(e){return this.tracks.find((function(t){return t.languageCode===e}))},TrackList}(),Ce=t("IWWe"),ke={set:function(e,t){return Ce.a.setItem("InteractiveTranscript:"+e,t,String)},get:function(e){return Ce.a.getItem("InteractiveTranscript:"+e,String,void 0)}};function ParserError(e,t){this.message=e,this.error=t}ParserError.prototype=Object.create(Error.prototype);var Se=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{3})/;function parse(e){if("string"!=typeof e)throw new ParserError("Input must be a string");var t=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).split("\n\n"),n=t.shift();if(!n.startsWith("WEBVTT"))throw new ParserError('Must start with "WEBVTT"');var i=n.split("\n");if(0===t.length&&1===i.length)return{valid:!0};if(i.length>1&&""!==i[1])throw new ParserError("No blank line after signature");return{valid:!0,cues:function(e){return e.map(parseCue)}(t)}}function parseCue(e,t){var n="",i=0,r=0,a="",o=e.split("\n").filter(Boolean);if(1===o.length&&!o[0].includes("--\x3e"))throw new ParserError("Cue identifier cannot be standalone (cue #".concat(t,")"));if(o.length>1&&!o[0].includes("--\x3e")&&!o[1].includes("--\x3e"))throw new ParserError("Cue identifier needs to be followed by timestamp (cue #".concat(t,")"));if(o.length>1&&o[1].includes("--\x3e")&&(n=o.shift()),o.length>0&&o[0].includes("--\x3e")){var s=o[0].split(" --\x3e ");if(2!==s.length||!validTimestamp(s[0])||!validTimestamp(s[1]))throw new ParserError("Invalid cue timestamp (cue #".concat(t,")"));if((i=parseTimestamp(s[0]))>(r=parseTimestamp(s[1])))throw new ParserError("Start timestamp greater than end (cue #".concat(t,")"));if(r<i)throw new ParserError("End must be greater or equal than start (cue #".concat(t,")"));a=s[1].replace(Se,"").trim(),o.shift()}return{identifier:n,start:i,end:r,text:o.join("\n"),styles:a}}function validTimestamp(e){return Se.test(e)}function parseTimestamp(e){var t=e.match(Se),n=parseFloat(t[3]);return n+=60*parseFloat(t[2]),n+=60*parseFloat(t[1]||0)*60}var we=t("erQL"),TrackUtils_loadTrack=function(e,t,n,i){if(e.isLoaded&&!i)return me()(e);var r=Object(ve.a)("",{type:"rest"});return me()(r.get(e.url)).then((function(i){var r=e;r.sourceContent=i,r.isLoaded=!0;var a=[];try{a=function(e){if(we.a)return parse(e).cues;var t=[],n=new WebVTT.Parser(window,window.vttjs,new WebVTT.StringDecoder);return n.oncue=function(e){return t.push(e)},n.onparsingerror=function(e){throw new Error("Error parsing track: "+e)},n.parse(e),n.flush(),t}(r.sourceContent)}catch(t){pe.captureException("cannot parse cues",{extra:{track:e,error:t}})}return r.cues=de()(ue()(se()(ae()(a),(function(e,i){return we.a?new models_Cue(e.identifier,i,e.text,e.start,e.end,t,n):new models_Cue(e.id,i,e.text,e.startTime,e.endTime,t,n)})),(function(e){return!!e.text.trim()})),"index"),r})).catch((function(e,t,n){throw new Error("Error loading track. Error: ".concat(n,"; status: ").concat(t,"; response text: ").concat(JSON.stringify(e)))}))},TrackUtils_buildTracks=function(e){var t=[],n=ie()(e,"__typename");return Object.keys(n).forEach((function(n){var i=e[n];t.push(new fe(n,i.label,i.url))})),new ye(t)},TrackUtils_getDefaultTrack=function(e,t){return!we.a&&e.getFromLanguageCode(ke.get("language-code"))||e.getFromLanguageCode(t)||e.getFromLanguageCode("en")||e.toArray()[0]},Oe=t("wC8J"),xe=t("sAJn"),je=t("U5zp"),Te=t("mqQf"),Ee=t("uEzg"),Ie=t("mHyk"),Pe=t("RIqP"),Ve=t.n(Pe),_e=t("JqCg"),Le=t.n(_e),Me=400,Ne=530,Fe=750,De={chapterName:"",startTimestampInSeconds:0,endTimestampInSeconds:1/0,durationAsFraction:1,chapterStartFraction:0,chapterEndFraction:1},Re={chapters:{value:"chapters",dataTestId:"lecture-chapters-tab",trackingName:"lecture_chapters_tab",justifyContent:"flex-start",getLabel:function(){return Le()("Chapters")}},transcript:{value:"transcript",dataTestId:"lecture-transcript-tab",trackingName:"lecture_transcript_tab",justifyContent:"space-around",getLabel:function(){return Le()("Transcript")}},notes:{value:"notes",dataTestId:"lecture-notes-tab",trackingName:"lecture_notes_tab",justifyContent:"space-around",getLabel:function(){return Le()("Notes")}},downloads:{value:"downloads",dataTestId:"lecture-downloads-tab",trackingName:"lecture_downloads_tab",justifyContent:"flex-start",getLabel:function(){return Le()("Downloads")}},discuss:{value:"discuss",dataTestId:"lecture-discuss-tab",trackingName:"lecture_discuss_tab",justifyContent:"space-around",getLabel:function(){return Le()("Discuss")}}},Ae=t("cVIm"),He=t("zXDh"),Be=t("XEPi"),removeHallucinatedChapters=function(e,t){var n=e.filter((function(e){return e.startTimestampInSeconds<t}));return n[n.length-1].endTimestampInSeconds=-1,n},getChaptersFromResponse=function(e,t){return Array.isArray(e)&&e.length>1&&!t?e:[]},ze=t("+rcu");function isHlsEnabled(){return ze.a.get("enableHlsOnInCourseVideoPlayer")}var Ue,Qe,We,qe,Ke,Ge,Ze,Je,Xe,Ye,$e,et,tt,nt,it,rt,at,ot,st,ct,ut,lt,dt,pt,gt,mt,ht=Object(w.createContext)(void 0),ChaptersProvider_ChaptersProvider=function(e){var t=e.children,n=e.courseId,i=e.itemId,r=e.itemDurationInSeconds,a=e.isTrimmedVideo,o=void 0!==a&&a,s=e.videoId,c=w.useState([]),u=b()(c,2),l=u[0],p=u[1],m=Object(He.getUserLanguageCode)(),h=Object(Be.b)().selectedAudioLanguage,v=!h.languageKey||"en"===h.languageKey,f="en"===m.split("-")[0]&&v&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ze.a.get("enableVideoChapters",{course_id:e})}(n);w.useEffect((function(){f&&function(){var e=g()(d()().mark((function _callee(){var e,t,a;return d()().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch("".concat(Ae.a.url.resource_assets,"video-chapters/chapter-defs/").concat(n,"~").concat(i,".json"));case 2:if(null!=(e=s.sent)&&e.ok){s.next=7;break}return pe.captureException({exception:"Non-critical: Failed to request chapters in ChaptersProvider",hint:e.statusText}),p([]),s.abrupt("return");case 7:return s.prev=7,s.next=10,e.json();case 10:t=s.sent,a=getChaptersFromResponse(t,o),p(removeHallucinatedChapters(a,r)),s.next=19;break;case 15:s.prev=15,s.t0=s.catch(7),pe.captureException({exception:"Non-critical: Failed to process chapters in ChaptersProvider",hint:s.t0}),p([]);case 19:case"end":return s.stop()}}),_callee,null,[[7,15]])})));return function(){return e.apply(this,arguments)}}()()}),[f,n,r,i,o]);var y=w.useMemo((function(){return function(e){return function(e,t){if(e.length&&!(t<0))return e.find((function(e){var n=e.endTimestampInSeconds<0?1/0:e.endTimestampInSeconds;return e.startTimestampInSeconds<=t&&t<n}))}(l,e)}}),[l]);return(w.createElement(ht.Provider,{value:{chapters:l,areChaptersEnabled:f,getChapterForTimestamp:y,videoId:s,courseId:n}},t))},ChaptersProvider_useChapters=function(){var e=Object(w.useContext)(ht);if(!e)throw new Error("useChapters must be used within a ChaptersProvider");return e},vt=t("mDxB"),bt=(t("8cuT"),function(e,t){e.dispatch("setHighlightingUIPanelEnabled",t)}),setHighlightsCount=function(e,t){e.dispatch("setHighlightsCount",t)},ft=Object(w.createContext)({highlights:[],videoPlayer:void 0,loading:!0,notificationAnnouncement:"",onDelete:void 0,onUpdate:void 0,course:void 0,courseId:"",computedItem:void 0,videoContent:void 0,selectedTrack:{},onCapture:void 0,tracks:void 0,onTrackSelected:void 0,hideVolunteerLink:!1,player:void 0,onSaveHighlight:void 0,onRemoveHighlight:void 0,selectedTab:"",setSelectedTab:void 0}),VideoHighlightManagerProvider_useVideoHighlightingManagerContext=function(){return Object(w.useContext)(ft)},VideoHighlightManagerProvider_VideoHighlightingManagerProvider=function(e){var t=Object(w.useState)([]),n=b()(t,2),i=n[0],r=n[1],a=Object(w.useState)(!0),o=b()(a,2),s=o[0],c=o[1],u=Object(w.useState)(""),l=b()(u,2),p=l[0],m=l[1],v=ChaptersProvider_useChapters(),f=v.areChaptersEnabled,y=v.chapters,C=Object(w.useState)(Re.transcript.value),k=b()(C,2),S=k[0],O=k[1];Object(w.useEffect)((function(){var e=f&&y.length>0?Re.chapters.value:Re.transcript.value;O(e)}),[f,y.length]);var x=e.itemId,j=e.courseId,T=e.children,E=e.executeAction,I=e.videoPlayer,P=e.course,V=e.computedItem,L=e.videoContent,M=e.selectedTrack,N=e.tracks,F=e.onTrackSelected,D=e.isSubtitleTranslationEnabled,R=(null==M?void 0:M.languageCode)||"";Object(w.useEffect)((function(){(function(){var e=g()(d()().mark((function _callee(){var e;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!R){t.next=7;break}return t.next=3,Object(vt.d)({itemId:x,courseId:j,languageCode:R});case 3:e=t.sent,r(e),c(!1),E(setHighlightsCount,i.length);case 7:case"end":return t.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}})()()}),[x,j,R,E]);var handleUpdateComplete=function(e,t){r((function(n){return n.sort(vt.a).map((function(n){return n.id===e?t:n}))}))},A=function(){var e=g()(d()().mark((function _callee2(e){var t;return d()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.filter((function(t){return t.id!==e})),r(t),n.next=4,Object(vt.c)({id:e});case 4:m(Le()("Note deleted")),E(setHighlightsCount,t.length);case 6:case"end":return n.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=g()(d()().mark((function _callee3(e,t){var n;return d()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=i.map((function(e){return e.id===t.id?h()(h()({},t),{},{pendingUpdate:!0}):e})),r(n),a.next=4,Object(vt.f)({itemId:x,courseId:j,languageCode:R,id:e,highlight:t});case 4:handleUpdateComplete(t.id,h()(h()({},t),{},{pendingUpdate:!1})),m(Le()("Note updated"));case 6:case"end":return a.stop()}}),_callee3)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=g()(d()().mark((function _callee4(e){var t,n,a,o;return d()().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=[e].concat(Ve()(i)),r(t),s.next=4,Object(vt.b)({itemId:x,courseId:j,languageCode:R,highlight:e});case 4:n=s.sent,a=n.id,o=n.snapshotUrl,handleUpdateComplete(e.id,h()(h()({},e),{},{id:a,snapshotUrl:o,pendingCreate:!1})),E(setHighlightsCount,t.length);case 9:case"end":return s.stop()}}),_callee4)})));return function(t){return e.apply(this,arguments)}}();return w.createElement(ft.Provider,{value:{highlights:i,videoPlayer:I,loading:s,notificationAnnouncement:p,onDelete:A,onUpdate:H,course:P,courseId:j,computedItem:V,videoContent:L,selectedTrack:M,onCapture:B,tracks:N,onTrackSelected:F,hideVolunteerLink:!D,player:I,onSaveHighlight:B,onRemoveHighlight:A,selectedTab:S,setSelectedTab:O}},T)},yt={trimmedStartTimeSeconds:0,trimmedDurationSeconds:null,trimmedEndTimeSeconds:null},Ct=Object(w.createContext)(yt),VideoTrimmingContext_VideoTrimmingContextProvider=function(e){var t=e.trimmedStartTimeSeconds,n=e.trimmedDurationSeconds,i=e.children,r=Object(w.useMemo)((function(){return n?t+n:null}),[n,t]);return w.createElement(Ct.Provider,{value:{trimmedStartTimeSeconds:t,trimmedDurationSeconds:n,trimmedEndTimeSeconds:r}},i)},VideoTrimmingContext_useVideoTrimmingContext=function(){var e=Object(w.useContext)(Ct);return e||yt},kt=["transcript","downloads","discuss"],St={tabs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(S.c)(Ue||(Ue=y()(["\n      "," {\n        position: ",";\n        top: ","px;\n        z-index: 3;\n        background-color: var(--cds-color-neutral-background-primary);\n      }\n    "])),I.a.up("md"),e?"sticky":"static",e)},tabPanel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return Object(S.c)(Qe||(Qe=y()(["\n      position: ",";\n      top: ","px;\n      display: flex;\n      flex-wrap: nowrap;\n      justify-content: ",";\n      padding-top: var(--cds-spacing-200);\n      padding-bottom: var(--cds-spacing-200);\n      min-height: 48px;\n\n      & .rc-TranscriptHighlightButton {\n        z-index: 1;\n      }\n    "])),e?"sticky":"static",e+52,t)},overrideTabWrapperStyles:function(){return Object(S.c)(We||(We=y()(["\n    .cds-tab-wrapper {\n      flex-direction: row-reverse;\n    }\n\n    .cds-tab-wrapper .cds-tag-status {\n      margin-left: var(--cds-spacing-100);\n      margin-right: 0;\n    }\n\n    // CDS tabs automatically have a max-width of 160px at the sm breakpoint, so we want to override that\n    // in order to accomodate the maximum text resize scale for accessibility\n    "," {\n      max-width: max-content;\n    }\n  "])),I.a.down("xs"))}},LectureTabs_LectureTabs=function(e){var t,n=e.isLoggedIn,i=e.stickyTop,r=e.transcriptTabContent,a=e.discussTabContent,o=e.downloadTabContent,s=e.notesTabContent,c=e.chaptersTabContent,u=e.notifyOnTabChange,l=Object(Ie.e)(),d={transcript:r,discuss:a,notes:s,downloads:o,chapters:c},p=(n?c?["chapters","transcript","notes","downloads","discuss"]:["transcript","notes","downloads","discuss"]:kt).filter((function(e){return!!d[e]})),g=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),m=g.selectedTrack,h=g.selectedTab,v=g.setSelectedTab,b=VideoTrimmingContext_useVideoTrimmingContext(),f=b.trimmedStartTimeSeconds,y=b.trimmedEndTimeSeconds;m&&TrackUtils_loadTrack(m,f,y).then((function(e){e&&e.cues&&(m.cues=e.cues)}));var NewTag=function(){return Object(S.d)(Oe.a,{variant:"status",priority:"primary",color:"highlight1"},Le()("New"))};return Object(S.d)(xe.a,{value:h},Object(S.d)(je.a,{variant:"section","aria-label":Le()("Related lecture content tabs"),onChange:function(e){l("click_page_tab",{pageTab:{name:Re[e].trackingName}}),null==v||v(e),null==u||u()},css:St.tabs(i)},p.map((function(e){return Object(S.d)(Te.a,{"data-testid":Re[e].dataTestId,label:Re[e].getLabel(),value:Re[e].value,key:e,icon:"chapters"===e?t||(t=Object(S.d)(NewTag,null)):void 0,css:St.overrideTabWrapperStyles,"aria-label":"chapters"===e?Le()("Chapters, status: new"):void 0})}))),p.map((function(e){return Object(S.d)(Ee.a,{value:Re[e].value,css:St.tabPanel(i,Re[e].justifyContent),key:e},d[e])})))},wt=t("QILm"),Ot=t.n(wt),xt=["width","height"],headsetDarkSvg=function(e){var t=e.width,n=void 0===t?12:t,i=e.height,r=void 0===i?14:i,a=Ot()(e,xt);return(w.createElement("svg",u()({xmlns:"http://www.w3.org/2000/svg",width:n,height:r,fill:"none",viewBox:"0 0 12 14"},a),qe||(qe=w.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M10.6667 9.33073V11.3307C10.6667 11.6974 10.3667 11.9974 10 11.9974H9.33333V9.33073H10.6667ZM2.66667 9.33073V11.9974H2C1.63333 11.9974 1.33333 11.6974 1.33333 11.3307V9.33073H2.66667ZM6 0.664062C2.68667 0.664062 0 3.35073 0 6.66406V11.3307C0 12.4374 0.893333 13.3307 2 13.3307H4V7.9974H1.33333V6.66406C1.33333 4.08406 3.42 1.9974 6 1.9974C8.58 1.9974 10.6667 4.08406 10.6667 6.66406V7.9974H8V13.3307H10C11.1067 13.3307 12 12.4374 12 11.3307V6.66406C12 3.35073 9.31333 0.664062 6 0.664062Z",fill:"#5B6780"}))))},jt=t("ZLWr"),Tt=t.n(jt),Et={container:Object(S.c)(Ke||(Ke=y()(["\n    margin-top: var(--cds-spacing-100);\n    padding: var(--cds-spacing-100) 0;\n    display: flex;\n    justify-content: flex-end;\n  "]))),tag:Object(S.c)(Ge||(Ge=y()(["\n    margin-left: var(--cds-spacing-100);\n  "])))},cds_ReportSection=function(){return Object(Be.b)().reportIssueSectionVisible?Object(S.d)("div",{css:Et.container},Object(S.d)(Oe.a,{css:Et.tag,variant:"status",priority:"secondary",icon:Ze||(Ze=Object(S.d)(headsetDarkSvg,{color:"support"})),"data-testid":"tag-root"},Tt()("AI-generated dubbing"))):null},It=t("fw5G"),Pt=t.n(It),Vt=t("+LJP"),_t=t("VbXa"),Lt=t.n(_t),Mt=t("TSYQ"),Nt=t.n(Mt),Ft=t("yr8M"),Dt=t("sOkY"),Rt=t("53mQ"),At=t("Q64i"),Ht=t.n(At),Bt=(t("Ht4C"),function(e){var t=e.isLightTheme,n=Nt()("rc-ShareCTADefault",{"light-theme":t}),i=t?"#FFFFFF":"#2A73CC";return w.createElement("div",{className:n},w.createElement("div",{className:"rc-ShareCTADefault__button-icon"},w.createElement(Rt.a,{isThemeDark:!t,size:12,strokeWidth:2,stroke:i,color:i,suppressTitle:!0})),w.createElement("span",{className:"rc-ShareCTADefault__button-text"},Ht()("Share")))}),zt=t("uKqt"),Ut=t("fsNN"),Qt=t("yh+z"),Wt=768,qt=Object(Ft.a)((function(){return Promise.all([t.e("allStyles"),t.e(97)]).then(t.bind(null,"63Zb"))})),Kt=function(e){function ShareButtonWithModal(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showModal:!1},t.handleButtonClick=function(e){var n=t.props.onSocialButtonClick;n&&n(e),window.innerWidth<=Wt&&window.navigator&&"share"in navigator?t.nativeMobileShare():t.setState((function(){return{showModal:!0}}))},t.handleCloseModal=function(){t.setState((function(){return{showModal:!1}}))},t.nativeMobileShare=function(){var e,n,i=t.props,r=i.captions,a=i.targetShareLink,o=i.customShareLink,s=o||a,c=null==r?void 0:null===(e=r.nativeMobileTitle)||void 0===e?void 0:e.call(r,s),u=null==r?void 0:null===(n=r.nativeMobileMessage)||void 0===n?void 0:n.call(r,s);navigator.share({url:o||a,title:c||document.title,text:u||""}).catch((function(e){if("AbortError"!==e.name)throw e}))},t}Lt()(ShareButtonWithModal,e);var t=ShareButtonWithModal.prototype;return t.componentDidMount=function(){var e,t;null!==(e=window)&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.search.includes(zt.h)&&this.setState((function(){return{showModal:!0}}))},t.render=function(){var e=this.props,t=e.rootClassName,n=e.style,i=e.shareLink,r=e.captions,a=e.utmContentParam,o=e.utmMediumParam,s=e.utmCampaignParam,c=e.utmProductParam,u=e.children,l=e.useCustomUrl,d=e.title,p=e.description,g=e.disableDescription,m=e.previewComponent,h=e.extraQueryParams,v=e.getVideoTimeInSeconds,b=e.titleComponent,f=e.tabbable,y=e.downloadUrl,C=e.downloadName,k=e.downloadHandler,S=e.dispatchClickEvents,O=e.additionalEventingData,x=this.state.showModal,j=Nt()("rc-ShareButtonWithModal",t);return w.createElement("div",{className:j,style:n,"data-e2e":"universal-share-cta"},w.createElement(Dt.a,{"aria-label":d,trackingName:"universal_sharing_cta",onClick:this.handleButtonClick,tabIndex:f?0:-1,trackMouseEnters:!0},u||Je||(Je=w.createElement(Bt,null))),x&&w.createElement(qt,{dispatchClickEvents:S,additionalEventingData:O,handleCloseModal:this.handleCloseModal,shareLink:i,captions:r,utmContentParam:a,utmMediumParam:o,utmCampaignParam:s,utmProductParam:c,extraQueryParams:h,useCustomUrl:l,title:d,description:p,disableDescription:g,previewComponent:m,initialVideoTimeInSeconds:v&&v(),titleComponent:b,downloadUrl:y,downloadName:C,downloadHandler:k}))},ShareButtonWithModal}(w.Component),Gt=Object(o.b)(Object(Qt.a)(zt.g),Object(Ut.a)())(Kt),Zt=t("l1rq"),Jt=t("ghjH"),Xt={container:Object(S.c)(Xe||(Xe=y()(["\n    padding: var(--cds-spacing-100);\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    text-decoration: none;\n    background-color: transparent;\n    border-radius: var(--cds-border-radius-50);\n    color: var(--cds-color-interactive-primary);\n\n    &:hover {\n      background-color: var(--cds-color-blue-25);\n    }\n\n    &:hover .text-label {\n      text-decoration: underline;\n    }\n  "]))),iconWrapper:Object(S.c)(Ye||(Ye=y()(["\n    display: inline-flex;\n    align-items: center;\n    margin-right: 8px;\n  "]))),labelWrapper:Object(S.c)($e||($e=y()(["\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    text-transform: none;\n  "])))},cds_ShareCTAV2=function(e){var t=e.buttonText,n=e.isDark?"#FFFFFF":"#0056D2";return Object(S.d)("div",{"data-testid":"ShareCTAV2",className:"rc-ShareCTAV2",css:Xt.container},Object(S.d)("span",{css:Xt.labelWrapper},Object(S.d)("span",{css:Xt.iconWrapper},Object(S.d)(Jt.a,{size:"small",stroke:n,strokeWidth:".25"})),Object(S.d)(Zt.a,{className:"text-label",variant:"actionSecondary",component:"a"},t||Ht()("Share"))))},Yt=Object(Vt.a)((function(e){var t,n;return{protocol:null===(t=e.location)||void 0===t?void 0:t.protocol,hostname:null===(n=e.location)||void 0===n?void 0:n.hostname,courseSlug:e.params.courseSlug,itemId:e.params.item_id,slug:e.params.slug}}))((function(e){var t=e.isDark,n=e.protocol,i=e.hostname,r=e.courseSlug,a=e.itemId,o=e.slug,s=(new Pt.a).setProtocol(n).setHost(i).setPath("/lecture/".concat(r,"/").concat(o,"-").concat(a)).toString();return w.createElement(Gt,u()({tabbable:!0},e,{shareLink:s}),w.createElement(cds_ShareCTAV2,{isDark:t}))})),$t=t("DU3t"),en=t("atfV"),tn=t("UWlR"),nn=t("vUey"),rn=t("pHgb"),an=t("0Z5F"),on=t("4qdJ"),sn=t("NcvR"),cn="externalCoachDisclosureExpanded_video-item",cds_VideoItemCoach=function(e){var t=e.courseId,n=e.itemId,i=e.embeddedCoachEnabled,r=e.isVideoPlaying,a=Object(te.a)(),o=a.setPlugins,s=a.closeTools,c=a.expanded,u=Object(on.a)({courseId:t,itemId:n,message:Le()("Give me practice questions"),coachActionId:$t.d.PracticeQuestions,coachModeId:$t.g.ItemLearning}).handleCoachMount;Object(w.useEffect)((function(){return i?(o([{name:"coach",icon:et||(et=Object(S.d)(en.a,null)),component:Object(S.d)(rn.a,{courseId:t,itemId:n,disableSpeechToText:r,speechToTextDisabledTooltip:Le()("Microphone is disabled when video is playing"),onClose:function(){s()},onMount:u,mode:$t.g.ItemLearning,homeView:{title:"Ask me anything about what you are learning. I'm here to help!",subtitle:"To get started, type your question below or try one of these examples:",quickMessages:[{message:Le()("Explain this topic in simple terms"),action:$t.d.SimpleExplanation},{message:Le()("Give me a summary"),action:$t.d.Summarize},{message:Le()("Give me practice questions"),action:$t.d.PracticeQuestions},{message:Le()("Give me real-life examples"),action:$t.d.RealLifeExamples}]}})}]),function(){o([])}):function(){}}),[i,t,n,r,o,s,u]);var l=sn.a.get("enableTextStreaming"),d=[{label:Le()("Give me practice questions"),isCoachTrigger:!0,action:$t.d.PracticeQuestions,mode:$t.g.ItemLearning},{label:Le()("Explain this topic in simple terms"),isCoachTrigger:!0,action:$t.d.SimpleExplanation,mode:$t.g.ItemLearning},{label:Le()("Give me a summary"),isCoachTrigger:!0,action:$t.d.Summarize,mode:$t.g.ItemLearning},{label:Le()("Give me real-life examples"),isCoachTrigger:!0,action:$t.d.RealLifeExamples,mode:$t.g.ItemLearning}].map((function(e){var i=e.isCoachTrigger,r=e.label,a=e.mode,o={coachActionId:e.action,coachModeId:a},s={courseId:t,itemId:n};return i?Object(S.d)(an.a,{isDisclosureButton:!0,isToolbarTrigger:!0,variant:"secondary",label:r,message:r,config:o,courseraContext:s,enableTextStreaming:l}):Object(S.d)(tn.a,{variant:"secondary"},r)}));return i?Object(S.d)(V.a,{item:!0},Object(S.d)("div",{css:Object(S.c)(tt||(tt=y()(["\n            margin-bottom: var(--cds-spacing-100);\n            margin-top: var(--cds-spacing-100);\n          "])))},Object(S.d)(nn.a,{actionButtons:d,defaultExpanded:!c&&Ce.a.getItem(cn,(function(e){return"false"!==e}),!0),onToggle:function(e){!function(e){Ce.a.setItem(cn,e,(function(e){return e?"true":"false"}))}(e)}},Object(S.d)(Zt.a,{component:"p"},Le()("Let me know if you have any questions about this material. I'm here to help!"))))):null},un=t("vXr1"),ln=t("MKs7"),VideoItemEmbeddedSourceCourseAttribution_VideoItemEmbeddedSourceCourseAttribution=function(e){var t=e.embeddedContentSourceCourseId,n=e.includeCourseName,i=e.originalName,r=e.trimmedAttributionProperties,a=VideoTrimmingContext_useVideoTrimmingContext().trimmedDurationSeconds,o=Object(un.c)(),s=Object(w.useMemo)((function(){return o.search.includes("useFullLengthVideo")?"".concat(o.pathname).concat(o.search):o.search?"".concat(o.pathname).concat(o.search,"&").concat("useFullLengthVideo","=true"):"".concat(o.pathname,"?").concat("useFullLengthVideo","=true")}),[o.pathname,o.search]);return Object(S.d)(ln.a,{embeddedContentSourceCourseId:t,includeCourseName:n,originalName:i,trimmedAttributionProperties:a?Object.assign(r,{fullContentLink:s}):void 0})},dn=t("mnBx"),pn=t("KESP"),gn=(t("wi9P"),function(e){function VideoMiniControls(t){var n;return(n=e.call(this,t)||this).handlePlay=function(){n.setState({playing:!0})},n.handlePause=function(){n.setState({playing:!1})},n.handleToggle=function(){var e=n.props.videoPlayer;e.paused()?e.play():e.pause()},n.state={playing:!t.videoPlayer.paused()},n}Lt()(VideoMiniControls,e);var t=VideoMiniControls.prototype;return t.componentDidMount=function(){var e=this.props.videoPlayer;e.on("play",this.handlePlay),e.on("pause",this.handlePause)},t.componentWillUnmount=function(){var e=this.props.videoPlayer;e.off("play",this.handlePlay),e.off("pause",this.handlePause)},t.render=function(){var e=this.state.playing,t=e?"pause_mini_video":"play_mini_video";return w.createElement(Dt.a,{trackingName:t,className:"rc-VideoMiniControls",onClick:this.handleToggle,"aria-label":Le()("Mini video player")},w.createElement("div",{className:"video-mini-actions"},!e&&w.createElement(pn.a,{title:Le()("Play"),size:30,color:"#fff"}),e&&w.createElement(dn.a,{title:Le()("Pause"),size:30,color:"#fff"})))},VideoMiniControls}(w.Component)),mn=(t("RY+i"),992),hn=function(e){function VideoMiniPlayer(t){var n;return(n=e.call(this,t)||this).handleIVQVisible=function(){n.setState({isIVQVisible:!0})},n.handleIVQHidden=function(){n.setState({isIVQVisible:!1})},n.handleTimeUpdate=function(){var e=n.state.videoEnded,t=n.props.videoPlayer;t&&(t.ended()?e||n.setState({videoEnded:!0}):e&&n.setState({videoEnded:!1}))},n.handleScroll=function(){n.timeoutId&&window.clearTimeout(n.timeoutId),n.timeoutId=window.setTimeout((function(){var e,t,i=n.state.isMainPlayerHidden,r=n.props.parentCb;if(n.getIsMainPlayerHidden())i||(n.setState({isMainPlayerHidden:!0}),void 0!==r&&r(!1),null===(e=(t=n.props).onMiniPlayerShow)||void 0===e||e.call(t,!1));else if(i){var a,o;n.setState({isMainPlayerHidden:!1}),void 0!==r&&r(!0),null===(a=(o=n.props).onMiniPlayerShow)||void 0===a||a.call(o,!0)}n.timeoutId=null}),5)},n.getScrollContainer=function(){return document.querySelector('[data-id="item-scroll-container"]')},n.getIsMainPlayerHidden=function(){var e=n.props.videoRegion,t=n.getShowMiniPlayer(),i=n.getScrollContainer();return(i?i.scrollTop:0)>=(t?n.videoPlaceholder?n.videoPlaceholder.getBoundingClientRect().height:500:e?e.getBoundingClientRect().height:500)},n.getShowMiniPlayer=function(){var e,t=n.state,i=t.isMainPlayerHidden,r=t.isIVQVisible,a=(null===(e=window)||void 0===e?void 0:e.innerWidth)>=mn;return i&&!r&&a},n.attachVideoPlayerListeners=function(e){e&&(e.on("timeupdate",n.handleTimeUpdate),e.emitter.on("videoQuizView.hidden",n.handleIVQHidden),e.emitter.on("videoQuizView.visible",n.handleIVQVisible))},n.detachVideoPlayerListeners=function(e){e&&(e.off("timeupdate",n.handleTimeUpdate),e.emitter.off("videoQuizView.hidden",n.handleIVQHidden),e.emitter.off("videoQuizView.visible",n.handleIVQVisible))},n.timeoutId=null,n.state={videoEnded:!1,isIVQVisible:!1,isMainPlayerHidden:!1},n}Lt()(VideoMiniPlayer,e);var t=VideoMiniPlayer.prototype;return t.componentDidMount=function(){var e,t=this.props.videoPlayer,n=this.getScrollContainer(),i=!!((null===(e=window)||void 0===e?void 0:e.innerWidth)>mn);n&&i&&n.addEventListener("scroll",this.handleScroll),t&&this.attachVideoPlayerListeners(t)},t.componentWillReceiveProps=function(e){var t=this.props,n=t.videoPlayer,i=t.hasModalOpen;n&&!e.videoPlayer?this.detachVideoPlayerListeners(n):!n&&e.videoPlayer&&this.attachVideoPlayerListeners(e.videoPlayer),n&&i&&n.pause()},t.componentWillUnmount=function(){var e=this.props.videoPlayer,t=this.getScrollContainer();t&&t.removeEventListener("scroll",this.handleScroll),e&&this.detachVideoPlayerListeners(e)},t.render=function(){var e=this,t=this.props,n=t.children,i=t.layoutMode,r=t.videoRegion,a=t.videoPlayer,o=this.state.videoEnded,s=this.getShowMiniPlayer(),c="fill"===i?{width:"100%",height:"100%"}:{};return w.createElement("div",{className:Nt()("rc-VideoMiniPlayer",{mini:s}),style:c},w.createElement("div",{className:"video-main-player-container",style:c},n),s&&r&&w.createElement("div",{ref:function(t){e.videoPlaceholder=t},className:"video-placeholder",style:{width:r.getBoundingClientRect().width,height:r.getBoundingClientRect().height}}),s&&a&&!o&&w.createElement(gn,{videoPlayer:a}))},VideoMiniPlayer}(w.Component),vn=t("nXAi"),bn=t("J2m7"),fn=t.n(bn),yn=t("ZwCU"),Cn=t.n(yn),kn=t("17x9"),Sn=t.n(kn),wn=t("Ji/E"),On=t("ct0W"),xn=t("nNSt"),jn=t("fdGY"),Tn=t("80dD"),En=t.n(Tn),In={notificationContainer:Object(S.c)(nt||(nt=y()(["\n    padding: var(--cds-spacing-100) var(--cds-spacing-200);\n    top: 0;\n    z-index: 1000;\n    position: absolute;\n    gap: var(--cds-spacing-200);\n    border-radius: 3px;\n    background: var(--cds-color-neutral-primary, #1f1f1f);\n    margin-top: var(--cds-spacing-200);\n    left: 50%;\n    transform: translate(-50%);\n  "]))),notificationText:Object(S.c)(it||(it=y()(["\n    color: var(--cds-color-neutral-primary-invert, #fff);\n    white-space: nowrap;\n  "]))),closeButton:Object(S.c)(rt||(rt=y()(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: var(--cds-spacing-100);\n    padding: 0;\n    border: none;\n    width: 24px;\n    height: 24px;\n  "]))),closeIcon:Object(S.c)(at||(at=y()(["\n    vertical-align: middle;\n    padding-bottom: var(--cds-spacing-50);\n  "])))},learning_effort_VideoSkippingDisabledNotification=function(e){var t=e.onDismiss;return Object(S.d)(V.a,{css:In.notificationContainer},Object(S.d)(Zt.a,{component:"p",css:In.notificationText},En()("Skipping forward is only available on video sections you have already watched."),Object(S.d)("button",{type:"button",css:In.closeButton,onClick:t},Object(S.d)(jn.a,{size:"medium",css:In.closeIcon}))))},Pn=t("wM/7"),Vn=t("vbpD"),_n=t("k4cE"),Ln=t("E4RX"),Mn=t("p3Do"),Nn=["width","height"],svg_Forward10Svg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,Nn);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"Forward10Svg"}),ot||(ot=w.createElement("path",{d:"M14 25.6664C12.5417 25.6664 11.1757 25.3894 9.90208 24.8352C8.62847 24.281 7.52014 23.5324 6.57708 22.5894C5.63403 21.6463 4.88542 20.538 4.33125 19.2644C3.77708 17.9907 3.5 16.6248 3.5 15.1664C3.5 13.7081 3.77708 12.3421 4.33125 11.0685C4.88542 9.79491 5.63403 8.68658 6.57708 7.74352C7.52014 6.80046 8.62847 6.05185 9.90208 5.49769C11.1757 4.94352 12.5417 4.66644 14 4.66644H14.175L13.1833 3.67477C12.95 3.44144 12.8382 3.16921 12.8479 2.8581C12.8576 2.54699 12.9694 2.27477 13.1833 2.04144C13.4167 1.8081 13.6938 1.68658 14.0146 1.67685C14.3354 1.66713 14.6125 1.77894 14.8458 2.01227L17.85 5.01644C18.0833 5.24977 18.2 5.52199 18.2 5.8331C18.2 6.14421 18.0833 6.41644 17.85 6.64977L14.8458 9.65394C14.6125 9.88727 14.3354 9.99908 14.0146 9.98935C13.6938 9.97963 13.4167 9.8581 13.1833 9.62477C12.9694 9.39144 12.8576 9.11921 12.8479 8.8081C12.8382 8.49699 12.95 8.22477 13.1833 7.99144L14.175 6.99977H14C11.725 6.99977 9.79514 7.79213 8.21042 9.37685C6.62569 10.9616 5.83333 12.8914 5.83333 15.1664C5.83333 17.4414 6.62569 19.3713 8.21042 20.956C9.79514 22.5407 11.725 23.3331 14 23.3331C16.275 23.3331 18.2049 22.5407 19.7896 20.956C21.3743 19.3713 22.1667 17.4414 22.1667 15.1664C22.1667 14.8359 22.2785 14.5588 22.5021 14.3352C22.7257 14.1116 23.0028 13.9998 23.3333 13.9998C23.6639 13.9998 23.941 14.1116 24.1646 14.3352C24.3882 14.5588 24.5 14.8359 24.5 15.1664C24.5 16.6248 24.2229 17.9907 23.6688 19.2644C23.1146 20.538 22.366 21.6463 21.4229 22.5894C20.4799 23.5324 19.3715 24.281 18.0979 24.8352C16.8243 25.3894 15.4583 25.6664 14 25.6664ZM10.5 13.4164H9.625C9.37222 13.4164 9.16319 13.3338 8.99792 13.1685C8.83264 13.0032 8.75 12.7942 8.75 12.5414C8.75 12.2887 8.83264 12.0796 8.99792 11.9144C9.16319 11.7491 9.37222 11.6664 9.625 11.6664H11.375C11.6278 11.6664 11.8368 11.7491 12.0021 11.9144C12.1674 12.0796 12.25 12.2887 12.25 12.5414V17.7914C12.25 18.0442 12.1674 18.2532 12.0021 18.4185C11.8368 18.5838 11.6278 18.6664 11.375 18.6664C11.1222 18.6664 10.9132 18.5838 10.7479 18.4185C10.5826 18.2532 10.5 18.0442 10.5 17.7914V13.4164ZM14.5833 18.6664C14.2528 18.6664 13.9757 18.5546 13.7521 18.331C13.5285 18.1074 13.4167 17.8303 13.4167 17.4998V12.8331C13.4167 12.5025 13.5285 12.2255 13.7521 12.0019C13.9757 11.7782 14.2528 11.6664 14.5833 11.6664H16.9167C17.2472 11.6664 17.5243 11.7782 17.7479 12.0019C17.9715 12.2255 18.0833 12.5025 18.0833 12.8331V17.4998C18.0833 17.8303 17.9715 18.1074 17.7479 18.331C17.5243 18.5546 17.2472 18.6664 16.9167 18.6664H14.5833ZM15.1667 16.9164H16.3333V13.4164H15.1667V16.9164Z",fill:"white"}))))},Fn=["width","height"],svg_PauseSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,Fn);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),st||(st=w.createElement("path",{d:"M17.5002 22.1668C16.8585 22.1668 16.3092 21.9384 15.8522 21.4814C15.3953 21.0245 15.1668 20.4752 15.1668 19.8335V8.16683C15.1668 7.52516 15.3953 6.97586 15.8522 6.51891C16.3092 6.06197 16.8585 5.8335 17.5002 5.8335H19.8335C20.4752 5.8335 21.0245 6.06197 21.4814 6.51891C21.9384 6.97586 22.1668 7.52516 22.1668 8.16683V19.8335C22.1668 20.4752 21.9384 21.0245 21.4814 21.4814C21.0245 21.9384 20.4752 22.1668 19.8335 22.1668H17.5002ZM8.16683 22.1668C7.52516 22.1668 6.97586 21.9384 6.51891 21.4814C6.06197 21.0245 5.8335 20.4752 5.8335 19.8335V8.16683C5.8335 7.52516 6.06197 6.97586 6.51891 6.51891C6.97586 6.06197 7.52516 5.8335 8.16683 5.8335H10.5002C11.1418 5.8335 11.6911 6.06197 12.1481 6.51891C12.605 6.97586 12.8335 7.52516 12.8335 8.16683V19.8335C12.8335 20.4752 12.605 21.0245 12.1481 21.4814C11.6911 21.9384 11.1418 22.1668 10.5002 22.1668H8.16683ZM17.5002 19.8335H19.8335V8.16683H17.5002V19.8335ZM8.16683 19.8335H10.5002V8.16683H8.16683V19.8335Z",fill:"white"}))))},Dn=["width","height"],svg_PlayArrowSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,Dn);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"PlayArrowSvg"}),ct||(ct=w.createElement("path",{d:"M9.3335 20.0376V7.96257C9.3335 7.63201 9.45016 7.35493 9.6835 7.13132C9.91683 6.9077 10.1891 6.7959 10.5002 6.7959C10.5974 6.7959 10.6995 6.81048 10.8064 6.83965C10.9134 6.86882 11.0154 6.91257 11.1127 6.9709L20.621 13.0084C20.796 13.1251 20.9272 13.2709 21.0147 13.4459C21.1022 13.6209 21.146 13.8056 21.146 14.0001C21.146 14.1945 21.1022 14.3792 21.0147 14.5542C20.9272 14.7292 20.796 14.8751 20.621 14.9917L11.1127 21.0292C11.0154 21.0876 10.9134 21.1313 10.8064 21.1605C10.6995 21.1896 10.5974 21.2042 10.5002 21.2042C10.1891 21.2042 9.91683 21.0924 9.6835 20.8688C9.45016 20.6452 9.3335 20.3681 9.3335 20.0376ZM11.6668 17.9084L17.7918 14.0001L11.6668 10.0917V17.9084Z",fill:"white"}))))},Rn=["width","height"],svg_Replay10Svg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,Rn);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"Replay10Svg"}),ut||(ut=w.createElement("path",{d:"M10.5 13.4164H9.625C9.37222 13.4164 9.16319 13.3338 8.99792 13.1685C8.83264 13.0032 8.75 12.7942 8.75 12.5414C8.75 12.2887 8.83264 12.0796 8.99792 11.9144C9.16319 11.7491 9.37222 11.6664 9.625 11.6664H11.375C11.6278 11.6664 11.8368 11.7491 12.0021 11.9144C12.1674 12.0796 12.25 12.2887 12.25 12.5414V17.7914C12.25 18.0442 12.1674 18.2532 12.0021 18.4185C11.8368 18.5838 11.6278 18.6664 11.375 18.6664C11.1222 18.6664 10.9132 18.5838 10.7479 18.4185C10.5826 18.2532 10.5 18.0442 10.5 17.7914V13.4164ZM14.5833 18.6664C14.2528 18.6664 13.9757 18.5546 13.7521 18.331C13.5285 18.1074 13.4167 17.8303 13.4167 17.4998V12.8331C13.4167 12.5025 13.5285 12.2255 13.7521 12.0019C13.9757 11.7782 14.2528 11.6664 14.5833 11.6664H16.9167C17.2472 11.6664 17.5243 11.7782 17.7479 12.0019C17.9715 12.2255 18.0833 12.5025 18.0833 12.8331V17.4998C18.0833 17.8303 17.9715 18.1074 17.7479 18.331C17.5243 18.5546 17.2472 18.6664 16.9167 18.6664H14.5833ZM15.1667 16.9164H16.3333V13.4164H15.1667V16.9164ZM14 25.6664C12.5417 25.6664 11.1757 25.3894 9.90208 24.8352C8.62847 24.281 7.52014 23.5324 6.57708 22.5894C5.63403 21.6463 4.88542 20.538 4.33125 19.2644C3.77708 17.9907 3.5 16.6248 3.5 15.1664C3.5 14.8359 3.61181 14.5588 3.83542 14.3352C4.05903 14.1116 4.33611 13.9998 4.66667 13.9998C4.99722 13.9998 5.27431 14.1116 5.49792 14.3352C5.72153 14.5588 5.83333 14.8359 5.83333 15.1664C5.83333 17.4414 6.62569 19.3713 8.21042 20.956C9.79514 22.5407 11.725 23.3331 14 23.3331C16.275 23.3331 18.2049 22.5407 19.7896 20.956C21.3743 19.3713 22.1667 17.4414 22.1667 15.1664C22.1667 12.8914 21.3743 10.9616 19.7896 9.37685C18.2049 7.79213 16.275 6.99977 14 6.99977H13.825L14.8167 7.99144C15.05 8.22477 15.1618 8.49699 15.1521 8.8081C15.1424 9.11921 15.0306 9.39144 14.8167 9.62477C14.5833 9.8581 14.3063 9.97963 13.9854 9.98935C13.6646 9.99908 13.3875 9.88727 13.1542 9.65394L10.15 6.64977C9.91667 6.41644 9.8 6.14421 9.8 5.8331C9.8 5.52199 9.91667 5.24977 10.15 5.01644L13.1542 2.01227C13.3875 1.77894 13.6646 1.66713 13.9854 1.67685C14.3063 1.68658 14.5833 1.8081 14.8167 2.04144C15.0306 2.27477 15.1424 2.54699 15.1521 2.8581C15.1618 3.16921 15.05 3.44144 14.8167 3.67477L13.825 4.66644H14C15.4583 4.66644 16.8243 4.94352 18.0979 5.49769C19.3715 6.05185 20.4799 6.80046 21.4229 7.74352C22.366 8.68658 23.1146 9.79491 23.6688 11.0685C24.2229 12.3421 24.5 13.7081 24.5 15.1664C24.5 16.6248 24.2229 17.9907 23.6688 19.2644C23.1146 20.538 22.366 21.6463 21.4229 22.5894C20.4799 23.5324 19.3715 24.281 18.0979 24.8352C16.8243 25.3894 15.4583 25.6664 14 25.6664Z",fill:"white"}))))},An=["width","height"],svg_VolumeDownSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,An);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"VolumeDownSvg"}),lt||(lt=w.createElement("path",{d:"M10.5002 17.4999H7.00016C6.66961 17.4999 6.39252 17.3881 6.16891 17.1645C5.9453 16.9409 5.8335 16.6638 5.8335 16.3332V11.6666C5.8335 11.336 5.9453 11.0589 6.16891 10.8353C6.39252 10.6117 6.66961 10.4999 7.00016 10.4999H10.5002L14.3502 6.64989C14.7196 6.28045 15.1425 6.19781 15.6189 6.40197C16.0953 6.60614 16.3335 6.97072 16.3335 7.49572V20.5041C16.3335 21.0291 16.0953 21.3936 15.6189 21.5978C15.1425 21.802 14.7196 21.7193 14.3502 21.3499L10.5002 17.4999ZM21.5835 13.9999C21.5835 14.8166 21.3988 15.5895 21.0293 16.3186C20.6599 17.0478 20.1738 17.6457 19.571 18.1124C19.3766 18.2291 19.1772 18.2339 18.9731 18.127C18.7689 18.02 18.6668 17.8499 18.6668 17.6166V10.3249C18.6668 10.0916 18.7689 9.92142 18.9731 9.81447C19.1772 9.70753 19.3766 9.71239 19.571 9.82906C20.1738 10.3152 20.6599 10.9277 21.0293 11.6666C21.3988 12.4054 21.5835 13.1832 21.5835 13.9999ZM14.0002 10.3249L11.4918 12.8332H8.16683V15.1666H11.4918L14.0002 17.6749V10.3249Z",fill:"white"}))))},Hn=["width","height"],svg_VolumeOffSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,Hn);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"VolumeOffSvg"}),dt||(dt=w.createElement("path",{d:"M19.5711 22.8377C19.3572 22.9738 19.1433 23.1002 18.9294 23.2169C18.7155 23.3335 18.4919 23.4405 18.2586 23.5377C17.9669 23.6738 17.6704 23.6738 17.369 23.5377C17.0676 23.4016 16.8586 23.178 16.7419 22.8669C16.6252 22.5752 16.6398 22.2884 16.7856 22.0064C16.9315 21.7245 17.1502 21.5155 17.4419 21.3794C17.578 21.321 17.7044 21.2578 17.8211 21.1898C17.9377 21.1217 18.0544 21.0488 18.1711 20.971L14.0002 17.2669V20.5044C14.0002 21.0294 13.762 21.3939 13.2856 21.5981C12.8093 21.8023 12.3863 21.7196 12.0169 21.3502L8.1669 17.5002H4.66689C4.33634 17.5002 4.05926 17.3884 3.83564 17.1648C3.61203 16.9412 3.50023 16.6641 3.50023 16.3335V11.6669C3.50023 11.3363 3.61203 11.0592 3.83564 10.8356C4.05926 10.612 4.33634 10.5002 4.66689 10.5002H7.23356L2.45023 5.71686C2.23634 5.50297 2.12939 5.23075 2.12939 4.9002C2.12939 4.56964 2.23634 4.29742 2.45023 4.08353C2.66412 3.86964 2.93634 3.7627 3.26689 3.7627C3.59745 3.7627 3.86967 3.86964 4.08356 4.08353L23.9169 23.9169C24.1308 24.1308 24.2377 24.403 24.2377 24.7335C24.2377 25.0641 24.1308 25.3363 23.9169 25.5502C23.703 25.7641 23.4308 25.871 23.1002 25.871C22.7697 25.871 22.4975 25.7641 22.2836 25.5502L19.5711 22.8377ZM22.1669 13.971C22.1669 12.3571 21.7391 10.8842 20.8836 9.55228C20.028 8.22033 18.8808 7.22381 17.4419 6.5627C17.1502 6.42658 16.9363 6.21756 16.8002 5.93561C16.6641 5.65367 16.6447 5.36686 16.7419 5.0752C16.8586 4.76408 17.0676 4.54047 17.369 4.40436C17.6704 4.26825 17.9766 4.26825 18.2877 4.40436C20.1738 5.24047 21.6808 6.51408 22.8086 8.2252C23.9363 9.93631 24.5002 11.8516 24.5002 13.971C24.5002 14.6127 24.4419 15.2495 24.3252 15.8814C24.2086 16.5134 24.0433 17.121 23.8294 17.7044C23.6738 18.1321 23.4356 18.3995 23.1148 18.5064C22.794 18.6134 22.4975 18.6183 22.2252 18.521C21.953 18.4238 21.7343 18.2488 21.569 17.996C21.4037 17.7433 21.3988 17.4516 21.5544 17.121C21.7683 16.6155 21.9238 16.1051 22.0211 15.5898C22.1183 15.0745 22.1669 14.5349 22.1669 13.971ZM17.2377 9.82936C17.8794 10.2377 18.3752 10.8502 18.7252 11.6669C19.0752 12.4835 19.2502 13.2613 19.2502 14.0002V14.2919C19.2502 14.3891 19.2405 14.4863 19.2211 14.5835C19.1822 14.8363 19.0461 15.0016 18.8127 15.0794C18.5794 15.1571 18.3655 15.0988 18.1711 14.9044L16.6836 13.4169C16.5669 13.3002 16.4794 13.1689 16.4211 13.0231C16.3627 12.8773 16.3336 12.7266 16.3336 12.571V10.3252C16.3336 10.0919 16.4356 9.92172 16.6398 9.81478C16.844 9.70783 17.0433 9.7127 17.2377 9.82936ZM11.3752 8.10853C11.2586 7.99186 11.2002 7.85575 11.2002 7.7002C11.2002 7.54464 11.2586 7.40853 11.3752 7.29186L12.0169 6.6502C12.3863 6.28075 12.8093 6.19811 13.2856 6.40228C13.762 6.60645 14.0002 6.97103 14.0002 7.49603V9.33353C14.0002 9.60575 13.8836 9.79047 13.6502 9.8877C13.4169 9.98492 13.203 9.93631 13.0086 9.74186L11.3752 8.10853ZM11.6669 17.6752V14.9335L9.5669 12.8335H5.83356V15.1669H9.15856L11.6669 17.6752Z",fill:"white"}))))},Bn=["width","height"],svg_VolumeUpSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,Bn);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"VolumeUpSvg"}),pt||(pt=w.createElement("path",{d:"M22.1667 13.971C22.1667 12.3571 21.7389 10.8842 20.8833 9.55225C20.0278 8.2203 18.8806 7.22377 17.4417 6.56266C17.15 6.42655 16.9361 6.21752 16.8 5.93558C16.6639 5.65364 16.6444 5.36683 16.7417 5.07516C16.8583 4.76405 17.0674 4.54044 17.3688 4.40433C17.6701 4.26822 17.9764 4.26822 18.2875 4.40433C20.1736 5.24044 21.6806 6.51891 22.8083 8.23975C23.9361 9.96058 24.5 11.871 24.5 13.971C24.5 16.071 23.9361 17.9814 22.8083 19.7022C21.6806 21.4231 20.1736 22.7016 18.2875 23.5377C17.9764 23.6738 17.6701 23.6738 17.3688 23.5377C17.0674 23.4016 16.8583 23.1779 16.7417 22.8668C16.6444 22.5752 16.6639 22.2884 16.8 22.0064C16.9361 21.7245 17.15 21.5154 17.4417 21.3793C18.8806 20.7182 20.0278 19.7217 20.8833 18.3897C21.7389 17.0578 22.1667 15.5849 22.1667 13.971ZM8.16667 17.5002H4.66667C4.33611 17.5002 4.05903 17.3884 3.83542 17.1647C3.61181 16.9411 3.5 16.6641 3.5 16.3335V11.6668C3.5 11.3363 3.61181 11.0592 3.83542 10.8356C4.05903 10.612 4.33611 10.5002 4.66667 10.5002H8.16667L12.0167 6.65016C12.3861 6.28072 12.809 6.19808 13.2854 6.40225C13.7618 6.60641 14 6.971 14 7.496V20.5043C14 21.0293 13.7618 21.3939 13.2854 21.5981C12.809 21.8022 12.3861 21.7196 12.0167 21.3502L8.16667 17.5002ZM19.25 14.0002C19.25 14.8168 19.0653 15.5897 18.6958 16.3189C18.3264 17.0481 17.8403 17.646 17.2375 18.1127C17.0431 18.2293 16.8438 18.2342 16.6396 18.1272C16.4354 18.0203 16.3333 17.8502 16.3333 17.6168V10.3252C16.3333 10.0918 16.4354 9.92169 16.6396 9.81475C16.8438 9.7078 17.0431 9.71266 17.2375 9.82933C17.8403 10.3154 18.3264 10.9279 18.6958 11.6668C19.0653 12.4057 19.25 13.1835 19.25 14.0002ZM11.6667 10.3252L9.15833 12.8335H5.83333V15.1668H9.15833L11.6667 17.6752V10.3252Z",fill:"white"}))))},zn=t("lSNA"),Un=t.n(zn),Qn=t("HOoY"),Wn=t("k8gO"),qn={"video_progress.not_found":["playback_rate","subtitle_language","version","tech","volume"],"change.subtitles":["playback_rate","subtitle_language","version","tech","volume"],"volume.change":["playback_rate","subtitle_language","version","tech","volume"],"resolution.change":["resolution","version","tech"],playback_tech:["playback_rate","subtitle_language","version","tech","volume"],heartbeat:["playback_rate","subtitle_language","version","tech","volume"],joining:["playback_rate","version","tech","resolution","session_id"],joined:["playback_rate","version","tech","resolution","session_id"],wait_metrics:["playback_rate","version","tech","resolution","session_id"]},AnalyticsMetadataFetcher_getDataByKeys=function(e,t){var n=function(e){return t=e.options_,r=t.nextItemMetadataOrItemGroup,a=t.title,o=t.courseId,s=t.itemId,c=t.moduleId,u=t.moduleName,{item_id:s,course_id:o,item_name:a,lesson_id:t.lessonId,lesson_name:t.lessonName,module_id:c,module_name:u,open_course_slug:N.c,session_id:Object(Wn.a)(),video_name:a,version:2,linked_item_id:r?r.getId():"",linked_item_name:r?r.getName():"",timecode:Math.min(e.currentTime(),e.duration())||0,playback_rate:e.playbackRate(),volume:e.muted()?0:e.volume(),resolution:e.resolution(),tech:e.tech_&&"Html5"===e.tech_.constructor.name?"html5":"flash",subtitle_language:(n=e.textTracks().tracks_,i=n?n.find((function(e){return"showing"===e.mode})):null,i?i.language:"")};var t,n,i,r,a,o,s,c,u}(e);return t.reduce((function(e,t){return h()(h()({},e),{},Un()({},t,n[t]))}),{})},getTrackingDataForVideoEvent=function(e,t){return AnalyticsMetadataFetcher_getDataByKeys(e,qn[t]||[])},AnalyticsMetadataFetcher_createVideoEventTracker=function(e,t){var n=Qn.a.makeTracker({namespace:e,include:AnalyticsMetadataFetcher_getDataByKeys(t,["open_course_slug","video_name","course_id","item_id","item_name","lesson_id","lesson_name","module_id","module_name","timecode"])});return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(e,h()(h()({},getTrackingDataForVideoEvent(t,e)),i))}},Kn=function(e){function VideoAnalytics(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleVideoProgressEvent=function(){t.props.videoProgress||t.track("video_progress.not_found")},t.basicEvents={autoplaychange:"autoplay.change",joining:"joining",mute:"mute",pause:"pause",play:"play",seeked:"seek",subtitleschange:"change.subtitles",unmute:"unmute",waiting:"waiting"},t.track=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.props.player,r=t.context._eventData.namespace.app,a=AnalyticsMetadataFetcher_createVideoEventTracker(r,i);a(e,h()(h()({},getTrackingDataForVideoEvent(i,e)),n))},t.trackHandler=function(e){return function(n,i){t.track(e,i)}},t}Lt()(VideoAnalytics,e);var t=VideoAnalytics.prototype;return t.componentDidMount=function(){var e=this,t=this.props.player;Object.keys(this.basicEvents).forEach((function(n){t.on(n,e.trackHandler(e.basicEvents[n]))})),t.one("play",this.trackHandler("start")),t.ready(this.trackHandler("playback_tech")),t.on("waitmetrics",(function(t){return e.track("wait_metrics",{play_duration:t.playDuration,wait_duration:t.waitDuration,wait_count:t.waitCount})})),t.on("fullscreenchange",(function(){return e.track(t.isFullscreen()?"fullscreen.open":"fullscreen.close")})),t.emitter.on("heartbeat:30000",this.handleVideoProgressEvent),t.emitter.on("heartbeat:5000",this.trackHandler("heartbeat")),t.emitter.once("joined",(function(t){var n=t.joinDuration;return e.track("joined",{join_duration:n})}))},t.componentWillUnmount=function(){var e=this.props.player;Object.keys(this.basicEvents).forEach((function(t){return e.off(t)})),e.off("play"),e.off("waitmetrics"),e.emitter.off("heartbeat:30000"),e.emitter.off("heartbeat:5000")},t.render=function(){var e=this.props.children;return e||null},VideoAnalytics}(w.Component);Kn.contextTypes={_eventData:Sn.a.object.isRequired};var Gn,Zn,Jn,Xn,Yn,$n,ei,ti=["width","height"],svg_ActionFeedbackBackgroundCircleSvg=function(e){var t=e.width,n=void 0===t?124:t,i=e.height,r=void 0===i?124:i,a=Ot()(e,ti);return(w.createElement("svg",u()({width:n,height:r,viewBox:"0 0 124 124",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"ActionFeedbackBackgroundCircleSvg"},a),gt||(gt=w.createElement("g",{filter:"url(#filter0_bd_1764_10896)"},w.createElement("rect",{x:"0",y:"0",width:"124",height:"124",rx:"62",fill:"black",fillOpacity:"0.66",shapeRendering:"crispEdges"}))),mt||(mt=w.createElement("defs",null,w.createElement("filter",{id:"filter0_bd_1764_10896",x:"-23",y:"-23",width:"170",height:"170",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),w.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:"11.5"}),w.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_1764_10896"}),w.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dy:"2"}),w.createElement("feGaussianBlur",{stdDeviation:"4"}),w.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),w.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.32 0"}),w.createElement("feBlend",{mode:"normal",in2:"effect1_backgroundBlur_1764_10896",result:"effect2_dropShadow_1764_10896"}),w.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_1764_10896",result:"shape"}))))))},ni={playButtonContainer:Object(S.c)(Gn||(Gn=y()(["\n    position: absolute;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    background-color: transparent;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: opacity 0.3s ease-in-out, visibility 0.4s ease-in-out;\n    opacity: 0;\n    visibility: hidden;\n  "]))),showActionFeedback:Object(S.c)(Zn||(Zn=y()(["\n    opacity: 1;\n    visibility: visible;\n  "]))),hideActionFeedback:Object(S.c)(Jn||(Jn=y()(["\n    opacity: 0;\n    visibility: hidden;\n  "]))),actionFeedbackIconContainer:Object(S.c)(Xn||(Xn=y()(["\n    position: relative;\n    width: 124px;\n    height: 124px;\n  "]))),actionFeedbackBackground:Object(S.c)(Yn||(Yn=y()(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    transition: opacity 0.2s cubic-bezier(0, 0, 0.2, 1);\n  "]))),actionFeedbackIcon:Object(S.c)($n||($n=y()(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  "])))},components_ActionFeedback=function(e){var t=e.feedback,n=e.showFeedback;return Object(S.d)("div",{role:"presentation",className:"action-feedback ".concat(n?"show":"hide"),"data-testid":"action-feedback-container",css:[ni.playButtonContainer,n?ni.showActionFeedback:ni.hideActionFeedback]},t&&Object(S.d)("div",{css:ni.actionFeedbackIconContainer,"data-testid":"action-feedback-icon-container"},Object(S.d)(svg_ActionFeedbackBackgroundCircleSvg,{css:ni.actionFeedbackBackground}),Object(S.d)("div",{css:ni.actionFeedbackIcon},t.icon)))},ii=t("80iO"),ri=t("/hg5");function getSubtitleLabel(e,t){var n=Object(ri.d)(e),i=Object(ri.b)(e);return t?"".concat(n," (").concat(i,")"):n}function constructLanguageMap(e,t){var n={};return Object.keys(e).forEach((function(i){if("__typename"!==i){var r=(null==t?void 0:t[i])||[],a=["machineTranslation","aiGenerated"],o=r.some((function(e){return a.includes(e.name)&&e.value}));n[i]={label:getSubtitleLabel(i,o),url:e[i]}}})),n}var ai,oi,si,ci,ui,li,di,pi,gi,mi,hi,vi,bi,fi,yi,Ci,ki,Si,wi,Oi,xi,ji,Ti=["width","height"],ArrowSvg=function(e){var t=e.width,n=void 0===t?14:t,i=e.height,r=void 0===i?14:i,a=Ot()(e,Ti);return(w.createElement("svg",u()({xmlns:"http://www.w3.org/2000/svg",width:n,height:r,fill:"none",viewBox:"0 0 14 14"},a),ei||(ei=w.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.4339 6.60316L6.71677 0.885998L7.28245 0.320312L13.9653 7.00316L7.28245 13.686L6.71677 13.1203L12.4339 7.40316H0.599609V6.60316H12.4339Z",fill:"white"}))))},Ei=["width","height"],CrosSvg=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,r=void 0===i?16:i,a=Ot()(e,Ei);return(w.createElement("svg",u()({xmlns:"http://www.w3.org/2000/svg",width:n,height:r,fill:"none",viewBox:"0 0 12 12"},a),ai||(ai=w.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5391 11.1596L0.837891 1.40962L1.41385 0.836539L11.1151 10.5865L10.5391 11.1596Z",fill:"white"})),oi||(oi=w.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.1551 1.41022L1.41325 11.1602L0.83849 10.5859L10.5804 0.835938L11.1551 1.41022Z",fill:"white"}))))},Ii=["width","height"],HeadsetSmall=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,r=void 0===i?16:i,a=Ot()(e,Ii);return(w.createElement("svg",u()({xmlns:"http://www.w3.org/2000/svg",width:n,height:r,viewBox:"0 0 12 14",fill:"none"},a),si||(si=w.createElement("path",{d:"M10.6667 9.33073V11.3307C10.6667 11.6974 10.3667 11.9974 10 11.9974H9.33333V9.33073H10.6667ZM2.66667 9.33073V11.9974H2C1.63333 11.9974 1.33333 11.6974 1.33333 11.3307V9.33073H2.66667ZM6 0.664062C2.68667 0.664062 0 3.35073 0 6.66406V11.3307C0 12.4374 0.893333 13.3307 2 13.3307H4V7.9974H1.33333V6.66406C1.33333 4.08406 3.42 1.9974 6 1.9974C8.58 1.9974 10.6667 4.08406 10.6667 6.66406V7.9974H8V13.3307H10C11.1067 13.3307 12 12.4374 12 11.3307V6.66406C12 3.35073 9.31333 0.664062 6 0.664062Z",fill:"white"}))))},Pi={videoEndPercentage:.9,videoStartPlaybackDelay:3,playbackRates:[.75,1,1.25,1.5,1.75,2]},Vi=Pi.videoEndPercentage,_i=Pi.videoStartPlaybackDelay,Li=Pi.playbackRates,Mi=-1,Ni="none",Fi=["CN","IN"],Di=[.75,1,1.25,1.5,1.75,2],Ri=!0,Ai=!0,Hi=.25,Bi=.75,zi=2,Ui=t("Zexf"),Qi=t("N8J5"),Wi=t.n(Qi),qi={nudgeContainer:Object(S.c)(ci||(ci=y()(["\n    position: absolute;\n    top: var(--cds-spacing-100);\n    right: var(--cds-spacing-100);\n    width: 100%;\n    max-width: 375px;\n    background-color: rgb(0 0 0 / 66%);\n    padding: var(--cds-spacing-200);\n    padding-bottom: var(--cds-spacing-300);\n    border-radius: var(--cds-spacing-100);\n    box-shadow: 0 2px 8px 0 rgb(0 0 0 / 32%);\n    backdrop-filter: blur(23px);\n    color: white;\n  "]))),nudgeTitle:Object(S.c)(ui||(ui=y()(["\n    font-size: 15px;\n    font-weight: 600;\n  "]))),nudgeClose:Object(S.c)(li||(li=y()(["\n    cursor: pointer;\n  "]))),nudgeDescription:Object(S.c)(di||(di=y()(["\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 20px;\n    margin-top: var(--cds-spacing-50);\n  "]))),nudgeFooter:Object(S.c)(pi||(pi=y()(["\n    font-size: 14px;\n    font-weight: 600;\n    margin-top: var(--cds-spacing-200);\n    cursor: pointer;\n  "]))),nudgeArrow:Object(S.c)(gi||(gi=y()(["\n    padding-left: 10px;\n  "])))},Ki="user-education-nudge-displayed",components_AudioDubbingNudgeTooltip=function(e){var t=e.visible,n=void 0!==t&&t,i=e.languageCode,r=e.playerHasLoaded,a=e.trackVideoPlayerClickEvent,o=e.trackVideoPlayerViewEvent,s=e.onDubbedAudioChoiceClick,c=Object(w.useState)(!1),u=b()(c,2),l=u[0],d=u[1],p=Object(w.useState)(!1),g=b()(p,2),m=g[0],v=g[1],f=Ce.a.getItem(Ki,JSON.parse,!1),y=!n||l||f;Object(w.useEffect)((function(){!r||m||y||(o("video_audio_warning_tooltip",{}),v(!0))}),[m,y,r,o]);var C=i?getSubtitleLabel(i,!1):"",dismissNudge=function(){d(!0),Ce.a.setItem(Ki,!0,JSON.stringify)};return y?null:Object(S.d)(V.a,{container:!0,css:qi.nudgeContainer,onClick:function(e){return e.stopPropagation()},"data-testid":"user-education-nudge"},Object(S.d)(V.a,{item:!0,container:!0,xs:12},mi||(mi=Object(S.d)(V.a,{item:!0,xs:1},Object(S.d)(HeadsetSmall,null))),Object(S.d)(V.a,{item:!0,xs:10},Object(S.d)("div",{css:qi.nudgeTitle},Wi()("AI-dubbing available"))),Object(S.d)(V.a,{item:!0,xs:1,css:qi.nudgeClose,onClick:function(){a("video_audio_warning_tooltip_dismiss",{}),dismissNudge()},"data-testid":"nudge-close"},hi||(hi=Object(S.d)(CrosSvg,null)))),Object(S.d)(V.a,{item:!0,xs:12},Object(S.d)("div",{css:qi.nudgeDescription},Wi()("Switch your audio settings to #{languageString} for a better learning experience.",{languageString:C}))),Object(S.d)(V.a,{item:!0,container:!0,xs:12,css:qi.nudgeFooter,onClick:function(){if(i){var e={id:Object(ri.a)(i),label:Object(ri.a)(i),languageKey:i};s(e);var t,n={audioLanguage:i,audioLanguageEnabled:!0,previousAudioLanguage:"none"};if(Ui.a.get("subtitleLanguage")===Ni)a("video_audio_warning_tooltip_switch",h()({},n));else a("video_settings_menu_audio_language_option",h()(h()({},n),{},{previousSubtitleLanguage:Ui.a.get("subtitleLanguage"),subtitleLanguage:null!==(t=e.languageKey)&&void 0!==t?t:"none"}));dismissNudge()}},"data-testid":"nudge-footer"},Object(S.d)(V.a,{item:!0,xs:6},Object(S.d)("div",null,Wi()("Switch audio to #{languageString}",{languageString:C}))),Object(S.d)(V.a,{item:!0,xs:6,css:qi.nudgeArrow},vi||(vi=Object(S.d)(ArrowSvg,null)))))},Gi=["width","height"],svg_FullscreenExitSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,Gi);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"FullscreenExitSvg"}),bi||(bi=w.createElement("path",{d:"M7 21H4.66667C4.33611 21 4.05903 20.8882 3.83542 20.6646C3.61181 20.441 3.5 20.1639 3.5 19.8333C3.5 19.5028 3.61181 19.2257 3.83542 19.0021C4.05903 18.7785 4.33611 18.6667 4.66667 18.6667H8.16667C8.49722 18.6667 8.77431 18.7785 8.99792 19.0021C9.22153 19.2257 9.33333 19.5028 9.33333 19.8333V23.3333C9.33333 23.6639 9.22153 23.941 8.99792 24.1646C8.77431 24.3882 8.49722 24.5 8.16667 24.5C7.83611 24.5 7.55903 24.3882 7.33542 24.1646C7.11181 23.941 7 23.6639 7 23.3333V21ZM21 21V23.3333C21 23.6639 20.8882 23.941 20.6646 24.1646C20.441 24.3882 20.1639 24.5 19.8333 24.5C19.5028 24.5 19.2257 24.3882 19.0021 24.1646C18.7785 23.941 18.6667 23.6639 18.6667 23.3333V19.8333C18.6667 19.5028 18.7785 19.2257 19.0021 19.0021C19.2257 18.7785 19.5028 18.6667 19.8333 18.6667H23.3333C23.6639 18.6667 23.941 18.7785 24.1646 19.0021C24.3882 19.2257 24.5 19.5028 24.5 19.8333C24.5 20.1639 24.3882 20.441 24.1646 20.6646C23.941 20.8882 23.6639 21 23.3333 21H21ZM7 7V4.66667C7 4.33611 7.11181 4.05903 7.33542 3.83542C7.55903 3.61181 7.83611 3.5 8.16667 3.5C8.49722 3.5 8.77431 3.61181 8.99792 3.83542C9.22153 4.05903 9.33333 4.33611 9.33333 4.66667V8.16667C9.33333 8.49722 9.22153 8.77431 8.99792 8.99792C8.77431 9.22153 8.49722 9.33333 8.16667 9.33333H4.66667C4.33611 9.33333 4.05903 9.22153 3.83542 8.99792C3.61181 8.77431 3.5 8.49722 3.5 8.16667C3.5 7.83611 3.61181 7.55903 3.83542 7.33542C4.05903 7.11181 4.33611 7 4.66667 7H7ZM21 7H23.3333C23.6639 7 23.941 7.11181 24.1646 7.33542C24.3882 7.55903 24.5 7.83611 24.5 8.16667C24.5 8.49722 24.3882 8.77431 24.1646 8.99792C23.941 9.22153 23.6639 9.33333 23.3333 9.33333H19.8333C19.5028 9.33333 19.2257 9.22153 19.0021 8.99792C18.7785 8.77431 18.6667 8.49722 18.6667 8.16667V4.66667C18.6667 4.33611 18.7785 4.05903 19.0021 3.83542C19.2257 3.61181 19.5028 3.5 19.8333 3.5C20.1639 3.5 20.441 3.61181 20.6646 3.83542C20.8882 4.05903 21 4.33611 21 4.66667V7Z",fill:"white"}))))},Zi=["width","height"],svg_FullscreenSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,Zi);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"FullscreenSvg"}),fi||(fi=w.createElement("path",{d:"M5.83333 22.1667H8.16667C8.49722 22.1667 8.77431 22.2785 8.99792 22.5021C9.22153 22.7257 9.33333 23.0028 9.33333 23.3333C9.33333 23.6639 9.22153 23.941 8.99792 24.1646C8.77431 24.3882 8.49722 24.5 8.16667 24.5H4.66667C4.33611 24.5 4.05903 24.3882 3.83542 24.1646C3.61181 23.941 3.5 23.6639 3.5 23.3333V19.8333C3.5 19.5028 3.61181 19.2257 3.83542 19.0021C4.05903 18.7785 4.33611 18.6667 4.66667 18.6667C4.99722 18.6667 5.27431 18.7785 5.49792 19.0021C5.72153 19.2257 5.83333 19.5028 5.83333 19.8333V22.1667ZM22.1667 22.1667V19.8333C22.1667 19.5028 22.2785 19.2257 22.5021 19.0021C22.7257 18.7785 23.0028 18.6667 23.3333 18.6667C23.6639 18.6667 23.941 18.7785 24.1646 19.0021C24.3882 19.2257 24.5 19.5028 24.5 19.8333V23.3333C24.5 23.6639 24.3882 23.941 24.1646 24.1646C23.941 24.3882 23.6639 24.5 23.3333 24.5H19.8333C19.5028 24.5 19.2257 24.3882 19.0021 24.1646C18.7785 23.941 18.6667 23.6639 18.6667 23.3333C18.6667 23.0028 18.7785 22.7257 19.0021 22.5021C19.2257 22.2785 19.5028 22.1667 19.8333 22.1667H22.1667ZM5.83333 5.83333V8.16667C5.83333 8.49722 5.72153 8.77431 5.49792 8.99792C5.27431 9.22153 4.99722 9.33333 4.66667 9.33333C4.33611 9.33333 4.05903 9.22153 3.83542 8.99792C3.61181 8.77431 3.5 8.49722 3.5 8.16667V4.66667C3.5 4.33611 3.61181 4.05903 3.83542 3.83542C4.05903 3.61181 4.33611 3.5 4.66667 3.5H8.16667C8.49722 3.5 8.77431 3.61181 8.99792 3.83542C9.22153 4.05903 9.33333 4.33611 9.33333 4.66667C9.33333 4.99722 9.22153 5.27431 8.99792 5.49792C8.77431 5.72153 8.49722 5.83333 8.16667 5.83333H5.83333ZM22.1667 5.83333H19.8333C19.5028 5.83333 19.2257 5.72153 19.0021 5.49792C18.7785 5.27431 18.6667 4.99722 18.6667 4.66667C18.6667 4.33611 18.7785 4.05903 19.0021 3.83542C19.2257 3.61181 19.5028 3.5 19.8333 3.5H23.3333C23.6639 3.5 23.941 3.61181 24.1646 3.83542C24.3882 4.05903 24.5 4.33611 24.5 4.66667V8.16667C24.5 8.49722 24.3882 8.77431 24.1646 8.99792C23.941 9.22153 23.6639 9.33333 23.3333 9.33333C23.0028 9.33333 22.7257 9.22153 22.5021 8.99792C22.2785 8.77431 22.1667 8.49722 22.1667 8.16667V5.83333Z",fill:"white"}))))},Ji=t("cAeq"),Xi={modernTooltip:Object(S.c)(yi||(yi=y()(["\n    background-color: black;\n    opacity: 0.8;\n    border-radius: var(--cds-border-radius-100);\n  "]))),message:Object(S.c)(Ci||(Ci=y()(["\n    padding: 0 var(--cds-spacing-50);\n  "])))},components_ModernTooltipWrapper=function(e){var t=e.message,n=e.keyboardShortcut,i=e.secondaryKeyboardShortcut,r=e.placement,a=void 0===r?"top":r,o=e.className,s=void 0===o?"modern-tooltip-wrapper":o,c=e.offset,u=void 0===c?25:c,l=e.videoBoundaryElement,d=e.children,p=Object(S.d)(Zt.a,{component:"span",variant:"bodySecondary",color:"invertBody","data-testid":"modern-tooltip-message",css:Xi.message},t," ",n&&Object(S.d)("strong",null,"(",n,")"),i&&Object(S.d)(w.Fragment,null," ",Object(S.d)("strong",null,"(",i,")")));return Object(S.d)(Ji.c,{"data-testid":"modern-tooltip-wrapper",placement:a,tooltipClassName:s,message:p,tooltipCss:Xi.modernTooltip,offset:u,enableArrow:!1,boundaryElement:l,boundaryElementMargin:8},d)},Yi={isFullScreen:function(){var e=!1,t=document;return t.fullscreenElement?e=!!t.fullscreenElement:t.msFullscreenElement?e=!!t.msFullscreenElement:t.mozFullScreenElement?e=!!t.mozFullScreenElement:t.webkitIsFullScreen&&(e=t.webkitIsFullScreen),e},getFullScreenElement:function(){var e,t=document;return document.fullscreenElement?e=document.fullscreenElement:t.webkitCurrentFullScreenElement?e=t.webkitCurrentFullScreenElement:t.mozFullScreenElement?e=t.mozFullScreenElement:t.msCurrentFullScreenElement&&(e=t.msCurrentFullScreenElement),e},requestFullScreenExit:(Si=g()(d()().mark((function _callee(){var e,t;return d()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=document).exitFullscreen){n.next=7;break}return n.next=4,t.exitFullscreen();case 4:e=n.sent,n.next=20;break;case 7:if(!t.msExitFullscreen){n.next=13;break}return n.next=10,t.msExitFullscreen();case 10:e=n.sent,n.next=20;break;case 13:if(!t.mozExitFullScreen){n.next=19;break}return n.next=16,t.mozExitFullScreen();case 16:e=n.sent,n.next=20;break;case 19:e=t.webkitExitFullscreen?t.webkitExitFullscreen():"Fullscreen API is not supported";case 20:return n.abrupt("return",e);case 21:case"end":return n.stop()}}),_callee)}))),function(){return Si.apply(this,arguments)}),requestFullScreen:(ki=g()(d()().mark((function _callee2(e){var t;return d()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.requestFullscreen){n.next=6;break}return n.next=3,e.requestFullscreen();case 3:t=n.sent,n.next=7;break;case 6:t=e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():"Fullscreen API is not supported";case 7:return n.abrupt("return",t);case 8:case"end":return n.stop()}}),_callee2)}))),function(e){return ki.apply(this,arguments)})},$i={fullscreenToggleTooltipWrapper:Object(S.c)(wi||(wi=y()(["\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n\n    .rc-FullscreenToggle {\n      color: #dedede;\n    }\n  "])),I.a.down("xs")),modernFullScreenToggle:Object(S.c)(Oi||(Oi=y()(["\n    /* \n    Overriding videojs classname styling for ease of implementing the code for the experiment. The 'important' flag won't be\n    needed once the experiment is rolled out and className are removed\n    */\n    margin-right: var(--cds-spacing-100) !important;\n  "])))};var er,tr,nr,components_FullscreenToggle=function(e){var t=e.videoBoundaryElement,n=e.onChangeFullScreen,i=Yi.isFullScreen(),r=i?Wi()("Exit full Screen"):Wi()("Full Screen"),a=i?xi||(xi=Object(S.d)(svg_FullscreenExitSvg,{width:28,height:28})):ji||(ji=Object(S.d)(svg_FullscreenSvg,{width:28,height:28}));return Object(S.d)(components_ModernTooltipWrapper,{className:"fullscreen-toggle-tooltip-wrapper",placement:"top",message:r,keyboardShortcut:"f",css:$i.fullscreenToggleTooltipWrapper,videoBoundaryElement:t},Object(S.d)("button",{type:"button",onClick:function(){n(i)},className:Nt()("rc-FullscreenToggle","vjs-button","c-vjs-button","vjs-control","c-video-control","c-fullscreen-control","horizontal-box","align-items-absolute-center"),"aria-label":r,"aria-expanded":i,css:$i.modernFullScreenToggle},Object(S.d)(w.Fragment,null,a),Object(S.d)("span",{className:"vjs-control-text"}," ",r," ")))},ir=t("umpP"),rr={fullscreenToggleTooltipWrapper:Object(S.c)(er||(er=y()(["\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n\n    .rc-FullscreenToggle {\n      color: #dedede;\n    }\n  "])),I.a.down("xs"))};var ar,or,sr,cr,ur,lr,dr,pr,gr,mr,hr,vr,br,fr,yr,Cr,kr,Sr,wr,Or,xr,jr,Tr,Er,Ir,Pr,Vr,_r,Lr,Mr,Nr,Fr,Dr,Rr,Ar,Hr,Br,zr,Ur,Qr,Wr,qr,Kr,Gr,Zr,Jr,Xr,Yr,$r,ea,ta,na,ia,ra,aa,oa,sa,ca,ua,la,da,pa,ga,ma,ha,va,ba,fa,ya,Ca,ka,Sa,wa,Oa,xa,ja,Ta,Ea,Ia,Pa,Va,_a,La,Ma,Na,Fa,Da,Ra,Aa,Ha,Ba,components_IosFullscreenToggle=function(e){var t=e.player,n=e.trackVideoPlayerClickEvent,i=t.isFullscreen(),r=i?Wi()("Exit full Screen"):Wi()("Full Screen"),a=i?tr||(tr=Object(S.d)(svg_FullscreenExitSvg,{width:28,height:28})):nr||(nr=Object(S.d)(svg_FullscreenSvg,{width:28,height:28}));return Object(S.d)(ir.a,{className:"fullscreen-toggle-tooltip-wrapper",placement:"top",message:r,css:rr.fullscreenToggleTooltipWrapper},Object(S.d)("button",{type:"button",onClick:function(){i?t.exitFullscreen():t.requestFullscreen(),n("video_full_screen",{fullscreen:!i})},className:Nt()("rc-FullscreenToggle","vjs-button","c-vjs-button","vjs-control","c-video-control","c-fullscreen-control","horizontal-box","align-items-absolute-center"),"aria-label":r,"aria-expanded":i},Object(S.d)(w.Fragment,null,a),Object(S.d)("span",{className:"vjs-control-text"}," ",r," ")))},svg_SVGWrapper=function(e){var t=e.children,n=e.width,i=void 0===n?36:n,r=e.height,a=void 0===r?36:r;return(w.createElement("div",{style:{width:i,height:a,display:"flex",alignItems:"center",justifyContent:"center"}},t))},za={playToggleTooltipWrapper:Object(S.c)(ar||(ar=y()(["\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n\n    // extra scope needed right now to override vjs style\n    .rc-PlayToggle {\n      position: relative;\n      text-align: center;\n      margin-top: 0;\n      margin-left: 1em;\n      margin-right: 0;\n      padding: 0;\n      color: #dedede;\n      height: 100%;\n      width: 3em;\n      flex: none;\n\n      .cif-play {\n        font-size: 1.6em;\n      }\n\n      .cif-pause {\n        font-size: 1.6em;\n      }\n    }\n  "])),I.a.down("xs"))},Ua=function(e){function PlayToggle(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={isPlaying:!1},t.onPlay=function(){var e,n;t.setState({isPlaying:!0}),t.props.isDubbingAvailable&&(null===(e=t.props)||void 0===e||null===(n=e.trackVideoPlayerInteractionEvent)||void 0===n||n.call(e,"play",{}))},t.onPause=function(){var e,n;t.setState({isPlaying:!1}),t.props.isDubbingAvailable&&(null===(e=t.props)||void 0===e||null===(n=e.trackVideoPlayerInteractionEvent)||void 0===n||n.call(e,"pause",{}))},t.onEnded=function(){t.triggerVideoEndEvent()},t.togglePlaying=function(){var e=t.state.isPlaying,n=t.props,i=n.player,r=n.trackVideoPlayerClickEvent;e?(i.pause(),r("video_pause",{})):(i.play(),r("video_play",{}))},t}Lt()(PlayToggle,e);var t=PlayToggle.prototype;return t.triggerVideoEndEvent=function(){var e,t;this.props.isDubbingAvailable&&(null===(e=this.props)||void 0===e||null===(t=e.trackVideoPlayerInteractionEvent)||void 0===t||t.call(e,"end",{}))},t.componentDidMount=function(){var e=this.props.player;this.setState({isPlaying:!e.paused()}),e.on("play",this.onPlay),e.on("pause",this.onPause),e.on("ended",this.onEnded)},t.componentWillUnmount=function(){var e=this.props.player;e.off("play",this.onPlay),e.off("pause",this.onPause),e.off("ended",this.onEnded),this.triggerVideoEndEvent()},t.render=function(){var e=this.state.isPlaying,t=this.props.videoBoundaryElement,n=e?Wi()("Pause"):Wi()("Play"),i=n;return Object(S.d)(components_ModernTooltipWrapper,{css:za.playToggleTooltipWrapper,className:"play-toggle-tooltip-wrapper",placement:"top",message:i,videoBoundaryElement:t,keyboardShortcut:"spacebar",offset:20},Object(S.d)("button",{type:"button",onClick:this.togglePlaying,className:Nt()("rc-PlayToggle"),"aria-label":n,"aria-disabled":!1},Object(S.d)(w.Fragment,null,Object(S.d)(svg_SVGWrapper,null,e?or||(or=Object(S.d)(svg_PauseSvg,{width:28,height:28})):sr||(sr=Object(S.d)(svg_PlayArrowSvg,{width:36,height:36})))),Object(S.d)("span",{className:"vjs-control-text"}," ",n," ")))},PlayToggle}(w.Component),Qa=Ua,Wa={playbackRateControl:Object(S.c)(cr||(cr=y()(["\n    margin-right: var(--cds-spacing-200);\n  "]))),indicatorText:Object(S.c)(ur||(ur=y()(["\n    font-weight: bold;\n    font-size: var(--cds-font-size-300);\n  "])))},components_PlaybackRateControl=function(e){var t=e.currentPlaybackRate,n=e.onPlaybackRateClick,i=e.videoBoundaryElement,r=e.trackVideoPlayerClickEvent;return Object(S.d)(components_ModernTooltipWrapper,{placement:"top",message:Wi()("Switch Playback Rate"),keyboardShortcut:"<",secondaryKeyboardShortcut:">",videoBoundaryElement:i,offset:22},Object(S.d)("button",{"aria-label":Wi()("Video playback rate switcher"),type:"button",onClick:function(){if(t){var e=(Di.indexOf(t)+1)%Di.length,i=Di[e];i&&t&&r("video_playback_rate_switcher",{playbackRate:i,previousPlaybackRate:t}),n(i)}},css:Wa.playbackRateControl},Object(S.d)(Zt.a,{component:"span",variant:"titleSmall",color:"invertBody",css:Wa.indicatorText},t,"x")))},qa={seekButton:Object(S.c)(lr||(lr=y()(["\n    margin-left: var(--cds-spacing-200);\n  "]))),right:Object(S.c)(dr||(dr=y()(["\n    margin-right: auto;\n  "])))},SeekControls_SeekButton=function(e){var t=e.direction,n=e.seekTime,i=e.player,r=e.icon,a=e.label,o=e.videoBoundaryElement,s=e.tooltipMessage,c=e.keyboardShortcut,u=e.trackVideoPlayerClickEvent,l=VideoTrimmingContext_useVideoTrimmingContext(),d=l.trimmedStartTimeSeconds,p=l.trimmedEndTimeSeconds,g=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext(),m=g.shouldDisableSkippingForward,h=g.learnerMaxVideoProgressInSeconds,v=g.setShowVideoSkippingDisabledNotification;return Object(S.d)(components_ModernTooltipWrapper,{placement:"top",message:s,videoBoundaryElement:o,keyboardShortcut:c},Object(S.d)("button",{"aria-label":a,type:"button",onClick:function(){var e=i.currentTime(),r=e+t*n;r<d&&(r=d),p&&r>p&&(r=p),t>0&&m&&r>h?v(!0):(e&&u(t>0?"video_seek_forward":"video_seek_backward",{videoPosition:r,previousVideoPosition:e}),i.currentTime(r))},css:qa.seekButton},r))},SeekControls_SeekForwardControl=function(e){var t=e.player,n=e.videoBoundaryElement,i=e.trackVideoPlayerClickEvent;return Object(S.d)(SeekControls_SeekButton,{label:Wi()("Seek Video Forward 10 seconds"),player:t,seekTime:10,direction:1,icon:pr||(pr=Object(S.d)(svg_Forward10Svg,{width:28,height:28})),videoBoundaryElement:n,tooltipMessage:Wi()("Forward 10s"),keyboardShortcut:"right",trackVideoPlayerClickEvent:i})},SeekControls_SeekBackwardControl=function(e){var t=e.player,n=e.videoBoundaryElement,i=e.trackVideoPlayerClickEvent;return Object(S.d)(SeekControls_SeekButton,{label:Wi()("Seek Video Backward 10 seconds"),player:t,seekTime:10,direction:-1,icon:gr||(gr=Object(S.d)(svg_Replay10Svg,{width:28,height:28})),videoBoundaryElement:n,tooltipMessage:Wi()("Backward 10s"),keyboardShortcut:"left",trackVideoPlayerClickEvent:i})},Ka={videoTimeDisplay:Object(S.c)(mr||(mr=y()(["\n    height: 100%;\n    margin-right: auto;\n    margin-left: 10px;\n    color: #dedede;\n    white-space: nowrap;\n\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n  "])),I.a.down("xs")),modernVideoTimeDisplay:Object(S.c)(hr||(hr=y()(["\n    margin-left: var(--cds-spacing-200);\n    margin-right: 0;\n    height: auto;\n  "]))),currentTimeDisplay:Object(S.c)(vr||(vr=y()(["\n    font-size: 14px;\n  "]))),timeSeparator:Object(S.c)(br||(br=y()(["\n    font-size: 14px;\n    margin: 0 8px;\n  "]))),durationDisplay:Object(S.c)(fr||(fr=y()(["\n    font-size: 14px;\n  "])))},Ga=function(e){function VideoTimeDisplay(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={currentTime:null,duration:null},t.getCurrentTime=function(){var e=t.props,n=e.trimmedStartTimeSeconds;return e.player.currentTime()-n},t.onTimeChange=function(){t.setState({currentTime:t.getCurrentTime()})},t.onDurationChange=function(){var e=t.props.player;t.setState({duration:e.duration()})},t.convertSecondsToDisplay=function(e,t){if(!e||e<0)return t?"0 minutes 0 seconds":"0:00";var n="".concat(Math.floor(e/60)),i="".concat(Math.floor(e%60)).padStart(2,"0");return t?"".concat(n," minutes ").concat(i," seconds"):"".concat(n,":").concat(i)},t}Lt()(VideoTimeDisplay,e);var t=VideoTimeDisplay.prototype;return t.componentDidMount=function(){var e=this.props.player;this.setState({currentTime:this.getCurrentTime(),duration:e.duration()}),e.on("timeupdate",this.onTimeChange),e.on("durationchange",this.onDurationChange)},t.componentWillUnmount=function(){var e=this.props.player;e.off("timeupdate",this.onTimeChange),e.off("durationchange",this.onDurationChange)},t.render=function(){var e=this.state,t=e.currentTime,n=e.duration;return null==t||null==n?null:Object(S.d)(w.Fragment,null,Object(S.d)("div",{css:[Ka.videoTimeDisplay,Ka.modernVideoTimeDisplay]},Object(S.d)(Zt.a,{component:"span",variant:"subtitleLarge",color:"invertBody"},Object(S.d)("span",{className:"current-time-display","aria-label":Wi()(this.convertSecondsToDisplay(t,!0))},this.convertSecondsToDisplay(t)),yr||(yr=Object(S.d)("span",{className:"time-separator"}," / ")),Object(S.d)("span",{className:"duration-display","aria-label":Wi()(this.convertSecondsToDisplay(n,!0))},this.convertSecondsToDisplay(n)))))},VideoTimeDisplay}(w.Component),Za=Ga,Ja={namespace:{app:"open_course",page:"video"}},useAutoplayToggle_useAutoplayToggle=function(e){var t=e.subscribeToAutoplayChanges,n=e.unsubscribeFromAutoplayChanges,i=e.triggerAutoplayChangePlayerEvent,r=Object(w.useState)(Ui.a.get("autoplay")),a=b()(r,2),o=a[0],s=a[1];Object(w.useEffect)((function(){var updateAutoplayUi=function(){return s(Ui.a.get("autoplay"))};return t(updateAutoplayUi),function(){n(updateAutoplayUi)}}),[t,n,i]);return{autoplay:o,handleToggleSwitchClick:function(){var e=!o;s(e),Ui.a.set("autoplay",e),i(),function(e){var t={autoplay:e};Qn.a.trackComponent(Ja,t,"autoplay_toggle_standalone","click")}(e)}}},videoUtils_getDefaultVideoResolution=function(){return Fi.includes(Ae.a.requestCountryCode)?"360p":"540p"},videoUtils_formatSourcesByResolution=function(e){var t={};return Object.entries(e).forEach((function(e){var n=b()(e,2),i=n[0],r=n[1];t[i]=Object.entries(r).map((function(e){var t=b()(e,2);return{type:t[0],src:t[1]}}))})),t},videoUtils_getEventingDubbingLanguage=function(e,t){return t?e===t?Ni:t:Ni},loadNewSrc=function(e){var t=e.player,n=e.type,i=e.src,r=e.onLoadedMetadata,a=t.paused(),o=t.currentTime(),s=t.playbackRate();t.one("loadedmetadata",(function(){r?r():function(e){var t=e.player,n=e.currentTime,i=e.playbackRate,r=e.isPaused;t.currentTime(n),t.playbackRate(i);var a=Ui.a.get("autoplay");r&&!a?t.pause():t.play()}({player:t,currentTime:o,playbackRate:s,isPaused:a})})),t.src({src:i,type:n})},videoUtils_getVideoClassNames=function(e){return Nt()("vjs-react","c-video",{"vjs-fluid":"fluid"===e},"vjs-circle-play-centered","vjs-coursera-skin","vjs-coursera-phoenix-skin","video-js",{"vjs-fill":"fill"===e})},Xa=["234p","240p","270p","360p","540p","720p","1080p","auto"],getInitialResolution=function(e){var t=e.sourcesByResolution,n=e.enableHlsExperiment,i=e.isAutoAllowed,r=Object.keys(null!=t?t:{}).sort((function(e,t){return parseInt(t,10)-parseInt(e,10)})),a=function(e){var t=e.enableHlsExperiment,n=e.isAutoAllowed,i=void 0===n||n,r=videoUtils_getDefaultVideoResolution(),a=Ui.a.get("resolution"),o=Xa.includes(a)?a:r;if(t){var s=Ui.a.get("hlsResolution");o=Xa.includes(s)?s:"auto"}return i||"auto"!==o||(o=r),o}({enableHlsExperiment:!!n,isAutoAllowed:i});return"auto"===a?a:t[a]?a:r[0]},resolutionUtils_saveResolutionInUserPreferences=function(e){Ui.a.set("resolution",e),Ui.a.set("hlsResolution",e)},Ya=t("Y3SK"),$a=t.n(Ya),eo=t("9pRD"),to=t("z6VC"),no=(t("dl6a"),{FR:["fr"],BE:["fr"],CA:["fr"],CH:["fr","de"],LU:["fr","de"],DE:["de"],AT:["de"],LI:["de"],ES:["es"],AR:["es"],BO:["es"],CL:["es"],CO:["es"],CR:["es"],CU:["es"],DO:["es"],EC:["es"],SV:["es"],GQ:["es"],GT:["es"],HN:["es"],MX:["es"],NI:["es"],PA:["es"],PY:["es"],PE:["es"],PR:["es"],UY:["es"],VE:["es"],BR:["pt-br"]}),dubbingUtil_getAudienceLanguageFromCountryCode=function(e){var t=to.a.get(),n=no[t];if(!Array.isArray(n)||!e)return null;var i,r=e.map((function(e){return e.languageCode})),a=$a()(n);try{for(a.s();!(i=a.n()).done;){var o,s=i.value,c=$a()(r);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(Object(He.getLanguageMatch)(s,u))return s}}catch(e){c.e(e)}finally{c.f()}}}catch(e){a.e(e)}finally{a.f()}return null},dubbingUtil_getAudienceLanguageFromBrowserLanguage=function(e){var t,n,i=null===(t=eo.a.get())||void 0===t?void 0:t.browserLanguage;return i&&null!=e&&null!==(n=e.map((function(e){return e.languageCode})))&&void 0!==n&&n.some((function(e){return Object(He.getLanguageMatch)(e,i)}))?i:null},transformDubbedSources=function(e){return Object.values(e).map((function(e){return{languageCode:e}}))},useSubtitleMenuControls_useSubtitleMenuControls=function(e){var t=e.player,n=e.defaultSubtitleLanguage,i=e.trackVideoPlayerClickEvent,r=e.selectedAudioLanguage,a=e.defaultLanguageKey,o=e.shouldShowNudgeOnSubtitleChange,s=Object(w.useState)(null),c=b()(s,2),u=c[0],l=c[1],d=(null==r?void 0:r.languageKey)!==a,p=Object(w.useState)([]),g=b()(p,2),m=g[0],h=g[1],v=Object(w.useCallback)((function(e){for(var n=t.textTracks().tracks_,i=0;i<n.length;i+=1){var r=n[i];"captions"!==r.kind||r.label!==e.label||r.id.includes("-dub")?r.mode="disabled":r.mode="showing"}}),[t]),f=Object(w.useCallback)((function(e){for(var n=t.textTracks().tracks_,i=0;i<n.length;i+=1){var r=n[i];"captions"===r.kind&&r.label===e.label&&r.id.includes("-dub")?r.mode="showing":r.mode="disabled"}}),[t]),y=Object(w.useCallback)((function(){var e=((null==t?void 0:t.textTracks())||{}).tracks_,n=void 0===e?[]:e,i=n.filter((function(e){return e.id.includes("-dub")})).filter((function(e){return e.language===(null==r?void 0:r.languageKey)})),o=n.filter((function(e){return"captions"===e.kind&&!e.id.includes("-dub")})).sort((function(e,t){var n=e.label.toUpperCase(),i=t.label.toUpperCase();return n<i?-1:n>i?1:0}));return(null==r?void 0:r.languageKey)!==a?i:o}),[t,null==r?void 0:r.languageKey,a]),onSubtitleLanguageChoiceClick=function(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u&&(u.mode="disabled"),d?Ui.a.set("dubbedSubtitleLanguage",e?e.language:"none"):Ui.a.set("subtitleLanguage",e?e.language:"none"),n||i("video_subtitle_option",{previousSubtitleLanguage:Ui.a.get("subtitleLanguage"),subtitleLanguage:e.language}),a?f(e):v(e),l(e),null==o||o(e.language),t.trigger("trackchange"),t.trigger("subtitleschange",{previousLanguage:null!==(r=null==u?void 0:u.language)&&void 0!==r?r:""})};Object(w.useEffect)((function(){var getCurrentTrack=function(){return t.textTracks().tracks_.find((function(e){return"showing"===e.mode}))||null},onTrackChange=function(){l(getCurrentTrack())},onTrackLoad=function(){var e,i=t.textTracks().tracks_.find((function(e){return e.language===n}))||null,r=getCurrentTrack();!r&&i&&v(i),null==o||o(null!==(e=null==r?void 0:r.language)&&void 0!==e?e:""),l(r),h(y())};return t.on("trackchange",onTrackChange),t.on("trackloaded",onTrackLoad),function(){t.off("trackchange",onTrackChange),t.off("trackloaded",onTrackLoad)}}),[u,n,y,t,v,o]);var onSubtitleOffClick=function(e){var n;u&&(u.mode="disabled"),e?Ui.a.set("dubbedSubtitleLanguage","none"):Ui.a.set("subtitleLanguage","none"),l(null),t.trigger("trackchange"),t.trigger("subtitleschange",{previousLanguage:null!==(n=null==u?void 0:u.language)&&void 0!==n?n:""})};return function(e){var t=e.getTracks,n=e.defaultLanguageKey,i=e.onSubtitleOffClick,r=e.isDubbedAudioEnabled,a=e.onSubtitleLanguageChoiceClick,o=e.player,s=Object(Be.b)(),c=s.changeSubtitleOnAudioChange,u=s.setChangeSubtitleOnAudioChange;Object(w.useEffect)((function(){if(c.shouldChange){var e=Ui.a.get("subtitleLanguage"),r=t().find((function(t){return t.language===e}));if(c.languageCode===n){if(!r||"none"===e)return void(null==i||i());null==a||a(r,!0,!1)}else{if(!e||"none"===e)return;var o=t().find((function(e){return e.language===c.languageCode}));if(!o)return;null==a||a(o,!0,!0)}u({shouldChange:!1,languageCode:void 0})}}),[c.languageCode,c.shouldChange,n,t,a,i,u]),Object(w.useEffect)((function(){o.on("loadedmetadata",(function(){if(r){var e=Ui.a.get("dubbedSubtitleLanguage");if(e){var n=t().find((function(t){return t.language===e}));n&&(null==a||a(n,!0,!0))}}}))}),[r,t,o])}({getTracks:y,defaultLanguageKey:a,onSubtitleOffClick:onSubtitleOffClick,isDubbedAudioEnabled:d,onSubtitleLanguageChoiceClick:onSubtitleLanguageChoiceClick,player:t}),{onSubtitleLanguageChoiceClick:onSubtitleLanguageChoiceClick,onSubtitleOffClick:onSubtitleOffClick,currentTrack:u,tracks:m}},io=t("OsBQ"),ro=["width","height"],Headset=function(e){var t=e.width,n=void 0===t?24:t,i=e.height,r=void 0===i?24:i,a=Ot()(e,ro);return(w.createElement("svg",u()({xmlns:"http://www.w3.org/2000/svg",width:n,height:r,fill:"none",viewBox:"0 0 18 20"},a),Cr||(Cr=w.createElement("path",{d:"M16 13.5V16.5C16 17.05 15.55 17.5 15 17.5H14V13.5H16ZM4 13.5V17.5H3C2.45 17.5 2 17.05 2 16.5V13.5H4ZM9 0.5C4.03 0.5 0 4.53 0 9.5V16.5C0 18.16 1.34 19.5 3 19.5H6V11.5H2V9.5C2 5.63 5.13 2.5 9 2.5C12.87 2.5 16 5.63 16 9.5V11.5H12V19.5H15C16.66 19.5 18 18.16 18 16.5V9.5C18 4.53 13.97 0.5 9 0.5Z",fill:"white"}))))},ao=["width","height"],svg_HighQualitySvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,ao);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),kr||(kr=w.createElement("path",{d:"M14.75 15V15.75C14.75 15.9667 14.8208 16.1458 14.9625 16.2875C15.1042 16.4292 15.2833 16.5 15.5 16.5C15.7167 16.5 15.8958 16.4292 16.0375 16.2875C16.1792 16.1458 16.25 15.9667 16.25 15.75V15H17C17.2833 15 17.5208 14.9042 17.7125 14.7125C17.9042 14.5208 18 14.2833 18 14V10C18 9.71667 17.9042 9.47917 17.7125 9.2875C17.5208 9.09583 17.2833 9 17 9H14C13.7167 9 13.4792 9.09583 13.2875 9.2875C13.0958 9.47917 13 9.71667 13 10V14C13 14.2833 13.0958 14.5208 13.2875 14.7125C13.4792 14.9042 13.7167 15 14 15H14.75ZM7.5 13H9.5V14.25C9.5 14.4667 9.57083 14.6458 9.7125 14.7875C9.85417 14.9292 10.0333 15 10.25 15C10.4667 15 10.6458 14.9292 10.7875 14.7875C10.9292 14.6458 11 14.4667 11 14.25V9.75C11 9.53333 10.9292 9.35417 10.7875 9.2125C10.6458 9.07083 10.4667 9 10.25 9C10.0333 9 9.85417 9.07083 9.7125 9.2125C9.57083 9.35417 9.5 9.53333 9.5 9.75V11.5H7.5V9.75C7.5 9.53333 7.42917 9.35417 7.2875 9.2125C7.14583 9.07083 6.96667 9 6.75 9C6.53333 9 6.35417 9.07083 6.2125 9.2125C6.07083 9.35417 6 9.53333 6 9.75V14.25C6 14.4667 6.07083 14.6458 6.2125 14.7875C6.35417 14.9292 6.53333 15 6.75 15C6.96667 15 7.14583 14.9292 7.2875 14.7875C7.42917 14.6458 7.5 14.4667 7.5 14.25V13ZM14.5 13.5V10.5H16.5V13.5H14.5ZM4 20C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H20C20.55 4 21.0208 4.19583 21.4125 4.5875C21.8042 4.97917 22 5.45 22 6V18C22 18.55 21.8042 19.0208 21.4125 19.4125C21.0208 19.8042 20.55 20 20 20H4ZM4 18H20V6H4V18Z",fill:"white"}))))},oo=["width","height"],svg_PlayCircleSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,oo);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Sr||(Sr=w.createElement("path",{d:"M10.65 15.75L15.525 12.625C15.7583 12.475 15.875 12.2667 15.875 12C15.875 11.7333 15.7583 11.525 15.525 11.375L10.65 8.25C10.4 8.08333 10.1458 8.07083 9.8875 8.2125C9.62917 8.35417 9.5 8.575 9.5 8.875V15.125C9.5 15.425 9.62917 15.6458 9.8875 15.7875C10.1458 15.9292 10.4 15.9167 10.65 15.75ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z",fill:"white"}))))},so=["width","height"],svg_PlaybackSpeedSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,so);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),wr||(wr=w.createElement("path",{d:"M10.65 15.7499L15.525 12.6249C15.7583 12.4749 15.875 12.2666 15.875 11.9999C15.875 11.7333 15.7583 11.5249 15.525 11.3749L10.65 8.24992C10.4 8.08326 10.1458 8.07076 9.8875 8.21242C9.62916 8.35409 9.5 8.57493 9.5 8.87493V15.1249C9.5 15.4249 9.62916 15.6458 9.8875 15.7874C10.1458 15.9291 10.4 15.9166 10.65 15.7499ZM3.025 12.9999C3.30833 12.9999 3.5625 13.0916 3.7875 13.2749C4.0125 13.4583 4.16666 13.6916 4.25 13.9749C4.35 14.3583 4.47083 14.7208 4.6125 15.0624C4.75416 15.4041 4.91666 15.7416 5.1 16.0749C5.25 16.3249 5.3125 16.5916 5.2875 16.8749C5.2625 17.1583 5.15 17.3999 4.95 17.5999C4.76666 17.7833 4.54166 17.8666 4.275 17.8499C4.00833 17.8333 3.8 17.7166 3.65 17.4999C3.28333 16.9833 2.975 16.4291 2.725 15.8374C2.475 15.2458 2.28333 14.6333 2.15 13.9999C2.1 13.7333 2.1625 13.4999 2.3375 13.2999C2.5125 13.0999 2.74166 12.9999 3.025 12.9999ZM4.95 6.39992C5.15 6.59992 5.25833 6.84159 5.275 7.12492C5.29166 7.40826 5.23333 7.66659 5.1 7.89992C4.91666 8.23326 4.75416 8.57493 4.6125 8.92493C4.47083 9.27493 4.35 9.64159 4.25 10.0249C4.16666 10.3083 4.0125 10.5416 3.7875 10.7249C3.5625 10.9083 3.30833 10.9999 3.025 10.9999C2.74166 10.9999 2.5125 10.8958 2.3375 10.6874C2.1625 10.4791 2.10833 10.2416 2.175 9.97493C2.30833 9.34159 2.5 8.72909 2.75 8.13742C3 7.54576 3.3 6.99159 3.65 6.47492C3.8 6.25826 4.00833 6.14576 4.275 6.13742C4.54166 6.12909 4.76666 6.21659 4.95 6.39992ZM6.35 19.0249C6.55 18.8083 6.79583 18.6916 7.0875 18.6749C7.37916 18.6583 7.65 18.7249 7.9 18.8749C8.23333 19.0583 8.57083 19.2249 8.9125 19.3749C9.25416 19.5249 9.60833 19.6499 9.975 19.7499C10.2583 19.8333 10.4917 19.9833 10.675 20.1999C10.8583 20.4166 10.95 20.6666 10.95 20.9499C10.95 21.2333 10.8458 21.4583 10.6375 21.6249C10.4292 21.7916 10.1917 21.8499 9.925 21.7999C9.29166 21.6666 8.69583 21.4749 8.1375 21.2249C7.57916 20.9749 7.03333 20.6833 6.5 20.3499C6.26666 20.1999 6.1375 19.9916 6.1125 19.7249C6.0875 19.4583 6.16666 19.2249 6.35 19.0249ZM11 3.04992C11 3.33326 10.9125 3.58326 10.7375 3.79992C10.5625 4.01659 10.3333 4.16659 10.05 4.24992C9.66666 4.34992 9.3 4.47076 8.95 4.61242C8.6 4.75409 8.25833 4.92492 7.925 5.12492C7.675 5.27492 7.40416 5.33742 7.1125 5.31242C6.82083 5.28742 6.575 5.17492 6.375 4.97492C6.175 4.77492 6.0875 4.53742 6.1125 4.26242C6.1375 3.98742 6.26666 3.77492 6.5 3.62492C7.03333 3.29159 7.5875 3.00409 8.1625 2.76242C8.7375 2.52076 9.34166 2.33326 9.975 2.19992C10.2417 2.14992 10.4792 2.20826 10.6875 2.37492C10.8958 2.54159 11 2.76659 11 3.04992ZM20 11.9999C20 10.1166 19.4208 8.45409 18.2625 7.01242C17.1042 5.57076 15.625 4.63326 13.825 4.19992C13.575 4.13326 13.375 3.99159 13.225 3.77492C13.075 3.55826 13 3.31659 13 3.04992C13 2.78326 13.0917 2.56242 13.275 2.38742C13.4583 2.21242 13.6667 2.14992 13.9 2.19992C16.2333 2.66659 18.1667 3.80826 19.7 5.62492C21.2333 7.44159 22 9.56659 22 11.9999C22 14.4333 21.2333 16.5583 19.7 18.3749C18.1667 20.1916 16.2333 21.3333 13.9 21.7999C13.6667 21.8499 13.4583 21.7874 13.275 21.6124C13.0917 21.4374 13 21.2166 13 20.9499C13 20.6833 13.075 20.4416 13.225 20.2249C13.375 20.0083 13.575 19.8666 13.825 19.7999C15.625 19.3666 17.1042 18.4291 18.2625 16.9874C19.4208 15.5458 20 13.8833 20 11.9999Z",fill:"white"}))))},co=["width","height"],svg_SubtitlesSvg=function(e){var t=e.width,n=void 0===t?18:t,i=e.height,r=void 0===i?19:i,a=Ot()(e,co);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"SubtitlesSvg"}),Or||(Or=w.createElement("path",{d:"M4.66683 23.3332C4.02516 23.3332 3.47586 23.1047 3.01891 22.6478C2.56197 22.1908 2.3335 21.6415 2.3335 20.9998V6.99984C2.3335 6.35817 2.56197 5.80887 3.01891 5.35192C3.47586 4.89498 4.02516 4.6665 4.66683 4.6665H23.3335C23.9752 4.6665 24.5245 4.89498 24.9814 5.35192C25.4384 5.80887 25.6668 6.35817 25.6668 6.99984V20.9998C25.6668 21.6415 25.4384 22.1908 24.9814 22.6478C24.5245 23.1047 23.9752 23.3332 23.3335 23.3332H4.66683ZM4.66683 20.9998H23.3335V6.99984H4.66683V20.9998ZM8.16683 18.6665H15.1668C15.4974 18.6665 15.7745 18.5547 15.9981 18.3311C16.2217 18.1075 16.3335 17.8304 16.3335 17.4998C16.3335 17.1693 16.2217 16.8922 15.9981 16.6686C15.7745 16.445 15.4974 16.3332 15.1668 16.3332H8.16683C7.83627 16.3332 7.55919 16.445 7.33558 16.6686C7.11197 16.8922 7.00016 17.1693 7.00016 17.4998C7.00016 17.8304 7.11197 18.1075 7.33558 18.3311C7.55919 18.5547 7.83627 18.6665 8.16683 18.6665ZM12.8335 13.9998H19.8335C20.1641 13.9998 20.4411 13.888 20.6647 13.6644C20.8884 13.4408 21.0002 13.1637 21.0002 12.8332C21.0002 12.5026 20.8884 12.2255 20.6647 12.0019C20.4411 11.7783 20.1641 11.6665 19.8335 11.6665H12.8335C12.5029 11.6665 12.2259 11.7783 12.0022 12.0019C11.7786 12.2255 11.6668 12.5026 11.6668 12.8332C11.6668 13.1637 11.7786 13.4408 12.0022 13.6644C12.2259 13.888 12.5029 13.9998 12.8335 13.9998ZM8.16683 13.9998C8.49738 13.9998 8.77447 13.888 8.99808 13.6644C9.22169 13.4408 9.3335 13.1637 9.3335 12.8332C9.3335 12.5026 9.22169 12.2255 8.99808 12.0019C8.77447 11.7783 8.49738 11.6665 8.16683 11.6665C7.83627 11.6665 7.55919 11.7783 7.33558 12.0019C7.11197 12.2255 7.00016 12.5026 7.00016 12.8332C7.00016 13.1637 7.11197 13.4408 7.33558 13.6644C7.55919 13.888 7.83627 13.9998 8.16683 13.9998ZM19.8335 18.6665C20.1641 18.6665 20.4411 18.5547 20.6647 18.3311C20.8884 18.1075 21.0002 17.8304 21.0002 17.4998C21.0002 17.1693 20.8884 16.8922 20.6647 16.6686C20.4411 16.445 20.1641 16.3332 19.8335 16.3332C19.5029 16.3332 19.2259 16.445 19.0022 16.6686C18.7786 16.8922 18.6668 17.1693 18.6668 17.4998C18.6668 17.8304 18.7786 18.1075 19.0022 18.3311C19.2259 18.5547 19.5029 18.6665 19.8335 18.6665Z",fill:"white"}))))},uo={menuIconContainer:Object(S.c)(xr||(xr=y()(["\n    display: flex;\n    align-items: center;\n    width: 28px;\n    height: 28px;\n    justify-content: center;\n  "]))),buttonFocus:Object(S.c)(jr||(jr=y()(["\n    &:focus-visible {\n      outline: 2px solid #79f;\n      outline-offset: -1px;\n    }\n  "]))),menuItem:Object(S.c)(Tr||(Tr=y()(["\n    && {\n      background-color: transparent;\n      width: 100%;\n      display: flex;\n      align-items: center;\n      gap: var(--cds-spacing-150);\n      padding: var(--cds-spacing-100) var(--cds-spacing-200);\n\n      &:hover {\n        background-color: rgb(255 255 255 / 12%);\n        color: var(--cds-color-neutral-primary-invert);\n      }\n    }\n  "]))),menuItemTitle:Object(S.c)(Er||(Er=y()(["\n    flex: 1;\n    display: flex;\n    justify-content: flex-start;\n    text-align: left;\n  "]))),lastMenuItem:Object(S.c)(Ir||(Ir=y()(["\n    padding-bottom: 0;\n  "])))},modernSettingsMenu_ModernSettingsMenuItem=function(e){var t=e.menuItem,n=e.isLastItem,i=t.isSelected,r=t.title,a=t.icon,o=t.action,s=t.actionComponent,c=t.buttonWrapper,l=void 0===c||c,d=t.role,p=void 0===d?"menuitem":d,g=Object(S.d)(w.Fragment,null,Object(S.d)("div",{css:uo.menuIconContainer},a),Object(S.d)(Zt.a,{css:uo.menuItemTitle,variant:"actionPrimary",color:"invertBody",component:"div"},r),s&&Object(S.d)("div",null,s));return l?Object(S.d)("button",u()({role:p},"menuitemradio"!==p&&"menuitemcheckbox"!==p||void 0===i?{}:{"aria-checked":i},{key:r,type:"button",css:[uo.menuItem,n&&uo.lastMenuItem,uo.buttonFocus],onClick:o,"data-testid":"".concat(null!=p?p:"menuItem","-").concat(r)}),g):Object(S.d)("div",{key:r,css:[uo.menuItem,n&&uo.lastMenuItem]},g)},modernSettingsMenu_ModernSettingsMenuItemList=function(e){var t=e.menuConfig,n=e.visible,i=Object(w.useRef)(null);return Object(w.useEffect)((function(){if(i.current&&n){var e,t=i.current.querySelectorAll('a, area, button:not(.vjs-default-button):not(.vjs-close-button):not(.vjs-done-button), frame, iframe, input, object, textarea, [tabindex]:not([disabled]):not([tabindex="-1"]');if(t)null===(e=Array.from(t)[0])||void 0===e||e.focus()}}),[i,n]),Object(S.d)("div",{role:"menu",ref:i},t.map((function(e,n){var i=n===t.length-1;return Object(S.d)(modernSettingsMenu_ModernSettingsMenuItem,{key:e.title,menuItem:e,isLastItem:i})})))},lo=t("wr+D"),po=["width","height"],svg_CheckSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,po);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Pr||(Pr=w.createElement("path",{d:"M9.54999 15.15L18.025 6.675C18.225 6.475 18.4583 6.375 18.725 6.375C18.9917 6.375 19.225 6.475 19.425 6.675C19.625 6.875 19.725 7.1125 19.725 7.3875C19.725 7.6625 19.625 7.9 19.425 8.1L10.25 17.3C10.05 17.5 9.81666 17.6 9.54999 17.6C9.28333 17.6 9.04999 17.5 8.84999 17.3L4.54999 13C4.34999 12.8 4.25416 12.5625 4.26249 12.2875C4.27083 12.0125 4.37499 11.775 4.57499 11.575C4.77499 11.375 5.01249 11.275 5.28749 11.275C5.56249 11.275 5.79999 11.375 5.99999 11.575L9.54999 15.15Z",fill:"white"}))))},go={menuIconContainer:Object(S.c)(Vr||(Vr=y()(["\n    display: flex;\n    align-items: center;\n    width: 28px;\n    height: 28px;\n    justify-content: center;\n  "]))),submenuTitleContainer:Object(S.c)(_r||(_r=y()(["\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: var(--cds-spacing-100) var(--cds-spacing-200) var(--cds-spacing-200) var(--cds-spacing-200);\n    border-bottom: 1px solid rgb(255 255 255 / 24%);\n    margin-bottom: var(--cds-spacing-100);\n  "]))),submenuTitleButton:Object(S.c)(Lr||(Lr=y()(["\n    width: 100%;\n    padding: 0;\n  "]))),submenuTitleContainerHoverFocus:Object(S.c)(Mr||(Mr=y()(["\n    && {\n      background-color: transparent;\n      width: 100%;\n      display: flex;\n      align-items: center;\n      gap: var(--cds-spacing-150);\n      padding: var(--cds-spacing-100) var(--cds-spacing-200);\n\n      &:hover {\n        background-color: rgb(255 255 255 / 12%);\n        color: var(--cds-color-neutral-primary-invert);\n      }\n    }\n  "]))),submenuSectionContainerButtonFocus:Object(S.c)(Nr||(Nr=y()(["\n    &:focus-visible {\n      outline: 2px solid #79f;\n    }\n  "]))),submenuTitle:Object(S.c)(Fr||(Fr=y()(["\n    display: flex;\n  "]))),boldIcon:Object(S.c)(Dr||(Dr=y()(["\n    /* The CDS chevron is not bold enough, so we need to override the styling */\n    fill: var(--cds-color-neutral-background-primary);\n    stroke: var(--cds-color-neutral-background-primary);\n    stroke-width: 1px;\n  "])))},modernSettingsMenu_ModernSettingsSubmenu=function(e){var t=e.title,n=e.selected,i=e.options,r=e.action,a=e.onBackButtonClick,o=e.visible,s=i.map((function(e){var t=e.id===(null==n?void 0:n.id);return{title:e.label,icon:t?Rr||(Rr=Object(S.d)(svg_CheckSvg,{height:24,width:24})):void 0,isSelected:t,action:function(){r(e)},role:e.role}}));return Object(S.d)("div",null,Object(S.d)("button",{type:"button",onClick:a,"aria-label":Wi()("Go back to main settings menu"),css:go.submenuTitleButton},Object(S.d)("section",{css:[go.submenuTitleContainer,go.submenuTitleContainerHoverFocus,go.submenuSectionContainerButtonFocus]},Object(S.d)("div",{css:go.menuIconContainer},Object(S.d)(lo.a,{size:"medium",css:go.boldIcon})),Object(S.d)(Zt.a,{css:go.submenuTitle,color:"invertBody",component:"p",variant:"subtitleMedium"},t))),Object(S.d)(modernSettingsMenu_ModernSettingsMenuItemList,{visible:o,menuConfig:s}))},mo={root:Object(S.c)(Ar||(Ar=y()(["\n    width: 100%;\n    display: flex;\n    gap: 24px;\n    align-items: flex-start;\n\n    .switch-toggle {\n      position: relative;\n      border-radius: 12px;\n      height: 24px;\n      width: 40px;\n      display: flex;\n      align-items: center;\n      transition: background 0.1s ease-in-out;\n\n      .switch-indicator {\n        background: white;\n        position: absolute;\n        display: inline-block;\n        border-radius: 50%;\n        height: 20px;\n        width: 20px;\n        transition: left 0.1s ease-in-out;\n        left: 2px;\n      }\n    }\n\n    &.switch-on {\n      .switch-toggle {\n        background: var(--cds-color-emphasis-primary-background-default);\n\n        .switch-indicator {\n          left: calc(100% - 20px - 2px);\n        }\n      }\n    }\n\n    &.switch-off {\n      .switch-toggle {\n        background: var(--cds-color-neutral-disabled-strong);\n      }\n    }\n  "])))},SwitchIndicator_SwitchIndicator=function(e){var t=e.selected,n=void 0!==t&&t,i=e.className,r=void 0===i?"":i;return Object(S.d)("div",{className:Nt()("Switch-indicator",r,{"switch-on":n,"switch-off":!n,standalone:!0}),css:mo.root},Hr||(Hr=Object(S.d)("div",{className:"switch-toggle"},Object(S.d)("span",{className:"switch-indicator"}))))},ho={scrollbar:Object(S.c)(Br||(Br=y()(["\n    /* Custom scrollbar styles for Webkit browsers.\n       Some browsers have a tendency to hide scrollbar on page load. Overflow scrolll respects this.\n       In order to make sure the scrollbar is always visible, we are going this way\n    */\n    ::-webkit-scrollbar {\n      width: 16px;\n    }\n\n    ::-webkit-scrollbar-track {\n      background: ",";\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background: ",";\n      border-radius: 10px;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n      background: ",";\n    }\n\n    /* Custom scrollbar styles for Firefox */\n    scrollbar-width: thin;\n    scrollbar-color: "," ",";\n\n    "," {\n      ::-webkit-scrollbar {\n        width: 16px;\n      }\n    }\n  "])),"#f1f1f1","#888","#555","#888","#f1f1f1",I.a.down("xs")),settingsMenuPopup:Object(S.c)(zr||(zr=y()(["\n    max-height: 80%;\n    min-width: 256px;\n    max-width: 300px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    position: absolute;\n    bottom: ","px;\n    right: var(--cds-spacing-400);\n    transform: translate(-3%, 0%);\n    transition: visibility 0s ","s,\n      opacity ","s linear;\n    opacity: 0;\n    color: #fff;\n    background-color: rgb(0 0 0 / 66%);\n    backdrop-filter: blur(23px);\n    border-radius: 8px;\n    box-shadow: 0 2px 8px 0 rgb(0 0 0 / 32%);\n    visibility: hidden;\n    padding-top: var(--cds-spacing-150);\n    padding-bottom: var(--cds-spacing-150);\n\n    "," {\n      right: 0;\n      max-height: 50%;\n    }\n  "])),88,.2,.2,I.a.down("xs")),popupVisible:Object(S.c)(Ur||(Ur=y()(["\n    opacity: 1;\n    visibility: visible;\n    transition: opacity 0.2s linear;\n  "]))),boldIcon:Object(S.c)(Qr||(Qr=y()(["\n    /* The CDS chevron is not bold enough, so we need to override the styling */\n    fill: var(--cds-color-neutral-background-primary);\n    stroke: var(--cds-color-neutral-background-primary);\n    stroke-width: 1px;\n  "])))},vo=w.forwardRef((function(e,t){var n,i=e.visible,r=e.supportedResolutions,a=e.currentResolutionOption,o=e.currentResolution,s=e.onResolutionOptionClick,c=e.currentPlaybackRate,l=e.supportedPlaybackRates,d=e.onPlaybackRateClick,p=e.onSubtitleLanguageChoiceClick,g=e.onSubtitleOffClick,m=e.currentTrack,v=e.tracks,f=e.onToggleAutoplay,y=e.autoplay,C=e.enableHls,k=e.dubbedLanguages,O=e.onDubbedAudioChoiceClick,x=e.selectedAudioLanguage,j=e.trackVideoPlayerClickEvent,T=e.closeSettingsMenu,E=e.isOriginalAudioSelected,I=void 0===E||E,P=e.defaultLanguageKey,V=e.handleResolutionChangeForDubbedAudio,L=Object(w.useState)(!0),M=b()(L,2),N=M[0],F=M[1],D=Object(w.useState)(void 0),R=b()(D,2),A=R[0],H=R[1],B=Object(Be.b)().isDubbingAvailable;if(Object(w.useEffect)((function(){if(!N){var e=setTimeout((function(){H(void 0)}),200);return function(){e&&clearTimeout(e)}}F(!1)}),[i]),"quality"===A){var z={id:a,label:"auto"===a?"".concat(a," (").concat(o,")"):a},U=function(e){var t=e.supportedResolutions,n=e.enableHls,i=e.currentResolutionOption,r=e.currentResolution,a=t;n&&(a=t.filter((function(e){return"auto"!==e})));var o=a.sort((function(e,t){var n=parseInt(e,10);return parseInt(t,10)-n}));return n&&(o=["auto"].concat(Ve()(o))),o.map((function(e){var t=e===i,n=t&&r?Wi()("Auto")+" (".concat(r,")"):Wi()("Auto");return{id:e,label:"auto"===e?n:e,role:"menuitemradio",isSelected:t}}))}({supportedResolutions:r,enableHls:C,currentResolutionOption:a,currentResolution:o});n={id:"quality",title:Wi()("Quality"),selected:z,options:U,action:function(e){var t=e.id;t&&a&&I&&j("video_settings_menu_quality_option",{resolution:t,previousResolution:a}),I?s(t):null==V||V(t),T()}}}else if("playbackSpeed"===A){var Q="".concat(c,"x"),W={id:Q,label:Q},q=l.map((function(e){return"".concat(e,"x")})).map((function(e){return{id:e,label:e,role:"menuitemradio"}}));n={id:"playbackSpeed",title:Wi()("Playback speed"),selected:W,options:q,action:function(e){var t=e.label,n=parseFloat(t);c&&n&&j("video_settings_menu_playback_speed_option",{playbackRate:n,previousPlaybackRate:c}),d(n),T()}}}else if("subtitle"===A){var K={id:"off",label:Wi()("Subtitles off"),role:"menuitemradio"},G=m?{id:m.language,label:m.label}:K,Z=v.map((function(e){return{id:e.language,label:e.label,role:"menuitemradio"}}));n={id:"subtitle",title:Wi()("Subtitles"),selected:G,options:[K].concat(Ve()(Z)),action:function(e){var t=v.find((function(t){return t.language===e.id}));j("video_settings_menu_subtitle_language_option",{subtitleLanguage:(null==t?void 0:t.language)||"none",previousSubtitleLanguage:(null==m?void 0:m.language)||"none"}),t?p(t,!0,!I):g(!I),T()}}}else if("audio"===A){var J=x||{id:"",label:"",languageKey:""},X=(null==k?void 0:k.map((function(e){return{id:e.languageKey,label:e.label,languageKey:e.languageKey,role:"menuitemradio"}})))||[];n={id:"audio",title:Wi()("Audio"),selected:J,options:X,action:function(e){var t,n,i=null!==(t=null==m?void 0:m.language)&&void 0!==t?t:"none",r=e.languageKey===P,a={audioLanguage:videoUtils_getEventingDubbingLanguage(P,e.languageKey),previousAudioLanguage:videoUtils_getEventingDubbingLanguage(P,J.languageKey)};(null==O||O(e),Ui.a.get("subtitleLanguage")===Ni)?j("video_settings_menu_audio_language_option",h()({},a)):j("video_settings_menu_audio_language_option",h()(h()({},a),{},{previousSubtitleLanguage:i,subtitleLanguage:r?Ui.a.get("subtitleLanguage"):null!==(n=e.languageKey)&&void 0!==n?n:"none"}));T()}}}var Y=v.length>0,ee=[{title:Wi()("Autoplay"),icon:Wr||(Wr=Object(S.d)(svg_PlayCircleSvg,{height:24,width:24})),buttonWrapper:!0,isSelected:y,role:"menuitemcheckbox",action:function(){f(),j("video_settings_menu_autoplay_toggle",{autoplay:!y})},actionComponent:Object(S.d)(SwitchIndicator_SwitchIndicator,{selected:y})},{title:Wi()("Quality"),icon:qr||(qr=Object(S.d)(svg_HighQualitySvg,{height:24,width:24})),action:function(){H("quality"),j("video_settings_menu_quality",{})},actionComponent:Object(S.d)(io.a,{size:"small",css:ho.boldIcon})},{title:Wi()("Playback speed"),icon:Kr||(Kr=Object(S.d)(svg_PlaybackSpeedSvg,{height:24,width:24})),action:function(){H("playbackSpeed"),j("video_settings_menu_playback_speed",{})},actionComponent:Object(S.d)(io.a,{size:"small",css:ho.boldIcon})}];return Y&&ee.push({title:Wi()("Subtitles"),icon:Gr||(Gr=Object(S.d)(svg_SubtitlesSvg,{height:24,width:24})),action:function(){H("subtitle"),j("video_settings_menu_subtitle_language",{})},actionComponent:Object(S.d)(io.a,{size:"small",css:ho.boldIcon})}),B&&ee.push({title:Wi()("Audio"),icon:Zr||(Zr=Object(S.d)(Headset,{height:21,width:21})),action:function(){H("audio"),j("video_settings_menu_audio_language",{})},actionComponent:Object(S.d)(io.a,{size:"small",css:ho.boldIcon})}),Object(S.d)("div",{ref:t,css:[ho.settingsMenuPopup,i&&ho.popupVisible,B&&ho.scrollbar],className:"rc-ModernSettingsMenuPopup",onClick:function(e){e.stopPropagation()},onDoubleClick:function(e){e.stopPropagation()},"data-testid":"settingsMenuPopup"},n?Object(S.d)(modernSettingsMenu_ModernSettingsSubmenu,u()({},n,{visible:i,onBackButtonClick:function(e){e.stopPropagation(),H(void 0)}})):Object(S.d)(modernSettingsMenu_ModernSettingsMenuItemList,{visible:!n&&i,menuConfig:ee}))})),bo=t("JJfJ"),fo={progressBarMarker:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"var(--cds-color-yellow-500)";return Object(S.c)(Jr||(Jr=y()(["\n    position: absolute;\n    height: 100%;\n    width: 4px;\n    background-color: ",";\n    bottom: 0;\n    transform: translate(-50%, 0%);\n    z-index: 99;\n    left: ",";\n    transition: height 0.15s ease;\n\n    @media (forced-colors: active) {\n      background-color: ButtonText;\n    }\n  "])),t,e)},isInHoveredSegment:Object(S.c)(Xr||(Xr=y()(["\n    height: 146%;\n  "])))},ProgressBarMarker_ProgressBarMarker=function(e){var t=e.offsetFraction,n=e.color,i=e.isInHoveredSegment,r=void 0!==i&&i,a="".concat((Math.floor(1e4*t)/100).toFixed(2),"%");return Object(S.d)("div",{css:[fo.progressBarMarker(a,n),r&&fo.isInHoveredSegment],className:"rc-ProgressBarMarker","data-testid":"progress-bar-marker"})},yo=w.memo(ProgressBarMarker_ProgressBarMarker),IVQMarker_IVQMarker=function(e){var t=e.question,n=e.videoDurationSeconds,i=e.trimmedStartTimeSeconds,r=e.color,a=e.isInHoveredSegment,o=void 0!==a&&a,s=t.video.cuePointMs-1e3*i;if(s<0)return null;if(i&&s>1e3*i+1e3*n)return null;var c=s/1e3/n;return(w.createElement(yo,{offsetFraction:c,color:r,isInHoveredSegment:o}))},Co=w.memo(IVQMarker_IVQMarker),ko=t("+TN3"),So=t("WbuL"),wo=t.n(So),useAssetIdToVideoId_useAssetIdToVideoId=function(e){var t,n,i=e.assetId,r=Object(ko.b)(wo.a,{variables:{videoId:i},context:{clientName:"gatewayGql"}}),a=r.data,o=r.loading,s=r.error;return s&&pe.captureException(s,{extra:{message:"Error getting video asset ID from asset ID"}}),{videoAssetId:null==a?void 0:null===(t=a.assetVideoQueries)||void 0===t?void 0:null===(n=t.getAssetVideoByVideoId)||void 0===n?void 0:n.videoAssetId,isVideoAssetIdLoading:o,error:s}},VideoTimestampThumbnail_styles_thumbnailsBackground=function(e,t){return Object(S.c)(Yr||(Yr=y()(["\n    width: ","px;\n    height: ","px;\n    background-color: white;\n  "])),t/10,e/10)},VideoTimestampThumbnail_styles_thumbnails=function(e,t,n,i,r){return Object(S.c)($r||($r=y()(["\n    background-image: url(",");\n    background-position: -","px -","px;\n    background-size: ","px ","px;\n  "])),e,i,r,n,t)},Oo={thumbnailOverrides:Object(S.c)(ea||(ea=y()(["\n    border-radius: 2px;\n  "])))},components_VideoTimestampThumbnail=function(e){var t=e.time,n=e.cssOverrides,i=e.spriteSheetHeight,r=void 0===i?1260:i,a=e.spriteSheetWidth,o=void 0===a?2240:a,s=ChaptersProvider_useChapters(),c=s.videoId,u=s.courseId,l=useAssetIdToVideoId_useAssetIdToVideoId({assetId:c}).videoAssetId,p=function(e,t,n){var i=Math.trunc(e);return{top:Math.trunc(i/50)*(t/10),left:Math.trunc(i%50/5)*(n/10)}}(t,r,o),m=p.top,h=p.left,v=function(e,t,n){var i=Math.trunc(e),r=(Math.trunc(i/500)+1).toString(),a=9-r.length,o="Thumbnail_"+"0".repeat(a)+r;return Ae.a.url.resource_assets+"video-chapters/thumbnails/".concat(t,"/").concat(n,"/").concat(o,".jpg")}(t,u,l),f=Object(w.useState)(!1),y=b()(f,2),C=y[0],k=y[1],O=Object(w.useState)(!1),x=b()(O,2),j=x[0],T=x[1];return Object(w.useEffect)((function(){var e=function(){var e=g()(d()().mark((function _callee(){var e;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l){t.next=5;break}return t.next=3,fetch(v);case 3:(e=t.sent).ok?T(!1):(pe.captureException({exception:"Failed to fetch spritesheet for courseId ".concat(u," and videoAssetId ").concat(l),hint:e.statusText}),T(!0));case 5:case"end":return t.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}}();k(!0),e(),k(!1)}),[u,v,l]),Object(S.d)("div",{"data-testid":"thumbnail-container"},Object(S.d)("div",{"data-testid":"thumbnail-image",css:[VideoTimestampThumbnail_styles_thumbnailsBackground(r,o),!C&&!j&&VideoTimestampThumbnail_styles_thumbnails(v,r,o,h,m),(null==n?void 0:n.thumbnailOverrides)||Oo.thumbnailOverrides]}))},xo=w.createContext(null),VideoBoundaryProvider_VideoBoundaryProvider=function(e){var t=e.children,n=e.videoBoundaryRef;return(w.createElement(xo.Provider,{value:n},t))},jo={progressBarTimeBadge:function(e){return Object(S.c)(ta||(ta=y()(["\n    color: var(--cds-color-neutral-primary-invert);\n    position: absolute;\n    bottom: 15px;\n    border-radius: var(--cds-border-radius-100);\n    font-size: 14px;\n    background-color: var(--cds-color-emphasis-neutral-background-xxstrong);\n    opacity: 0.8;\n    padding: 8px 12px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    transform: translateX(-50%);\n    width: ",";\n  "])),e)},firstRowText:Object(S.c)(na||(na=y()(["\n    color: #fff;\n    line-height: 20px;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n    overflow: hidden;\n    overflow-wrap: break-word;\n    word-break: break-word;\n    white-space: pre-wrap;\n    text-overflow: ellipsis;\n    text-align: center;\n  "]))),blurred:Object(S.c)(ia||(ia=y()(["\n    opacity: 1;\n    backdrop-filter: blur(23px);\n    background-color: rgba(0 0 0 / 66%);\n    pointer-events: none;\n  "])))},To={thumbnailOverrides:Object(S.c)(ra||(ra=y()(["\n    border-radius: 2px;\n    margin-top: -2px;\n    margin-bottom: 6px;\n  "])))},progressBar_ProgressBarTimeBadge=function(e){var t=e.time,n=e.videoDuration,i=e.isInIVQMarkerRange,r=void 0!==i&&i,a=t/n,o=Object(w.useState)({}),s=b()(o,2),c=s[0],u=s[1],l=ChaptersProvider_useChapters(),d=l.areChaptersEnabled,p=l.getChapterForTimestamp,g=d?p(t):void 0,m=r?"Question":(null==g?void 0:g.chapterName)||"",h=Object(w.useRef)(null),v=function(){var e=w.useContext(xo);if(null===e)throw new Error("useVideoBoundary must be used within a VideoBoundaryProvider");return e}(),f=Object(w.useCallback)((function(e){var t=h.current;if(t&&null!=v&&v.current){var n=v.current.getBoundingClientRect(),i=t.getBoundingClientRect(),r=i.width/2,a=e*n.width,o=n.width-i.width+r,s=r,c=Math.max(s,Math.min(a,o));u({left:"".concat(c,"px")})}}),[v]);Object(w.useEffect)((function(){f(a)}),[f,a]);var y=d?"238px":"auto";return Object(S.d)("div",{className:"rc-ProgressBarTimeBadge",ref:h,css:[jo.progressBarTimeBadge(y),d&&jo.blurred],style:c},d&&Object(S.d)(components_VideoTimestampThumbnail,{time:t,cssOverrides:To}),d&&m&&Object(S.d)("div",{css:jo.firstRowText},Object(S.d)(Zt.a,{component:"div",variant:"bodySecondary",color:"invertBody"},m)),Object(S.d)(Zt.a,{component:"span",variant:"bodySecondary",color:"invertBody","data-testid":"modern-progress-bar-time-badge"},function(e){var padToTwoDigits=function(e){return e.toString().padStart(2,"0")},t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%60);return e<0?"0:00":t>0?"".concat(t,":").concat(padToTwoDigits(n),":").concat(padToTwoDigits(i)):"".concat(n,":").concat(padToTwoDigits(i))}(t)))},Eo=["actionStateType"],Io=["actionStateType"],Po=["actionStateType"],Vo={progressBar:Object(S.c)(aa||(aa=y()(["\n    height: 5px;\n    position: absolute;\n    top: 0;\n    transform: translate(0, -100%);\n    z-index: 999;\n    width: calc(100%);\n    left: 0;\n\n    @media (forced-colors: active) {\n      outline: 2px solid WindowText;\n\n      .base-track {\n        background-color: Window;\n      }\n\n      .hitbox {\n        background-color: transparent;\n      }\n\n      .progress-track {\n        background-color: Highlight;\n      }\n\n      .learner-max-video-progress-overlay {\n        background-color: WindowText;\n      }\n\n      .progress-handle {\n        background-color: Highlight;\n      }\n    }\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    &:focus,\n    &:active {\n      outline: 2px solid #82a8e1;\n    }\n  "]))),baseTrack:Object(S.c)(oa||(oa=y()(["\n    position: absolute;\n    top: 50%;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: var(--cds-color-neutral-background-primary-weak);\n    transform: translate(0, -50%) scaleY(0.6);\n    transition: transform 0.1s cubic-bezier(0.4, 0, 1, 1);\n  "]))),hovering:Object(S.c)(sa||(sa=y()(["\n    transform: scale(1) translate(0, -50%);\n  "]))),hitbox:Object(S.c)(ca||(ca=y()(["\n    position: absolute;\n    top: 50%;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgb(0 0 0 / 0%);\n    transform: translate(0, -50%);\n  "]))),hitboxHovering:Object(S.c)(ua||(ua=y()(["\n    height: 500%;\n  "]))),progressTrack:function(e){return Object(S.c)(la||(la=y()(["\n    position: absolute;\n    height: 100%;\n    background-color: var(--cds-color-blue-500);\n    z-index: 2;\n    width: ",";\n  "])),e)},maxVideoProgressOverlay:function(e){return Object(S.c)(da||(da=y()(["\n    background: var(--cds-color-grey-200);\n    height: 100%;\n    position: relative;\n    z-index: 1;\n    width: ",";\n  "])),e)},progressHandle:function(e){return Object(S.c)(pa||(pa=y()(["\n    position: absolute;\n    width: 0;\n    height: 0;\n    border-radius: 50%;\n    top: 50%;\n    background-color: var(--cds-color-blue-500);\n    transform: translate(-50%, -50%);\n    transition: height 0.1s ease, width 0.1s ease;\n    left: ",";\n  "])),e)},progressHandleHovering:Object(S.c)(ga||(ga=y()(["\n    width: 16px;\n    height: 16px;\n  "])))},_o=function(e){function VideoProgressBarBaseComponent(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={actionState:{actionStateType:"none"},currentTime:null,duration:null},t.getCurrentTime=function(){var e=t.props,n=e.trimmedStartTimeSeconds,i=e.player;return n?i.currentTime()-n:i.currentTime()},t.getTrimmedTime=function(e){return e-(t.props.trimmedStartTimeSeconds||0)},t.onKeyDown=function(e){if(" "!==e.key&&"Spacebar"!==e.key){var n=t.props,i=n.shouldDisableSkippingForward,r=n.learnerMaxVideoProgressInSeconds,a=n.setShowVideoSkippingDisabledNotification,skipForward=function(){var e=t.getTrimmedTime(r);!i||t.getCurrentTime()+5<e?t.skip(5):a(!0)},o={Up:skipForward,ArrowUp:skipForward,Right:skipForward,ArrowRight:skipForward,Down:function(){t.skip(-5)},ArrowDown:function(){t.skip(-5)},Left:function(){t.skip(-5)},ArrowLeft:function(){t.skip(-5)}};o[e.key]&&o[e.key]()}else e.preventDefault()},t.onTimeChange=function(){t.setState({currentTime:t.getCurrentTime()})},t.onDurationChange=function(){var e=t.props.player;t.setState({duration:e.duration()})},t.onMouseDown=function(e){e.stopPropagation(),e.preventDefault(),t.beginScrubbing(e)},t.onMouseEnter=function(e){var n=t.state.actionState,i=n.actionStateType,r=Ot()(n,Eo),a=i,o=t.getProgressBarFractionOffsetFromEvent(e),s=r;"scrubbing"===a?s.scrubbingFractionOffsetFromStart=o:(a="hovering",s.hoverFractionOffsetFromStart=o),t.setActionState(a,s)},t.onMouseLeave=function(){var e=t.state,n=e.duration,i=e.actionState;if("scrubbing"===i.actionStateType){var r=t.props,a=r.player,o=r.trimmedStartTimeSeconds,s=i.scrubbingFractionOffsetFromStart;if(n&&s){var c=n*s+(null!=o?o:0);a.currentTime(c);var u=n*s;t.setState({currentTime:u})}}else t.setActionState("none")},t.onMouseMove=function(e){var n=t.state.actionState,i=n.actionStateType,r=Ot()(n,Io),a=t.getProgressBarFractionOffsetFromEvent(e);"hovering"===i?t.setActionState(i,h()(h()({},r),{},{hoverFractionOffsetFromStart:a})):"scrubbing"===i&&t.setActionState(i,h()(h()({},r),{},{scrubbingFractionOffsetFromStart:a}))},t.onDocumentMouseUp=function(){"scrubbing"===t.state.actionState.actionStateType&&t.endScrubbing()},t.getIsScrubbingAllowed=function(e,n,i,r){var a=t.getTrimmedTime(r);return(!i||e*(n||0)<=a)},t.getShouldShowVideoSkippingDisabledNotification=function(e,n,i,r){var a=t.getTrimmedTime(r);return(i&&e*(n||0)>a)},t.onMouseUp=function(e){e.stopPropagation(),e.preventDefault();var n=t.props,i=n.player,r=n.shouldDisableSkippingForward,a=n.learnerMaxVideoProgressInSeconds,o=n.trackVideoPlayerClickEvent,s=n.setShowVideoSkippingDisabledNotification,c=n.trimmedStartTimeSeconds,u=t.state.duration,l=t.state.currentTime,d=l,p=l,g=t.getProgressBarFractionOffsetFromEvent(e);if(i&&null!=u&&null!=g){if(t.getIsScrubbingAllowed(g,u,r,a)){var m=null!=l?l:c?0:Mi;d=g*u+(null!=c?c:0),p=g*u,null!=m&&o("video_scrub_bar",{previousVideoPosition:m}),i.currentTime(d),t.setState({currentTime:p})}t.getShouldShowVideoSkippingDisabledNotification(g,u,r,a)&&s(!0)}t.endScrubbing()},t.getProgressBarFractionOffsetFromEvent=function(e){if(t.baseElement){var n=t.baseElement.getBoundingClientRect(),i=n.left,r=n.width;return(e.clientX-i)/r}return null},t.skip=function(e){var n=t.props,i=n.player,r=n.trimmedStartTimeSeconds,a=t.state,o=a.currentTime,s=a.duration;if(null!=o&&null!=s){var c=Math.max(0,Math.min(o+e+(null!=r?r:0),s));i.currentTime(c)}},t.beginScrubbing=function(e){var n=t.props.player;t.setActionState("scrubbing",{scrubbingFractionOffsetFromStart:t.getProgressBarFractionOffsetFromEvent(e),wasVideoPausedWhenScrubbingStarted:n.paused()}),n.pause()},t.endScrubbing=function(){var e=t.props.player,n=t.state.actionState,i=n.wasVideoPausedWhenScrubbingStarted,r=n.scrubbingFractionOffsetFromStart;e.trigger("scrubbed"),i||e.ended()||e.play(),t.setActionState("hovering",{hoverFractionOffsetFromStart:r})},t.assignRef=function(e){t.baseElement=e},t}Lt()(VideoProgressBarBaseComponent,e);var t=VideoProgressBarBaseComponent.prototype;return t.componentDidMount=function(){var e=this.props.player;this.setState({currentTime:this.getCurrentTime(),duration:e.duration()}),e.on("timeupdate",this.onTimeChange),e.on("durationchange",this.onDurationChange),document.addEventListener("mouseup",this.onDocumentMouseUp)},t.componentWillUnmount=function(){var e=this.props.player;e.off("timeupdate",this.onTimeChange),e.off("durationchange",this.onDurationChange),document.removeEventListener("mouseup",this.onDocumentMouseUp)},t.setActionState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.state.actionState,i=h()(h()(h()({},n),t),{},{actionStateType:e});this.setState({actionState:i})},t.fractionToWholeNumber=function(e){return 100*e},t.formatFraction=function(e){return"".concat((Math.floor(1e4*e)/100).toFixed(2),"%")},t.render=function(){var e=this.props,t=e.videoQuizQuestions,n=e.learnerMaxVideoProgressInSeconds,i=e.shouldDisableSkippingForward,r=e.trimmedStartTimeSeconds,a=this.state,o=a.actionState,s=o.actionStateType,c=Ot()(o,Po),u=a.duration,l=a.currentTime;if(null==u||null==l)return null;var d=c.hoverFractionOffsetFromStart,p=c.scrubbingFractionOffsetFromStart,g=l/u,m=t,h=this.formatFraction(g),v=this.fractionToWholeNumber(g),b="hovering"===s?d:p;"scrubbing"===s&&null!=p&&(h=this.formatFraction(p),v=this.fractionToWholeNumber(p));var f="hovering"===s||"scrubbing"===s,y=Object(bo.v)(g*u*1e3,"mmm:sss"),C=Object(bo.v)(1e3*u,"mmm:sss"),k=Wi()("Current time #{formattedCurrentTime}, Duration #{formattedDuration}",{formattedCurrentTime:y,formattedDuration:C}),w=this.getTrimmedTime(n),O=this.formatFraction(w/u);return Object(S.d)("div",{tabIndex:0,role:"slider","aria-label":Wi()("Video Progress"),"aria-valuemin":0,"aria-valuemax":100,dir:"ltr","aria-valuenow":v,"aria-valuetext":k,className:Nt()("rc-VideoProgressBar","horizontal-box","align-items-absolute-center"),ref:this.assignRef,onKeyDown:this.onKeyDown,onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,"data-testid":"video-progress-bar",css:[Vo.progressBar]},Object(S.d)("div",{css:[Vo.baseTrack,f&&Vo.hovering],className:Nt()("base-track",{hovering:f})},m&&m.map((function(e){return Object(S.d)(Co,{key:"ivq-".concat(e.id),question:e,videoDurationSeconds:u,trimmedStartTimeSeconds:r})})),Object(S.d)("div",{css:Vo.progressTrack(h),className:Nt()("progress-track",{hovering:f})}),i&&Object(S.d)("div",{css:Vo.maxVideoProgressOverlay(O),className:Nt()("learner-max-video-progress-overlay")})),Object(S.d)("div",{className:Nt()("hitbox",{hovering:f}),css:[Vo.hitbox,f&&Vo.hitboxHovering]}),Object(S.d)("div",{css:[Vo.progressHandle(h),f&&Vo.progressHandleHovering],className:Nt()("progress-handle",{hovering:f})}),f&&b&&Object(S.d)(progressBar_ProgressBarTimeBadge,{time:b*u,videoDuration:u}))},VideoProgressBarBaseComponent}(w.Component),progressBar_VideoProgressBar=function(e){var t=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext(),n=t.shouldDisableSkippingForward,i=t.learnerMaxVideoProgressInSeconds,r=t.setShowVideoSkippingDisabledNotification;return Object(S.d)(_o,u()({},e,{shouldDisableSkippingForward:n,learnerMaxVideoProgressInSeconds:i,setShowVideoSkippingDisabledNotification:r}))},fractionToWholeNumber=function(e){return 100*e},formatFraction=function(e){return"".concat((Math.floor(1e4*e)/100).toFixed(2),"%")},fractionToTimestampInSeconds=function(e,t){return e*(null!=t?t:0)},getScaleXForSegment=function(e){var t=e.progressFractionOffset,n=e.durationAsFraction,i=e.chapterStartFraction,r=e.chapterEndFraction;return t<i?"scaleX(0)":t>r?"scaleX(1.1)":"scaleX(".concat((t-i)/n,")")},isQuestionInHoveredSegment=function(e){var t,n,i,r=e.isUserHoveringOrScrubbing,a=e.chaptersWithDurationFractions,o=e.currentlyHoveredChapter,s=e.question;if(!r)return!1;if(1===a.length)return!0;var c=(null!==(t=null==o?void 0:o.endTimestampInSeconds)&&void 0!==t?t:0)<0?s.video.cuePointMs/1e3:null!==(n=null==o?void 0:o.endTimestampInSeconds)&&void 0!==n?n:0;return(null!==(i=null==o?void 0:o.startTimestampInSeconds)&&void 0!==i?i:0)<s.video.cuePointMs/1e3&&c>=s.video.cuePointMs/1e3},Lo=["mouseActivityType"],Mo=["mouseActivityType"],No={progressBar:Object(S.c)(ma||(ma=y()(["\n    height: 4px;\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    transform: translate(0, -6px);\n    z-index: 999;\n\n    "," {\n      transform: translate(0, 0);\n    }\n\n    @media (forced-colors: active) {\n      outline: 2px solid WindowText;\n\n      .base-track {\n        background-color: Window;\n      }\n\n      .hitbox {\n        background-color: transparent;\n      }\n\n      .progress-track {\n        background-color: Highlight;\n      }\n\n      .learner-max-video-progress-overlay {\n        background-color: WindowText;\n      }\n\n      .progress-handle {\n        background-color: Highlight;\n      }\n    }\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    /* stylelint-disable-next-line  selector-pseudo-class-no-unknown */\n    &:focus-visable {\n      outline: 2px solid #82a8e1;\n    }\n  "])),I.a.down("xs")),baseTrack:Object(S.c)(ha||(ha=y()(["\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    transition: transform 0.1s cubic-bezier(0.4, 0, 1, 1);\n    z-index: 1000;\n  "]))),hitbox:Object(S.c)(va||(va=y()(["\n    position: absolute;\n    top: 50%;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    transform: translate(0, -50%);\n  "]))),hitboxHovering:Object(S.c)(ba||(ba=y()(["\n    height: 500%;\n    "," {\n      height: 700%;\n    }\n  "])),I.a.up("sm")),maxVideoProgressOverlay:Object(S.c)(fa||(fa=y()(["\n    background: var(--cds-color-neutral-primary-invert);\n    height: 100%;\n    position: relative;\n    z-index: 1;\n  "]))),progressHandle:Object(S.c)(ya||(ya=y()(["\n    position: absolute;\n    width: 0;\n    height: 0;\n    border-radius: 50%;\n    top: 60%;\n    transform: translate(-50%, -50%);\n    transition-property: height, width, transform, top;\n    transition-duration: 0.1s;\n    transition-timing-function: ease;\n    background-color: var(--cds-color-blue-500);\n    z-index: 1001;\n  "]))),progressHandleHovering:Object(S.c)(Ca||(Ca=y()(["\n    width: 16px;\n    height: 16px;\n  "]))),progressHandleInSingleChapter:Object(S.c)(ka||(ka=y()(["\n    top: 30%;\n  "]))),progressHandleInHoveredChapter:Object(S.c)(Sa||(Sa=y()(["\n    height: 19px;\n    width: 19px;\n    top: 30%;\n  "]))),chaptersContainer:Object(S.c)(wa||(wa=y()(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n  "]))),chapterDivider:Object(S.c)(Oa||(Oa=y()(["\n    width: ","px;\n    height: 100%;\n  "])),4),chapterWrapper:Object(S.c)(xa||(xa=y()(["\n    height: 100%;\n    z-index: 900;\n    background-color: rgba(231 231 231 / 50%);\n    transition: transform 0.2s ease;\n    display: flex;\n    transform-origin: center bottom;\n    position: relative;\n    overflow: hidden;\n    backdrop-filter: blur(6px);\n  "]))),chapterSegmentHovered:Object(S.c)(ja||(ja=y()(["\n    transform: scaleY(1.5);\n  "]))),chapterPlayProgress:Object(S.c)(Ta||(Ta=y()(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    transform-origin: left center;\n    background-color: var(--cds-color-blue-500);\n  "]))),chapterHoverProgress:Object(S.c)(Ea||(Ea=y()(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    transform-origin: left center;\n    background-color: rgba(231 231 231 / 65%);\n  "])))},VideoProgressBarWithChapters_VideoProgressBarBaseComponent=function(e){var t=e.player,n=e.videoQuizQuestions,i=e.trackVideoPlayerClickEvent,r=e.trimmedStartTimeSeconds,a=e.shouldDisableSkippingForward,o=e.learnerMaxVideoProgressInSeconds,s=e.setShowVideoSkippingDisabledNotification,c=e.currentTime,u=e.setCurrentTime,l=Object(w.useState)(t.duration()),d=b()(l,2),p=d[0],g=d[1],m=Object(w.useState)({mouseActivityType:"none"}),v=b()(m,2),f=v[0],y=v[1],C=Object(w.useRef)(null),k=Object(w.useCallback)((function(){var e=f.wasVideoPausedWhenScrubbingStarted,n=f.scrubbingFractionOffsetFromStart;t.trigger("scrubbed"),e||t.ended()||t.play(),y({mouseActivityType:"hovering",hoverFractionOffsetFromStart:n})}),[f,t]);Object(w.useEffect)((function(){var onDurationChange=function(){g(t.duration())};t.on("durationchange",onDurationChange);var onDocumentMouseUp=function(){"scrubbing"===f.mouseActivityType&&k()};return document.addEventListener("mouseup",onDocumentMouseUp),function(){t.off("durationchange",onDurationChange),document.removeEventListener("mouseup",onDocumentMouseUp)}}),[t,f,k]);var O=Object(P.a)(I.a.down("xs")),x=ChaptersProvider_useChapters(),j=x.chapters,T=x.getChapterForTimestamp,E=T(c),V=Object(w.useCallback)((function(e){if(C.current){var t=C.current.getBoundingClientRect(),n=t.left,i=t.width;return(e.clientX-n)/i}return null}),[C]),L=Object(w.useCallback)((function(e){if(p&&c){var n=Math.max(0,Math.min(c+e+(null!=r?r:0),p));t.currentTime(n)}}),[p,c,r,t]),M=Object(w.useCallback)((function(e){a||y({mouseActivityType:"scrubbing",scrubbingFractionOffsetFromStart:V(e),wasVideoPausedWhenScrubbingStarted:t.paused()}),t.pause()}),[a,t,V]),N=Object(w.useCallback)((function(e){if(" "!==e.key&&"Spacebar"!==e.key){var skipForward=function(){!a||c+5<o?L(5):s(!0)},t={Up:skipForward,ArrowUp:skipForward,Right:skipForward,ArrowRight:skipForward,Down:function(){L(-5)},ArrowDown:function(){L(-5)},Left:function(){L(-5)},ArrowLeft:function(){L(-5)}};t[e.key]&&t[e.key]()}else e.preventDefault()}),[a,c,o,L,s]),F=Object(w.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),M(e)}),[M]),D=Object(w.useCallback)((function(e){var t=f.mouseActivityType,n=Ot()(f,Lo),i=t,r=V(e),a=n;"scrubbing"===i?a.scrubbingFractionOffsetFromStart=r:(i="hovering",a.hoverFractionOffsetFromStart=r),y(h()({mouseActivityType:i},a))}),[f,V]),R=Object(w.useCallback)((function(){if("scrubbing"===f.mouseActivityType){var e=f.scrubbingFractionOffsetFromStart;if(p&&e){var n=p*e+(null!=r?r:0);t.currentTime(n),u(p*e)}}else"none"!==f.mouseActivityType&&y({mouseActivityType:"none"})}),[f,p,r,t,u]),A=Object(w.useCallback)((function(e){var t=f.mouseActivityType,n=Ot()(f,Mo),i=V(e);"hovering"===t?y(h()(h()({mouseActivityType:t},n),{},{hoverFractionOffsetFromStart:i})):"scrubbing"===t&&y(h()(h()({mouseActivityType:t},n),{},{scrubbingFractionOffsetFromStart:i}))}),[f,V]),H=Object(w.useCallback)((function(e){e.stopPropagation(),e.preventDefault();var n=V(e);if(null!=n){if(p&&function(e){var t=e.barFractionOffset,n=e.duration,i=e.shouldDisableSkippingForward,r=e.learnerMaxVideoProgressInSeconds;return(!i||t*(null!=n?n:0)<=r)}({barFractionOffset:n,duration:p,shouldDisableSkippingForward:a,learnerMaxVideoProgressInSeconds:o})){var l=null!=c?c:r?0:Mi,d=n*p+(null!=r?r:0),g=n*p;null!=l&&i("video_scrub_bar",{previousVideoPosition:l,videoChapterName:null==E?void 0:E.chapterName}),t.currentTime(d),u(g)}(function(e){var t=e.barFractionOffset,n=e.duration,i=e.shouldDisableSkippingForward,r=e.learnerMaxVideoProgressInSeconds;return(i&&t*(n||0)>r)})({barFractionOffset:n,duration:p,shouldDisableSkippingForward:a,learnerMaxVideoProgressInSeconds:o})&&s(!0)}k()}),[V,k,p,a,o,r,c,i,null==E?void 0:E.chapterName,t,u,s]),B=C.current?4/C.current.getBoundingClientRect().width:0,z=fractionToTimestampInSeconds(B,p),U=Object(w.useMemo)((function(){return j.length>0&&!O?function(e){var t=e.chapters,n=e.duration,i=e.chapterGapAsFraction;return t.map((function(e,r){var a=e.endTimestampInSeconds>0?e.endTimestampInSeconds:null!=n?n:0;return h()(h()({},e),{},{durationAsFraction:(a-e.startTimestampInSeconds)/(null!=n?n:1)-(t.length===r+1?0:i),chapterStartFraction:e.startTimestampInSeconds/(null!=n?n:1),chapterEndFraction:r===t.length-1?1:a/(null!=n?n:1)-i})}))}({chapters:j,duration:p,chapterGapAsFraction:B}):[De]}),[j,O,p,B]);if(!p||c<0)return null;var Q=f.hoverFractionOffsetFromStart,W=f.scrubbingFractionOffsetFromStart,q=f.mouseActivityType,K=c/p,G=formatFraction(K),Z=n,J="scrubbing"===q?W:K,X=G,Y=fractionToWholeNumber(K),ee="hovering"===q?Q:W;"scrubbing"===q&&null!=W&&(X=formatFraction(W),Y=fractionToWholeNumber(W));var te="hovering"===q||"scrubbing"===q,ne=Object(bo.v)(K*p*1e3,"mmm:sss"),ie=Object(bo.v)(1e3*p,"mmm:sss"),re=Wi()("Current time #{formattedCurrentTime}, Duration #{formattedDuration}",{formattedCurrentTime:ne,formattedDuration:ie}),ae=formatFraction(o/p),oe=fractionToTimestampInSeconds(null!=ee?ee:0,p),se=te&&function(e){var t,n=e.timestamp,i=e.questions,r=e.markerWidthInSeconds;return null!==(t=null==i?void 0:i.some((function(e){return e.video.cuePointMs/1e3<=n&&e.video.cuePointMs/1e3+r>=n})))&&void 0!==t&&t}({timestamp:oe,questions:Z,markerWidthInSeconds:z}),ce=te?T(oe):void 0,ue=function(e){var t=e.mouseActivityType,n=e.chaptersWithDurationFractions,i=e.currentlyHoveredChapter,r=e.currentlyPlayingChapter;return"hovering"===t?(null==n?void 0:n.length)>1&&(null==i?void 0:i.startTimestampInSeconds)===(null==r?void 0:r.startTimestampInSeconds):(null==n?void 0:n.length)>1&&"scrubbing"===t}({mouseActivityType:q,chaptersWithDurationFractions:U,currentlyHoveredChapter:ce,currentlyPlayingChapter:E});return Object(S.d)("div",{tabIndex:0,role:"slider","aria-label":Wi()("Video Progress"),"aria-valuemin":0,"aria-valuemax":100,dir:"ltr","aria-valuenow":Y,"aria-valuetext":re,className:Nt()("rc-VideoProgressBar"),ref:C,onKeyDown:N,onMouseDown:F,onMouseEnter:D,onMouseLeave:R,onMouseMove:A,onMouseUp:H,"data-testid":"video-progress-bar",css:[No.progressBar]},(null==U?void 0:U.length)>0&&Object(S.d)("div",{"data-testid":"video-chapters",css:No.chaptersContainer},U.map((function(e,t){return Object(S.d)(w.Fragment,null,Object(S.d)("div",{css:[No.chapterWrapper,(1===(null==U?void 0:U.length)&&te||(null==ce?void 0:ce.startTimestampInSeconds)===e.startTimestampInSeconds)&&No.chapterSegmentHovered],style:{width:"".concat(100*e.durationAsFraction,"%")},key:e.chapterName},Object(S.d)("div",{"data-testid":"segment-hover-progress",css:No.chapterHoverProgress,style:{transform:getScaleXForSegment({progressFractionOffset:null!=ee?ee:0,durationAsFraction:e.durationAsFraction,chapterStartFraction:e.chapterStartFraction,chapterEndFraction:e.chapterEndFraction})}}),Object(S.d)("div",{"data-testid":"segment-progress",css:No.chapterPlayProgress,style:{transform:getScaleXForSegment({progressFractionOffset:null!=J?J:0,durationAsFraction:e.durationAsFraction,chapterStartFraction:e.chapterStartFraction,chapterEndFraction:e.chapterEndFraction})}})),(null==U?void 0:U.length)>t+1&&Object(S.d)("div",{css:No.chapterDivider}))}))),Object(S.d)("div",{css:[No.baseTrack]},null==Z?void 0:Z.map((function(e){return Object(S.d)(Co,{key:"ivq-".concat(e.id),question:e,videoDurationSeconds:p,trimmedStartTimeSeconds:r,color:"white",isInHoveredSegment:isQuestionInHoveredSegment({isUserHoveringOrScrubbing:te,chaptersWithDurationFractions:U,currentlyHoveredChapter:ce,question:e})})})),a&&Object(S.d)("div",{css:No.maxVideoProgressOverlay,style:{width:ae},className:Nt()("learner-max-video-progress-overlay")})),Object(S.d)("div",{className:Nt()("hitbox",{hovering:te}),css:[No.hitbox,te&&No.hitboxHovering]}),Object(S.d)("div",{css:[No.progressHandle,te&&No.progressHandleHovering,1===(null==U?void 0:U.length)&&te&&No.progressHandleInSingleChapter,ue&&No.progressHandleInHoveredChapter],style:{left:X},className:Nt()("progress-handle",{hovering:te})}),te&&null!=ee&&Object(S.d)(progressBar_ProgressBarTimeBadge,{time:ee*p,videoDuration:p,isInIVQMarkerRange:se}))},progressBar_VideoProgressBarWithChapters=function(e){var t=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext(),n=t.shouldDisableSkippingForward,i=t.learnerMaxVideoProgressInSeconds,r=t.setShowVideoSkippingDisabledNotification;return Object(S.d)(VideoProgressBarWithChapters_VideoProgressBarBaseComponent,u()({},e,{shouldDisableSkippingForward:n,learnerMaxVideoProgressInSeconds:i,setShowVideoSkippingDisabledNotification:r}))},Fo=["width","height"],svg_SettingsFillSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,Fo);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"SettingsFillSvg"}),Ia||(Ia=w.createElement("path",{d:"M12.6294 25.6668C12.1044 25.6668 11.6523 25.4918 11.2731 25.1418C10.894 24.7918 10.6655 24.3641 10.5877 23.8585L10.3252 21.9335C10.0724 21.8363 9.83425 21.7196 9.61064 21.5835C9.38703 21.4474 9.16828 21.3016 8.95439 21.146L7.14605 21.9043C6.65994 22.1182 6.17383 22.1377 5.68772 21.9627C5.20161 21.7877 4.82244 21.4766 4.55022 21.0293L3.17939 18.6377C2.90717 18.1904 2.82939 17.7141 2.94605 17.2085C3.06272 16.7029 3.32522 16.2849 3.73355 15.9543L5.27939 14.7877C5.25994 14.6516 5.25022 14.5203 5.25022 14.3939V13.6064C5.25022 13.48 5.25994 13.3488 5.27939 13.2127L3.73355 12.046C3.32522 11.7154 3.06272 11.2974 2.94605 10.7918C2.82939 10.2863 2.90717 9.80988 3.17939 9.36266L4.55022 6.971C4.82244 6.52377 5.20161 6.21266 5.68772 6.03766C6.17383 5.86266 6.65994 5.88211 7.14605 6.096L8.95439 6.85433C9.16828 6.69877 9.39189 6.55294 9.62522 6.41683C9.85855 6.28072 10.0919 6.16405 10.3252 6.06683L10.5877 4.14183C10.6655 3.63627 10.894 3.2085 11.2731 2.8585C11.6523 2.5085 12.1044 2.3335 12.6294 2.3335H15.3711C15.8961 2.3335 16.3481 2.5085 16.7273 2.8585C17.1065 3.2085 17.3349 3.63627 17.4127 4.14183L17.6752 6.06683C17.928 6.16405 18.1662 6.28072 18.3898 6.41683C18.6134 6.55294 18.8322 6.69877 19.0461 6.85433L20.8544 6.096C21.3405 5.88211 21.8266 5.86266 22.3127 6.03766C22.7988 6.21266 23.178 6.52377 23.4502 6.971L24.8211 9.36266C25.0933 9.80988 25.1711 10.2863 25.0544 10.7918C24.9377 11.2974 24.6752 11.7154 24.2669 12.046L22.7211 13.2127C22.7405 13.3488 22.7502 13.48 22.7502 13.6064V14.3939C22.7502 14.5203 22.7308 14.6516 22.6919 14.7877L24.2377 15.9543C24.6461 16.2849 24.9086 16.7029 25.0252 17.2085C25.1419 17.7141 25.0641 18.1904 24.7919 18.6377L23.3919 21.0293C23.1197 21.4766 22.7405 21.7877 22.2544 21.9627C21.7683 22.1377 21.2822 22.1182 20.7961 21.9043L19.0461 21.146C18.8322 21.3016 18.6086 21.4474 18.3752 21.5835C18.1419 21.7196 17.9086 21.8363 17.6752 21.9335L17.4127 23.8585C17.3349 24.3641 17.1065 24.7918 16.7273 25.1418C16.3481 25.4918 15.8961 25.6668 15.3711 25.6668H12.6294ZM14.0586 18.0835C15.1863 18.0835 16.1488 17.6849 16.9461 16.8877C17.7433 16.0904 18.1419 15.1279 18.1419 14.0002C18.1419 12.8724 17.7433 11.9099 16.9461 11.1127C16.1488 10.3154 15.1863 9.91683 14.0586 9.91683C12.9113 9.91683 11.944 10.3154 11.1565 11.1127C10.369 11.9099 9.97522 12.8724 9.97522 14.0002C9.97522 15.1279 10.369 16.0904 11.1565 16.8877C11.944 17.6849 12.9113 18.0835 14.0586 18.0835Z",fill:"white"}))))},Do=["width","height"],svg_SettingsSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=Ot()(e,Do);return(w.createElement("svg",u()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"SettingsSvg"}),Pa||(Pa=w.createElement("path",{d:"M12.6294 25.6668C12.1044 25.6668 11.6523 25.4918 11.2731 25.1418C10.894 24.7918 10.6655 24.3641 10.5877 23.8585L10.3252 21.9335C10.0724 21.8363 9.83425 21.7196 9.61064 21.5835C9.38703 21.4474 9.16828 21.3016 8.95439 21.146L7.14605 21.9043C6.65994 22.1182 6.17383 22.1377 5.68772 21.9627C5.20161 21.7877 4.82244 21.4766 4.55022 21.0293L3.17939 18.6377C2.90717 18.1904 2.82939 17.7141 2.94605 17.2085C3.06272 16.7029 3.32522 16.2849 3.73355 15.9543L5.27939 14.7877C5.25994 14.6516 5.25022 14.5203 5.25022 14.3939V13.6064C5.25022 13.48 5.25994 13.3488 5.27939 13.2127L3.73355 12.046C3.32522 11.7154 3.06272 11.2974 2.94605 10.7918C2.82939 10.2863 2.90717 9.80988 3.17939 9.36266L4.55022 6.971C4.82244 6.52377 5.20161 6.21266 5.68772 6.03766C6.17383 5.86266 6.65994 5.88211 7.14605 6.096L8.95439 6.85433C9.16828 6.69877 9.39189 6.55294 9.62522 6.41683C9.85855 6.28072 10.0919 6.16405 10.3252 6.06683L10.5877 4.14183C10.6655 3.63627 10.894 3.2085 11.2731 2.8585C11.6523 2.5085 12.1044 2.3335 12.6294 2.3335H15.3711C15.8961 2.3335 16.3481 2.5085 16.7273 2.8585C17.1065 3.2085 17.3349 3.63627 17.4127 4.14183L17.6752 6.06683C17.928 6.16405 18.1662 6.28072 18.3898 6.41683C18.6134 6.55294 18.8322 6.69877 19.0461 6.85433L20.8544 6.096C21.3405 5.88211 21.8266 5.86266 22.3127 6.03766C22.7988 6.21266 23.178 6.52377 23.4502 6.971L24.8211 9.36266C25.0933 9.80988 25.1711 10.2863 25.0544 10.7918C24.9377 11.2974 24.6752 11.7154 24.2669 12.046L22.7211 13.2127C22.7405 13.3488 22.7502 13.48 22.7502 13.6064V14.3939C22.7502 14.5203 22.7308 14.6516 22.6919 14.7877L24.2377 15.9543C24.6461 16.2849 24.9086 16.7029 25.0252 17.2085C25.1419 17.7141 25.0641 18.1904 24.7919 18.6377L23.3919 21.0293C23.1197 21.4766 22.7405 21.7877 22.2544 21.9627C21.7683 22.1377 21.2822 22.1182 20.7961 21.9043L19.0461 21.146C18.8322 21.3016 18.6086 21.4474 18.3752 21.5835C18.1419 21.7196 17.9086 21.8363 17.6752 21.9335L17.4127 23.8585C17.3349 24.3641 17.1065 24.7918 16.7273 25.1418C16.3481 25.4918 15.8961 25.6668 15.3711 25.6668H12.6294ZM12.8336 23.3335H15.1377L15.5461 20.2418C16.1488 20.0863 16.7079 19.8578 17.2231 19.5564C17.7384 19.255 18.2099 18.8904 18.6377 18.4627L21.5252 19.6585L22.6627 17.6752L20.1544 15.7793C20.2516 15.5071 20.3197 15.2203 20.3586 14.9189C20.3974 14.6175 20.4169 14.3113 20.4169 14.0002C20.4169 13.6891 20.3974 13.3828 20.3586 13.0814C20.3197 12.78 20.2516 12.4932 20.1544 12.221L22.6627 10.3252L21.5252 8.34183L18.6377 9.56683C18.2099 9.11961 17.7384 8.7453 17.2231 8.44391C16.7079 8.14252 16.1488 7.91405 15.5461 7.7585L15.1669 4.66683H12.8627L12.4544 7.7585C11.8516 7.91405 11.2926 8.14252 10.7773 8.44391C10.262 8.7453 9.7905 9.10988 9.36272 9.53766L6.47522 8.34183L5.33772 10.3252L7.84605 12.1918C7.74883 12.4835 7.68078 12.7752 7.64189 13.0668C7.603 13.3585 7.58355 13.6696 7.58355 14.0002C7.58355 14.3113 7.603 14.6127 7.64189 14.9043C7.68078 15.196 7.74883 15.4877 7.84605 15.7793L5.33772 17.6752L6.47522 19.6585L9.36272 18.4335C9.7905 18.8807 10.262 19.255 10.7773 19.5564C11.2926 19.8578 11.8516 20.0863 12.4544 20.2418L12.8336 23.3335ZM14.0586 18.0835C15.1863 18.0835 16.1488 17.6849 16.9461 16.8877C17.7433 16.0904 18.1419 15.1279 18.1419 14.0002C18.1419 12.8724 17.7433 11.9099 16.9461 11.1127C16.1488 10.3154 15.1863 9.91683 14.0586 9.91683C12.9113 9.91683 11.944 10.3154 11.1565 11.1127C10.369 11.9099 9.97522 12.8724 9.97522 14.0002C9.97522 15.1279 10.369 16.0904 11.1565 16.8877C11.944 17.6849 12.9113 18.0835 14.0586 18.0835Z",fill:"white"}))))},Ro=w.forwardRef((function(e,t){var n=e.menuPopupVisible,i=e.videoBoundaryElement,r=e.onClick,a=Wi()("Settings"),o=n?Va||(Va=Object(S.d)(svg_SettingsFillSvg,{width:28,height:28})):_a||(_a=Object(S.d)(svg_SettingsSvg,{width:28,height:28})),s=Object(S.d)("button",{type:"button",onClick:function(){r()},className:Nt()("vjs-menu-button","vjs-menu-button-popup","vjs-button","vjs-control","c-vjs-button"),"aria-disabled":"false","aria-haspopup":"true","aria-expanded":n,ref:t},o,Object(S.d)("span",{className:"vjs-control-text"}," ",a," "));return Object(S.d)(components_ModernTooltipWrapper,{placement:"top",message:a,videoBoundaryElement:i,offset:10},s)})),Ao={settingsMenu:Object(S.c)(La||(La=y()(["\n    height: 100%;\n    position: relative;\n    color: #dedede;\n\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n  "])),I.a.down("xs")),modernSettingsMenu:Object(S.c)(Ma||(Ma=y()(["\n    margin-right: var(--cds-spacing-200);\n  "])))},Ho=w.forwardRef((function(e,t){var n=e.onSettingsMenuClick,i=e.menuPopupVisible,r=e.buttonRef,a=e.videoBoundaryElement;return Object(S.d)("div",{css:[Ao.settingsMenu,Ao.modernSettingsMenu],ref:t,className:"rc-VideoSettingsMenu"},Object(S.d)(Ro,{menuPopupVisible:i,onClick:n,ref:r,videoBoundaryElement:a}))})),volumeMenu_VolumeMenuButton=function(e){var t=e.onVolumeButtonClick,n=e.volume,i=e.muted,r=Wi()("Volume"),a=i?Wi()("Unmute"):Wi()("Mute");return w.createElement(components_ModernTooltipWrapper,{placement:"top",message:a,keyboardShortcut:"m"},w.createElement("button",{type:"button",className:Nt()("vjs-button","vjs-control","c-vjs-button"),"aria-disabled":"false","aria-label":a,onClick:t},w.createElement(w.Fragment,null,!i&&n>.3?Na||(Na=w.createElement(svg_VolumeUpSvg,{width:28,height:28})):!i&&n>0&&n<=.3?Fa||(Fa=w.createElement(svg_VolumeDownSvg,{width:28,height:28})):Da||(Da=w.createElement(svg_VolumeOffSvg,{width:28,height:28}))),w.createElement("span",{className:"vjs-control-text"}," ",r," ")))},Bo=t("siax"),zo=t("CsdX"),Uo=(t("P8KX"),{modernVolumeMenuPopupContainer:Object(S.c)(Ra||(Ra=y()(["\n    height: 100%;\n    color: #fff;\n    width: 0;\n    visibility: hidden;\n    transition: visibility 0s 0.1s, width 0.1s linear;\n    padding-right: 0;\n  "]))),visible:Object(S.c)(Aa||(Aa=y()(["\n    width: 100px;\n    visibility: visible;\n    transition: width 0.1s linear;\n\n    > .rc-slider {\n      width: 75%;\n    }\n\n    .rc-VolumeSlider {\n      height: 24px;\n      padding: 10px 0;\n      margin-right: 5px;\n    }\n  "])))}),volumeMenu_VolumeMenuPopup=function(e){var t=e.visible,n=e.volume,i=e.muted,r=e.onVolumeSliderChange,a=e.onBeforeChange,o=e.onAfterChange,s=e.useLightVolumeSliderStyle,c=w.useRef(null),u=Wi()("Volume Control Slider");w.useEffect((function(){var e,t,n;null==c||null===(e=c.current)||void 0===e||null===(t=e.sliderRef)||void 0===t||null===(n=t.querySelector(".rc-slider-handle"))||void 0===n||n.setAttribute("aria-label",u)}),[u]);var l={borderColor:zo.b.white,height:"14px",width:"14px",marginLeft:"-5px",marginTop:"-5px",cursor:"pointer"};return Object(S.d)("div",{className:Nt()("rc-VolumeMenuPopup","horizontal-box","align-items-absolute-center",{visible:t}),css:[Uo.modernVolumeMenuPopupContainer,t&&Uo.visible]},Object(S.d)(Bo.a,{ref:c,className:"rc-VolumeSlider",value:i?0:100*n,onChange:r,onBeforeChange:a,onAfterChange:o,trackStyle:{backgroundColor:zo.b.white,cursor:"pointer"},handleStyle:l,railStyle:h()({backgroundColor:"#aaa"},s&&{backgroundColor:"rgb(231 231 231);",opacity:.5,backdropFilter:"blur(6px)"}),reverse:Object(He.isRightToLeft)(Wi.a.getLocale())}))},Qo={volumeMenu:Object(S.c)(Ha||(Ha=y()(["\n    height: 100%;\n    position: relative;\n    color: #dedede;\n\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n  "])),I.a.down("xs")),modernVolumeMenu:Object(S.c)(Ba||(Ba=y()(["\n    margin-left: var(--cds-spacing-100);\n  "])))},Wo=function(e){function VolumeMenu(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={menuPopupVisible:!1,muted:null,volume:null,isSliderChanging:!1,previousVolume:-1},t.onClick=function(e){e.stopPropagation()},t.showVolumeMenuPopup=function(){(0,t.props.setVolumeMenuPopup)(),t.setState({menuPopupVisible:!0})},t.onMenuEnter=function(e){e.stopPropagation(),t.showVolumeMenuPopup()},t.onMenuLeave=function(e){e.stopPropagation(),t.state.isSliderChanging||t.setState({menuPopupVisible:!1})},t.onVolumeChange=function(){var e=t.props.player,n=t.state.volume;null!=n&&t.trackVolumeEvent("volume.change",{volume_delta:e.volume()-n}),t.setState({volume:e.volume(),muted:e.muted()})},t.onVolumeButtonClick=function(e){var n;e.stopPropagation();var i=t.props,r=i.player,a=i.trackVideoPlayerClickEvent,o=null!==(n=r.volume())&&void 0!==n?n:-1,s=!r.muted();if(r.muted(s),Ui.a.set("volume",s?0:r.volume()),s)t.trackVolumeEvent("mute"),a("video_mute",{previousVolume:o,volume:0});else{if(t.trackVolumeEvent("unmute"),0===r.volume()){r.volume(.3),t.setState({volume:.3}),Ui.a.set("volume",.3)}a("video_mute",{previousVolume:0})}t.setState({muted:r.muted()})},t.onVolumeSliderChange=function(e){var n=t.props.player;0===e?(n.volume(0),n.muted(!0)):(n.volume(e/100),n.muted(!1)),Ui.a.set("volume",n.muted()?0:n.volume())},t.onBeforeChange=function(){var e,n=t.props.player;t.setState({isSliderChanging:!0,previousVolume:null!==(e=n.volume())&&void 0!==e?e:-1})},t.onAfterChange=function(){var e,n=t.props,i=n.player,r=n.trackVideoPlayerClickEvent,a=t.state.previousVolume;t.setState({isSliderChanging:!1}),r("video_volume_scrub_bar",{previousVolume:a,volume:null!==(e=i.volume())&&void 0!==e?e:-1})},t.trackVolumeEvent=function(e,n){var i=t.props.player,r=t.context._eventData.namespace.app;AnalyticsMetadataFetcher_createVideoEventTracker(r,i)(e,h()({},n))},t}Lt()(VolumeMenu,e);var t=VolumeMenu.prototype;return t.componentDidMount=function(){var e=this.props.player;this.setState({volume:e.volume(),muted:e.muted()}),e.on("volumechange",this.onVolumeChange)},t.componentWillUnmount=function(){this.props.player.off("volumechange",this.onVolumeChange)},t.render=function(){var e=this.props,t=e.assignRef,n=e.useLightVolumeSliderStyle,i=this.state,r=i.menuPopupVisible,a=i.muted,o=i.volume;return null==a||null==o?null:Object(S.d)("div",{className:Nt()("rc-VolumeMenu","horizontal-box","align-items-absolute-center"),role:"presentation",onMouseEnter:this.onMenuEnter,onMouseLeave:this.onMenuLeave,onFocus:this.showVolumeMenuPopup,onClick:this.onClick,ref:t,css:[Qo.volumeMenu,Qo.modernVolumeMenu]},Object(S.d)(volumeMenu_VolumeMenuButton,{onVolumeButtonClick:this.onVolumeButtonClick,volume:o,muted:a}),Object(S.d)(volumeMenu_VolumeMenuPopup,{visible:r,volume:o,muted:a,onVolumeSliderChange:this.onVolumeSliderChange,onBeforeChange:this.onBeforeChange,onAfterChange:this.onAfterChange,useLightVolumeSliderStyle:n}))},VolumeMenu}(w.Component);Wo.contextTypes={_eventData:Sn.a.object.isRequired};var qo,Ko,Go,Zo,Jo,Xo,Yo,$o,es,ts,ns,is,rs,as,os,ss,cs,us,ls,ds,ps,gs,ms,hs=Wo,vs={controlBar:function(e){return Object(S.c)(qo||(qo=y()(["\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    opacity: 0;\n    height: 0;\n    transition: height 0s 0.2s, opacity 0.2s linear;\n    color: #dedede;\n\n    &.visible {\n      opacity: 1;\n      height: ","px;\n      transition: opacity 0.2s linear;\n\n      "," {\n        min-height: ","px;\n        height: auto;\n      }\n    }\n\n    &::after {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 98px;\n      content: '';\n      z-index: -99;\n\n      /* Manual CSS gradient easing so we're not left with a harsh edge\n      Generated by https://larsenwork.com/easing-gradients\n      For more info, see https://css-tricks.com/easing-linear-gradients/ */\n      background-image: linear-gradient(\n        to bottom,\n        hsl(0deg 0% 0% / 0%) 0%,\n        hsl(0deg 0% 0% / 0.8%) 8.1%,\n        hsl(0deg 0% 0% / 3.2%) 15.5%,\n        hsl(0deg 0% 0% / 6.9%) 22.5%,\n        hsl(0deg 0% 0% / 11.6%) 29%,\n        hsl(0deg 0% 0% / 17.1%) 35.3%,\n        hsl(0deg 0% 0% / 23.2%) 41.2%,\n        hsl(0deg 0% 0% / 29.7%) 47.1%,\n        hsl(0deg 0% 0% / 36.3%) 52.9%,\n        hsl(0deg 0% 0% / 42.8%) 58.8%,\n        hsl(0deg 0% 0% / 48.9%) 64.7%,\n        hsl(0deg 0% 0% / 54.4%) 71%,\n        hsl(0deg 0% 0% / 59.1%) 77.5%,\n        hsl(0deg 0% 0% / 62.8%) 84.5%,\n        hsl(0deg 0% 0% / 65.2%) 91.9%,\n        hsl(0deg 0% 0% / 66%) 100%\n      );\n    }\n  "])),e,I.a.down("xs"),e+7)},controlBarAfter:function(e){return Object(S.c)(Ko||(Ko=y()(["\n    &::after {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: ","px;\n      "," {\n        min-height: ","px;\n        height: auto;\n      }\n\n      content: '';\n      z-index: -99;\n\n      /* Manual CSS gradient easing so we're not left with a harsh edge\n      Generated by https://larsenwork.com/easing-gradients\n      For more info, see https://css-tricks.com/easing-linear-gradients/ */\n      background-image: linear-gradient(\n        to top,\n        hsl(0deg 0% 0% / 48%) 0%,\n        hsl(0deg 0% 0% / 47.7%) 8.1%,\n        hsl(0deg 0% 0% / 46.8%) 15.5%,\n        hsl(0deg 0% 0% / 45.5%) 22.5%,\n        hsl(0deg 0% 0% / 43.8%) 29%,\n        hsl(0deg 0% 0% / 41.8%) 35.3%,\n        hsl(0deg 0% 0% / 39.6%) 41.2%,\n        hsl(0deg 0% 0% / 37.2%) 47.1%,\n        hsl(0deg 0% 0% / 34.8%) 52.9%,\n        hsl(0deg 0% 0% / 32.4%) 58.8%,\n        hsl(0deg 0% 0% / 30.2%) 64.7%,\n        hsl(0deg 0% 0% / 28.2%) 71%,\n        hsl(0deg 0% 0% / 26.5%) 77.5%,\n        hsl(0deg 0% 0% / 25.2%) 84.5%,\n        hsl(0deg 0% 0% / 24.3%) 91.9%,\n        hsl(0deg 0% 0% / 24%) 100%\n      );\n    }\n  "])),e+2,I.a.down("xs"),e+7)},controlBarGradient:Object(S.c)(Go||(Go=y()(["\n    &::before {\n      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADeCAYAAAD8fWpzAAAAAXNSR0IArs4c6QAAASVJREFUOE9lyGdHxgEUhvGnvffee++9e9q7RBJJIokkkUSSSCJJJJEkkkgfMtf94hx/nRc/93VCoX8XwUdEBokiRbQRw3JiSRFnxLOcBFIkGkksJ5kUKUYqy0kjRbqRwRKZQbJIkW3ksJxcUuQZ+SyngBSFRhHLKSZFiVHKcspIUW5UsERlkCpSVBs1LKeWFHVGPctpIEWj0cRymknRYrSyRFuQdlJ0GJ0sp4sU3UYPy+klRZ/Rz3IGSDFoDLGcYVKMGKMsEQ4yRopxY4LlTJJiyphmOTOkmDXmWM48KRaMRZazRIplWIFVWIN12IBN2IJt2IFd2IN9OIBDOIJjOIFTOINzuIBLuIJruIFbuIN7eIBHeIJneIFXeIN3+IBP+IJv+IHfPxKvL0jelzwbAAAAAElFTkSuQmCC');\n      content: '';\n      position: absolute;\n      height: 200px;\n      width: 100%;\n      display: block;\n      bottom: 0;\n      left: 0;\n      z-index: -99;\n      pointer-events: none;\n    }\n\n    &::after {\n      opacity: 0.2;\n    }\n  "]))),controlsContainer:Object(S.c)(Zo||(Zo=y()(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    height: 100%;\n    position: relative;\n    width: 100%;\n    container-type: size;\n    container-name: controls-container;\n\n    /* Needs padding to prevent selection outlines from being cut off */\n    padding: ","px 8px;\n\n    "," {\n      flex-wrap: wrap;\n    }\n  "])),2,I.a.down("xs")),chapterName:Object(S.c)(Jo||(Jo=y()(["\n    font-size: 18px;\n    font-weight: 600;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    line-clamp: 1;\n    height: 1.1em;\n    color: var(--cds-color-neutral-primary-invert);\n\n    @container controls-container (max-width: 650px) {\n      display: none;\n    }\n\n    &::before {\n      content: '';\n      color: var(--cds-color-neutral-primary-invert);\n      margin-left: 2px;\n      margin-right: 12px;\n      font-size: 18px;\n      font-weight: 600;\n    }\n  "]))),leftSideControls:Object(S.c)(Xo||(Xo=y()(["\n    width: calc(100% - ","px);\n    display: flex;\n    flex-direction: row;\n    justify-content: start;\n    align-items: center;\n    min-width: 300px;\n  "])),160),rightSideControls:Object(S.c)(Yo||(Yo=y()(["\n    display: flex;\n    flex-direction: row;\n    justify-content: end;\n    align-items: center;\n  "])))},components_ControlBar=function(e){var t=e.setVisiblePopup,n=e.visible,i=e.player,r=e.visiblePopup,a=e.defaultSubtitleLanguage,o=e.videoQuizQuestions,s=e.onChangeFullScreen,c=e.trackVideoPlayerClickEvent,u=e.trackVideoPlayerViewEvent,l=e.trimmedStartTimeSeconds,d=e.enableHls,p=e.videoBoundaryElement,g=e.dubbedSources,m=e.originalSources,v=e.dubbedSubtitlesVtt,f=e.hlsSource,y=e.trackVideoPlayerInteractionEvent,C=e.videoProgress,O=Object(w.useCallback)((function(){var e,t;return l?(null!==(e=i.currentTime())&&void 0!==e?e:0)-l:null!==(t=i.currentTime())&&void 0!==t?t:0}),[i,l]),x=Object(w.useState)(O()),j=b()(x,2),T=j[0],E=j[1],P=Object(w.useRef)(null),V=Object(w.useRef)(null),L=Object(w.useRef)(null),M=Object(Be.b)(),N=M.defaultLanguageKey,F=M.isDubbingAvailable,D=Object(w.useRef)(null),R=Object(w.useRef)(null),A=Object(w.useRef)(null),H=Object(w.useRef)(null),B=new ii.a,z="settings"===r,U="subtitle"===r,Q=ChaptersProvider_useChapters(),W=Q.areChaptersEnabled,q=Q.getChapterForTimestamp,K=Object(w.useCallback)((function(e){return function(t){return null==t||!t.current||!t.current.contains(e)}}),[]),G=Object(w.useCallback)((function(){t(null)}),[t]);Object(w.useEffect)((function(){var onTimeChange=function(){E(O())};i.on("timeupdate",onTimeChange);var dismissAllMenusExcept=function(e){var n=e.target,i=K(n);i(P)&&i(V)&&i(D)&&i(R)&&i(H)&&t(null)},closeAndFocusMenuButton=function(e){var t;G(),null===(t=e.current)||void 0===t||t.focus()},handleKeyPress=function(e){"Escape"===e.key&&(z&&closeAndFocusMenuButton(L),U&&closeAndFocusMenuButton(A))};return document.addEventListener("mousedown",dismissAllMenusExcept),z||U?document.addEventListener("keydown",handleKeyPress):document.removeEventListener("keydown",handleKeyPress),function(){i.off("timeupdate",onTimeChange),document.removeEventListener("mousedown",dismissAllMenusExcept),document.removeEventListener("keydown",handleKeyPress)}}),[i,O,t,K,G,z,U]);var toggleMenuPopup=function(e){t(r===e?null:e)},Z=function(e,t){var n=Object(w.useState)(e.playbackRate()),i=b()(n,2),r=i[0],a=i[1],o=Object(w.useCallback)((function(){var t=e?e.playbackRate():1;a(t),Ui.a.set("playbackRate",t)}),[e]);Object(w.useEffect)((function(){return e.on("ratechange",o),function(){e.off("ratechange",o)}}),[o,e]);return{onIncreasePlaybackRateClick:function(n){n.stopPropagation();var i=Li.findIndex((function(e){return e===r})),a=Math.min(Li.length-1,i+1),o=Li[a];t&&t("video_playback_rate_increase",{previousPlaybackRate:Math.round(null!=r?r:Mi),playbackRate:o}),e.playbackRate(o)},onDecreasePlaybackRateClick:function(n){n.stopPropagation();var i=Li.findIndex((function(e){return e===r})),a=Math.max(0,i-1),o=Li[a];t&&t("video_playback_rate_decrease",{previousPlaybackRate:Math.round(null!=r?r:Mi),playbackRate:o}),e.playbackRate(o)},currentPlaybackRate:r,supportedPlaybackRates:Li,onPlaybackRateClick:function(t){var n=Li.findIndex((function(e){return e===t})),i=Li[n];e.playbackRate(i)}}}(i,c),J=Z.currentPlaybackRate,X=Z.supportedPlaybackRates,Y=Z.onPlaybackRateClick,ee=function(e){var t=e.player,n=e.enableHls,i=e.hlsSource,r=e.originalSources,a=Object(w.useMemo)((function(){return getInitialResolution({sourcesByResolution:r,enableHlsExperiment:!!n,isAutoAllowed:!0})}),[n,r]),o=t.getSupportedResolutions(),s=Object(w.useState)("auto"===a?"":a),c=b()(s,2),u=c[0],l=c[1],d=Object(w.useState)(a),p=b()(d,2),g=p[0],m=p[1],h=Object(w.useCallback)((function(e){"auto"===e?(Ui.a.set("hlsResolution","auto"),"application/x-mpegURL"!==t.currentSource().type&&n&&i&&loadNewSrc({player:t,src:i,type:"application/x-mpegURL"}),function(e){for(var t=e.player,n=e.onAutoResolutionEnabled,i=t.qualityLevels(),r=0;r<i.length;r+=1)i[r].height&&(i[r].enabled=!0);n()}({player:t,onAutoResolutionEnabled:function(){m(e)}})):(resolutionUtils_saveResolutionInUserPreferences(e),t.resolution(e,{forceResolutionChange:!0}),m(e))}),[n,i,t]);return Object(w.useEffect)((function(){n&&function(e){var t=e.player,n=e.setCurrentResolution;t.on("resize",(function(){var e=t.videoHeight(),i="".concat(e,"p");n(i)}))}({player:t,setCurrentResolution:l})}),[n,t]),Object(w.useEffect)((function(){var onResolutionChange=function(){var e=t?t.resolution():videoUtils_getDefaultVideoResolution();l(e),m(e)};return t.on("resolutionchange",onResolutionChange),function(){t.off("resolutionchange",onResolutionChange)}}),[t]),{currentResolution:u,currentResolutionOption:g,supportedResolutions:o,onResolutionOptionClick:h,setCurrentResolutionOption:m,setCurrentResolution:l}}({player:i,enableHls:d,hlsSource:f,originalSources:m}),te=ee.currentResolution,ne=ee.currentResolutionOption,ie=ee.supportedResolutions,re=ee.onResolutionOptionClick,ae=ee.setCurrentResolutionOption,oe=ee.setCurrentResolution,getDubbedSubtitleKeys=function(){return Object.keys(null!=v?v:{})},se=function(e){var t=e.getDubbedSubtitleKeys,n=Object(w.useState)(!1),i=b()(n,2),r=i[0],a=i[1],o=Object(w.useState)(null),s=b()(o,2),c=s[0],u=s[1],l=Object(Be.b)(),d=l.setShouldNudgeBeVisible,p=l.shouldNudgeBeVisible,g=l.isDubbingAvailable,m=Object(w.useCallback)((function(){var e=Object(He.getUserLanguageCode)(),n=t(),i=function(e,t){var n,i=!1;return e.forEach((function(e){t===e&&(i=!0,n=e)})),{prefixMatched:i,languageMatched:n}}(n,e.split("-")[0]),r=i.prefixMatched,o=i.languageMatched,s=n.includes(e)||r;s&&(a(s),u(r&&o?o:e))}),[t]),v=Object(w.useCallback)((function(){var e=t(),n=transformDubbedSources(e),i=dubbingUtil_getAudienceLanguageFromBrowserLanguage(n);i&&(a(!0),u(i))}),[t]),f=Object(w.useCallback)((function(){var e=t(),n=transformDubbedSources(e),i=dubbingUtil_getAudienceLanguageFromCountryCode(n);i&&(a(!0),u(i))}),[t]),y=Object(w.useCallback)((function(e){var n=t(),i=e&&n.includes(e);i?(a(i),u(e)):(a(!1),u(null),m(),d(h()(h()({},p),{},{isVisible:!0})),f(),v())}),[t,m,d,p,f,v]),C=Object(w.useCallback)((function(){var e=p.languageCode;e&&(t().includes(e)?(u(e),a(!0)):(a(!1),u(null),m(),y(e),f(),v()))}),[p.languageCode,t,m,y,f,v]);return Object(w.useEffect)((function(){g&&m()}),[g,m]),Object(w.useEffect)((function(){g&&v()}),[g,v]),Object(w.useEffect)((function(){g&&f()}),[g,f]),Object(w.useEffect)((function(){p.isVisible&&g&&(C(),d(h()(h()({},p),{},{isVisible:!1})))}),[g,d,p,C]),{setShouldNudgeBeVisible:d,shouldNudgeBeVisible:p,shouldShowNudge:r,setShouldShowNudge:a,nudgeLanguageCode:c,setNudgeLanguageCode:u,shouldShowNudgeOnSubtitleChange:y,shouldShowNudgeOnMatchingUserLanguage:m}}({getDubbedSubtitleKeys:getDubbedSubtitleKeys}),ce=se.shouldShowNudge,ue=se.setShouldShowNudge,le=se.nudgeLanguageCode,de=se.shouldShowNudgeOnSubtitleChange,pe=se.shouldShowNudgeOnMatchingUserLanguage,ge="none"!==Ui.a.get("audioLanguage")&&!!Ui.a.get("audioLanguage"),me=function(e){var t=e.dubbedSources,n=e.player,i=e.originalSources,r=e.defaultLanguageKey,a=e.setShouldShowNudge,o=e.getDubbedSubtitleKeys,s=e.shouldShowNudgeOnMatchingUserLanguage,c=e.setCurrentResolutionOption,u=e.setCurrentResolution,l=e.enableHls,d=e.hlsSource,p=e.currentResolution,g=Object(Be.b)(),m=g.setShouldChangeTranscriptTracks,h=g.setShouldChangeTranscriptLanguage,v=g.setReportIssueSectionVisible,b=g.setChangeSubtitleOnAudioChange,f=g.isDubbingAvailable,y=g.selectedAudioLanguage,C=g.setSelectedAudioLanguage;Object(w.useEffect)((function(){C({id:null!=r?r:"",label:Object(ri.c)(null!=r?r:""),languageKey:null!=r?r:""})}),[r,C]);var onDubbedAudioChoiceClick=function(e){var o,u,g=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(!1);var f=e.languageKey===r,y=!!(f&&l&&d),k=n.getSupportedResolutions().includes(p)?p:n.resolution();if(f){var S;if(!(o=y?d:null===(S=i[k])||void 0===S?void 0:S["video/mp4"]))return;C(e),u=!1,Ui.a.set("audioLanguage","none"),Ui.a.set("dubbedSubtitleLanguage","none"),s()}else{var w,O;if(!(o=null==t?void 0:null===(w=t[e.languageKey])||void 0===w?void 0:null===(O=w[k])||void 0===O?void 0:O.mp4VideoUrl))return;C(e),Ui.a.set("audioLanguage",e.languageKey),u=!0}if(o){var x=n.currentTime(),j=n.playbackRate(),T=n.paused();n.one("loadedmetadata",(function(){var t=Math.max(n.currentTime(),x);n.currentTime(t),n.playbackRate(j);var i,r=Ui.a.get("autoplay");if(T&&!r?n.pause():n.play(),g){var a=ke.get("dubbed-language-code");i="none"===a?ke.get("language-code"):a}else f?(i=ke.get("language-code"),ke.set("dubbed-language-code","none")):(i=e.languageKey,ke.set("dubbed-language-code",i));h({shouldChange:!0,languageCode:i}),b({shouldChange:!0,languageCode:e.languageKey}),v(u)})),m({shouldChange:e.languageKey!==r,languageCode:e.languageKey}),n.pause(),n.src({src:o,type:y?"application/x-mpegURL":"video/mp4"}),y?(c("auto"),resolutionUtils_saveResolutionInUserPreferences("auto")):(c(k),resolutionUtils_saveResolutionInUserPreferences(k))}};return Object(w.useEffect)((function(){if(f){var e=Ui.a.get("audioLanguage");if("none"!==e&&void 0!==e){var t=o();if(e&&t.includes(e)){var i={id:e,label:Object(ri.a)(e),languageKey:e};n.ready((function(){onDubbedAudioChoiceClick(i,!0)}))}}}}),[f]),{selectedAudioLanguage:y,onDubbedAudioChoiceClick:onDubbedAudioChoiceClick,getDubbedLanguagesList:function(){var e=Object.keys(null!=t?t:{}).map((function(e){return{label:Object(ri.a)(e),languageKey:e}}));return r&&e.unshift({label:Object(ri.c)(r),languageKey:r}),e.sort((function(e,t){return e.label.localeCompare(t.label)}))},handleResolutionChangeForDubbedAudio:function(e){var i,r,a=null==t?void 0:null===(i=t[y.languageKey])||void 0===i?void 0:null===(r=i[e])||void 0===r?void 0:r.mp4VideoUrl;if(a&&"auto"!==e){var o=n.currentTime(),s=n.playbackRate(),l=n.paused();n.one("loadedmetadata",(function(){n.currentTime(o),n.playbackRate(s);var e=Ui.a.get("autoplay");l&&!e?n.pause():n.play()})),n.resolution(e,{skipSrcLoadingLogic:!0}),resolutionUtils_saveResolutionInUserPreferences(e),n.src({src:a,type:"video/mp4"}),c(e),u(e)}}}}({originalSources:m,dubbedSources:g,player:i,defaultLanguageKey:N,setShouldShowNudge:ue,getDubbedSubtitleKeys:getDubbedSubtitleKeys,shouldShowNudgeOnMatchingUserLanguage:pe,currentResolution:te,setCurrentResolutionOption:ae,setCurrentResolution:oe,enableHls:d,hlsSource:f}),he=me.selectedAudioLanguage,ve=me.onDubbedAudioChoiceClick,be=me.getDubbedLanguagesList,fe=me.handleResolutionChangeForDubbedAudio,ye=null!==te&&null!==J&&null!==ie,Ce=useSubtitleMenuControls_useSubtitleMenuControls({selectedAudioLanguage:he,defaultLanguageKey:N,defaultSubtitleLanguage:a,player:i,trackVideoPlayerClickEvent:c,shouldShowNudgeOnSubtitleChange:de}),Se=Ce.onSubtitleLanguageChoiceClick,we=Ce.onSubtitleOffClick,Oe=Ce.currentTrack,xe=Ce.tracks,je=useAutoplayToggle_useAutoplayToggle({subscribeToAutoplayChanges:function(e){return i.on("autoplaychange",e)},unsubscribeFromAutoplayChanges:function(e){return i.off("autoplaychange",e)},triggerAutoplayChangePlayerEvent:function(){return i.trigger("autoplaychange")}}),Te=je.autoplay,Ee=je.handleToggleSwitchClick,Ie=q(T);return Object(S.d)(w.Fragment,null,Object(S.d)("div",{"data-testid":"video-control-bar",css:[vs.controlBar(64),vs.controlBarAfter(64),W&&vs.controlBarGradient],className:Nt()("rc-ControlBar",{visible:n}),onClick:function(e){e.stopPropagation()},onDoubleClick:function(e){e.stopPropagation()}},W?Object(S.d)(progressBar_VideoProgressBarWithChapters,{player:i,videoQuizQuestions:o,trackVideoPlayerClickEvent:c,trimmedStartTimeSeconds:l,currentTime:T,setCurrentTime:E}):Object(S.d)(progressBar_VideoProgressBar,{player:i,videoQuizQuestions:o,trackVideoPlayerClickEvent:c,trimmedStartTimeSeconds:l}),Object(S.d)("div",{className:"icon-container",css:vs.controlsContainer},Object(S.d)("div",{css:vs.leftSideControls},Object(S.d)(Qa,{player:i,isDubbingAvailable:F,trackVideoPlayerClickEvent:c,trackVideoPlayerInteractionEvent:y,videoBoundaryElement:p}),Object(S.d)(hs,{player:i,setVolumeMenuPopup:function(){toggleMenuPopup("volume")},assignRef:function(e){H.current=e},trackVideoPlayerClickEvent:c,useLightVolumeSliderStyle:W}),Object(S.d)(SeekControls_SeekBackwardControl,{player:i,trackVideoPlayerClickEvent:c,videoBoundaryElement:p}),Object(S.d)(Za,{player:i,trimmedStartTimeSeconds:l}),Object(S.d)(SeekControls_SeekForwardControl,{player:i,trackVideoPlayerClickEvent:c,videoBoundaryElement:p}),W&&(null==Ie?void 0:Ie.chapterName)&&Object(S.d)("div",{css:vs.chapterName},null==Ie?void 0:Ie.chapterName)),Object(S.d)("div",{css:vs.rightSideControls},Object(S.d)(components_PlaybackRateControl,{trackVideoPlayerClickEvent:c,onPlaybackRateClick:Y,currentPlaybackRate:J,videoBoundaryElement:p}),ye&&Object(S.d)(Ho,{ref:P,menuPopupVisible:z,onSettingsMenuClick:function(){toggleMenuPopup("settings"),document.documentElement.clientWidth<=I.a.values.sm&&i.pause(),c("video_settings_menu",{})},buttonRef:L,videoBoundaryElement:p}),B.isIOS?Object(S.d)(components_IosFullscreenToggle,{player:i,trackVideoPlayerClickEvent:c}):Object(S.d)(components_FullscreenToggle,{onChangeFullScreen:s,videoBoundaryElement:p})))),Object(S.d)(components_AudioDubbingNudgeTooltip,{visible:ce&&he.languageKey===N,languageCode:le,onDubbedAudioChoiceClick:ve,trackVideoPlayerClickEvent:c,playerHasLoaded:Boolean(i)&&null!==C&&!k()(C),trackVideoPlayerViewEvent:u}),ye&&Object(S.d)(vo,{trackVideoPlayerClickEvent:c,enableHls:d&&!ge,autoplay:Te,dubbedLanguages:be(),onDubbedAudioChoiceClick:ve,handleResolutionChangeForDubbedAudio:fe,selectedAudioLanguage:he,isOriginalAudioSelected:he.languageKey===N,defaultLanguageKey:N,onToggleAutoplay:Ee,currentPlaybackRate:J,supportedPlaybackRates:X,onPlaybackRateClick:Y,currentResolution:te,currentResolutionOption:ne,supportedResolutions:ie,onResolutionOptionClick:re,onSubtitleLanguageChoiceClick:Se,onSubtitleOffClick:we,currentTrack:Oe,tracks:xe,ref:V,visible:z,closeSettingsMenu:G}))},bs=t("eJMc"),fs=t.n(bs),ys=t("kvW3"),Cs=t("fAYU"),ks=t("pLcN"),Ss=t("KG2t"),ws={autoNextOverlay:Object(S.c)($o||($o=y()(["\n    position: absolute;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    background-color: rgba(0 0 0 / 80%);\n    transition: background-color 0.5s linear;\n  "]))),overlayDisplay:Object(S.c)(es||(es=y()(["\n    width: 50%;\n  "]))),nextItemBtn:Object(S.c)(ts||(ts=y()(["\n    height: 96px;\n    width: 96px;\n    margin-right: 12px;\n    color: #fff;\n  "]))),itemInfo:Object(S.c)(ns||(ns=y()(["\n    font-size: 16px;\n    color: #fff;\n\n    > :not(:last-child) {\n      margin-bottom: 12px;\n    }\n\n    .timer {\n      font-weight: bold;\n      font-size: 16px;\n      color: #3cb371;\n    }\n\n    .timer-red {\n      color: #ee4b2b;\n    }\n  "]))),nextItemName:Object(S.c)(is||(is=y()(["\n    font-size: 24px;\n    font-weight: bold;\n    text-decoration: none;\n  "]))),link:Object(S.c)(rs||(rs=y()(["\n    color: var(--cds-color-neutral-background-primary) !important;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: none;\n    }\n  "]))),nextItemDuration:Object(S.c)(as||(as=y()(["\n    color: #bdbdbd;\n  "]))),nextItemCtaBtn:Object(S.c)(os||(os=y()(["\n    font-size: 16px;\n    font-weight: 600;\n    margin-top: 14px;\n    text-decoration: none;\n    text-transform: uppercase;\n    color: var(--cds-color-neutral-background-primary);\n  "]))),cancelBtn:Object(S.c)(ss||(ss=y()(["\n    margin-left: 1rem;\n    color: var(--cds-color-neutral-background-primary);\n  "])))},autoplay_AutoNextOverlay=function(e){var t,n=e.defaultCountdown,i=void 0===n?10:n,r=e.isAutoNextEnabled,a=e.isAutoNextPaused,o=e.nextItem,s=Object(un.b)(),c=Object(w.useState)(i),u=b()(c,2),l=u[0],d=u[1],p=Object(w.useState)(!1),g=b()(p,2),m=g[0],h=g[1],v=Object(w.useState)(!1),f=b()(v,2),y=f[0],C=f[1],k=Object(w.useState)(!1),O=b()(k,2),x=O[0],j=O[1],T=Object(w.useRef)(null),E=null==o?void 0:o.getLink(),I=null==o?void 0:null===(t=o.getContent())||void 0===t?void 0:t.typeName,stopTimer=function(){T.current&&clearInterval(T.current),h(!1)},P=Object(w.useCallback)((function(e){null==e||e.stopPropagation(),stopTimer(),j(!0),Yi.isFullScreen()&&Yi.requestFullScreenExit()}),[]),V=Object(w.useCallback)((function(){d((function(e){return 1===e?(P(),E&&s.push(E),e):e-1}))}),[P,E,s]);if(Object(w.useEffect)((function(){return r&&(T.current=window.setInterval(V,1e3),h(!0)),function(){stopTimer()}}),[V,r]),!o)return null;var L=o.getName(),M=o.getTimeCommitment(),N=Object(bo.y)(M);return Object(S.d)("div",{css:ws.autoNextOverlay,"data-testid":"autoNextOverlay",className:Nt()("rc-AutoNextOverlay","horizontal-box","align-items-absolute-center"),onClick:function(e){return e.stopPropagation()}},Object(S.d)("div",{css:ws.overlayDisplay,className:"overlay-display horizontal-box"},Object(S.d)("div",{css:ws.nextItemBtn,className:"next-item-button vertical-box"},Object(S.d)(Cs.a,{"data-testid":"next-item-icon-link-".concat(I),component:fs.a,onClick:P,href:"#",to:E},Object(S.d)(Ss.a,{size:96,type:I,style:{fill:zo.b.white}}))),Object(S.d)("div",{className:"next-item-display vertical-box"},Object(S.d)("div",{css:ws.itemInfo,className:"item-info vertical-box"},Object(S.d)("span",{className:"up-next"},Wi()("Up Next")),Object(S.d)(Cs.a,{component:fs.a,href:"#",to:E,onClick:P,css:[ws.nextItemName,ws.link]},L),Object(S.d)("span",{css:ws.nextItemDuration,className:"next-item-duration"},N),m&&!y&&!x&&Object(S.d)(ys.a,{message:Wi()('Starts in <span class="timer">{countdownTime}</span> {countdownTime, plural, one {second} other {seconds}}'),countdownTime:l}),!m&&!y&&!x&&Object(S.d)(Zt.a,{className:"timer-red",component:"span",variant:"subtitleMedium"},a?Wi()("Autoplay paused"):Wi()("Autoplay disabled")),x&&Object(S.d)(ks.a,{inverted:!0,label:Wi()("Almost ready...")})),Object(S.d)("div",{className:"horizontal-box align-items-vertical-center",style:{marginLeft:"-33"}},o&&!x&&Object(S.d)(Cs.a,{component:fs.a,href:"#",to:E,variant:"quiet",onClick:P,className:"next-item-cta-button",id:"start-button",css:[ws.nextItemCtaBtn,ws.link]},Wi()("Start")),o&&r&&m&&Object(S.d)(Cs.a,{href:"#",onClick:function(e){e&&e.stopPropagation(),stopTimer(),C(!0)},className:"next-item-cta-button",id:"cancel-button",css:[ws.nextItemCtaBtn,ws.cancelBtn,ws.link]},Wi()("Cancel"))))))},Os=["width","height"],CenterPlayButton_PlayArrowSvg=function(e){var t=e.width,n=void 0===t?96:t,i=e.height,r=void 0===i?96:i,a=Ot()(e,Os);return(w.createElement("svg",u()({width:n,height:r,viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),cs||(cs=w.createElement("path",{d:"M32 68.6998V27.2998C32 26.1665 32.4 25.2165 33.2 24.4498C34 23.6831 34.9333 23.2998 36 23.2998C36.3333 23.2998 36.6833 23.3498 37.05 23.4498C37.4167 23.5498 37.7667 23.6998 38.1 23.8998L70.7 44.5998C71.3 44.9998 71.75 45.4998 72.05 46.0998C72.35 46.6998 72.5 47.3331 72.5 47.9998C72.5 48.6665 72.35 49.2998 72.05 49.8998C71.75 50.4998 71.3 50.9998 70.7 51.3998L38.1 72.0998C37.7667 72.2998 37.4167 72.4498 37.05 72.5498C36.6833 72.6498 36.3333 72.6998 36 72.6998C34.9333 72.6998 34 72.3165 33.2 71.5498C32.4 70.7831 32 69.8331 32 68.6998Z",fill:"white"}))))},xs=["width","height"],PlayButtonScrimSvg=function(e){var t=e.width,n=void 0===t?124:t,i=e.height,r=void 0===i?124:i,a=Ot()(e,xs);return(w.createElement("svg",u()({width:n,height:r,viewBox:"0 0 124 124",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"PlayButtonScrim"},a),us||(us=w.createElement("g",{filter:"url(#filter0_bd_1764_10896)"},w.createElement("rect",{x:"0",y:"0",width:"124",height:"124",rx:"62",fill:"black",fillOpacity:"0.66",shapeRendering:"crispEdges"}))),ls||(ls=w.createElement("defs",null,w.createElement("filter",{id:"filter0_bd_1764_10896",x:"-23",y:"-23",width:"170",height:"170",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),w.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:"11.5"}),w.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_1764_10896"}),w.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.createElement("feOffset",{dy:"2"}),w.createElement("feGaussianBlur",{stdDeviation:"4"}),w.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),w.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.32 0"}),w.createElement("feBlend",{mode:"normal",in2:"effect1_backgroundBlur_1764_10896",result:"effect2_dropShadow_1764_10896"}),w.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_1764_10896",result:"shape"}))))))},js={playButtonContainer:Object(S.c)(ds||(ds=y()(["\n    position: absolute;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    background-color: transparent;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  "]))),button:Object(S.c)(ps||(ps=y()(["\n    cursor: pointer;\n    position: relative;\n    width: 124px;\n    height: 124px;\n\n    &:hover svg:first-of-type {\n      opacity: 0.4;\n    }\n  "]))),scrim:Object(S.c)(gs||(gs=y()(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    transition: opacity 0.2s cubic-bezier(0, 0, 0.2, 1);\n  "]))),arrow:Object(S.c)(ms||(ms=y()(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  "])))},CenterPlayButton_CenterPlayButton=function(e){var t=e.onClick,n=e.onKeyPress,i=e.haspopup,r=e.videoName,a=e.centralPlayButtonRef,o=r?Wi()("Play Video for #{videoName}",{videoName:r}):Wi()("Play Video");return Object(S.d)("div",{role:"presentation",onClick:t,onKeyPress:n,className:"rc-PlayButton horizontal-box align-items-absolute-center",ref:a,css:js.playButtonContainer},Object(S.d)("button",{type:"button",className:"vjs-button","aria-disabled":"false","aria-haspopup":!!i||void 0,"aria-label":o,"aria-live":"off",onClick:t,onKeyDown:n,css:js.button},Object(S.d)(PlayButtonScrimSvg,{css:js.scrim}),Object(S.d)(CenterPlayButton_PlayArrowSvg,{css:js.arrow,width:70,height:70}),Object(S.d)("span",{className:"vjs-control-text"},o)))};CenterPlayButton_CenterPlayButton.defaultProps={haspopup:!0};var Ts,Es=CenterPlayButton_CenterPlayButton;function applySubtitlePosition(e){var t=e.textTracks,n=e.line,i=void 0===n?100:n,r=e.position,a=void 0===r?50:r,o=e.align,s=void 0===o?"center":o;t.forEach((function(e){e.cues&&Array.from(e.cues).forEach((function(e){e&&(e.position=a,e.line=i,e.align=s)}))}))}var Is,Ps,Vs,_s,Ls={videoControlsContainer:Object(S.c)(Ts||(Ts=y()(["\n    position: absolute;\n    bottom: 0;\n    z-index: 2;\n\n    /* If changing the full-width and full-height nature of this container, make sure to update the code in\n     * the handlePlayerDblClick function in static/bundles/video-player/components/video/VideoPlayer.tsx to\n     * ensure double clicks are triggered when clicking on the right element\n     */\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0 0 0 0%);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    &.showVideoBanner {\n      z-index: 10000;\n    }\n\n    &.hideContextMenu {\n      pointer-events: none;\n\n      & > * {\n        pointer-events: auto;\n      }\n    }\n\n    button:focus,\n    button:active {\n      outline: ","px solid #82a8e1;\n    }\n\n    .shareButton {\n      position: absolute;\n      right: 10px;\n      top: 18px;\n      transition: opacity 200ms ease-out;\n    }\n  "])),2)},Ms=5e3,Ns=32,Fs=13,Ds=".".concat("rc-VideoControlsContainer"),Rs=function(e){function VideoControlsContainer(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={isChromeVisible:!1,showAutoNextOverlay:!1,visiblePopup:null,hideContextMenu:!1},t.handleDocumentMouseMove=function(){t.state.hideContextMenu&&t.setState({hideContextMenu:!1})},t.handleVideoRegionMouseMove=function(){t.showChromeOnControlUse()},t.handleDocumentMouseDown=function(e){var n=t.props.player,i=n.isFullscreen();!t.node||t.node.contains(e.target)||i||n.paused()||t.setChromeVisibility(!1)},t.onCenterPlayButtonClick=function(e){var n;e.preventDefault(),e.stopPropagation();var i=t.props,r=i.player,a=i.videoPlayerDivRef,o=i.displayInitialCenterPlayButton,s=i.trackVideoPlayerClickEvent;r.play(),o(!1),s("video_center_play",{}),null===(n=a.current)||void 0===n||n.focus()},t.onPlayButtonKeyPress=function(e){if(e.keyCode===Ns||e.keyCode===Fs){var n=t.props,i=n.player,r=n.displayInitialCenterPlayButton;i.play(),r(!1)}},t.onClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.player;n.paused()?n.play():n.pause()},t.onShareClick=function(e){e.stopPropagation();var n=t.props.player;n.paused()||n.pause()},t.onContextMenu=function(){t.setState({hideContextMenu:!0})},t.hideChrome=function(e){e.stopPropagation();var n=t.state.visiblePopup,i=t.props.player,r=i.isFullscreen();i.paused()||r||null!==n||t.setChromeVisibility(!1)},t.hideChromeOnBlur=function(e){e.currentTarget.contains(e.relatedTarget)||t.hideChrome(e)},t.showChrome=function(e){e.stopPropagation(),t.setChromeVisibility(!0)},t.showChromeOnFocus=function(e){t.showChrome(e),t.clearChromeVisibilityTimeout()},t.startChromeVisibilityTimeout=function(){t.timeoutID=window.setTimeout((function(){t.setChromeVisibility(!1)}),Ms)},t.clearChromeVisibilityTimeout=function(){t.timeoutID&&clearTimeout(t.timeoutID)},t.showChromeOnControlUse=function(){var e;t.clearChromeVisibilityTimeout();var n=t.props.player;t.setChromeVisibility(!0);var i=null===(e=t.node)||void 0===e?void 0:e.contains(document.activeElement);n.paused()||i||t.startChromeVisibilityTimeout()},t.setChromeVisibility=function(e){var n=t.state.visiblePopup;t.setState({isChromeVisible:e,visiblePopup:e?n:null})},t.setVisiblePopup=function(e){t.setState({visiblePopup:e})},t.assignRef=function(e){t.node=e},t}Lt()(VideoControlsContainer,e);var t=VideoControlsContainer.prototype;return t.componentDidMount=function(){var e=this,t=this.props,n=t.player,i=t.displayInitialCenterPlayButton;n.one("play",(function(){i(!1)})),n.on("play",(function(){e.setState({showAutoNextOverlay:!1}),applySubtitlePosition({textTracks:Array.from(n.textTracks())}),e.showChromeOnControlUse()})),n.on("seeked",this.showChromeOnControlUse),n.on("volumechange",this.showChromeOnControlUse),n.on("pause",this.showChromeOnControlUse),n.on("ended",(function(){e.setState({showAutoNextOverlay:!0})})),i(!n.autoplay()),document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("mousemove",this.handleDocumentMouseMove)},t.componentWillUnmount=function(){this.props.player.off("ended"),this.clearChromeVisibilityTimeout(),document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("mousemove",this.handleDocumentMouseMove)},t.render=function(){var e=this.props,t=e.defaultSubtitleLanguage,n=e.nextItem,i=e.player,r=e.videoQuizQuestions,a=e.visibility,o=e.onChangeFullScreen,s=e.autoNextCountdownSeconds,c=e.isAutoNextPaused,u=e.trackVideoPlayerClickEvent,l=e.trackVideoPlayerViewEvent,d=e.trimmedStartTimeSeconds,p=e.trimmedDurationSeconds,g=e.enableHls,m=e.videoBoundaryElement,h=e.videoFeedbackState,v=e.showFeedback,b=e.showInitialCenterPlayButton,f=e.dubbedSources,y=e.originalSources,C=e.dubbedSubtitlesVtt,k=e.hlsSource,w=e.videoName,O=e.trackVideoPlayerInteractionEvent,x=e.centralPlayButtonRef,j=e.videoProgress,T=this.state,E=T.isChromeVisible,I=T.visiblePopup,P=T.showAutoNextOverlay,V=T.hideContextMenu,L=!c&&(Ui.a&&Ui.a.get("autoplay")),M=P&&a&&n&&(i.ended()||p);return Object(S.d)("div",{ref:this.assignRef,role:"presentation",className:Nt()("rc-VideoControlsContainer",{hideContextMenu:V}),onClick:this.onClick,onFocus:this.showChromeOnFocus,onContextMenu:this.onContextMenu,onBlur:this.hideChromeOnBlur,onMouseEnter:b?void 0:this.showChrome,onMouseLeave:this.hideChrome,onMouseMove:this.handleVideoRegionMouseMove,css:Ls.videoControlsContainer},b&&Object(S.d)(Es,{onClick:this.onCenterPlayButtonClick,onKeyPress:this.onPlayButtonKeyPress,haspopup:!1,videoName:w,centralPlayButtonRef:x}),Object(S.d)(components_ActionFeedback,{feedback:h,showFeedback:v}),M&&Object(S.d)(autoplay_AutoNextOverlay,{nextItem:n,isAutoNextEnabled:L,defaultCountdown:s,isAutoNextPaused:c}),Object(S.d)(components_ControlBar,{enableHls:g,hlsSource:k,visiblePopup:I,videoQuizQuestions:r,setVisiblePopup:this.setVisiblePopup,visible:E,player:i,onChangeFullScreen:o,trackVideoPlayerClickEvent:u,trackVideoPlayerInteractionEvent:O,trackVideoPlayerViewEvent:l,trimmedStartTimeSeconds:d,videoBoundaryElement:m,defaultSubtitleLanguage:t,dubbedSubtitlesVtt:C,dubbedSources:f,originalSources:y,videoProgress:j}))},VideoControlsContainer}(w.Component),playerUtils_getHotkeyOptions=function(e){var t=(null==e?void 0:e.options())||{},n=t.enableMute,i=void 0===n?Ri:n,r=t.enableFullscreen,a=void 0===r?Ai:r,o=t.playbackStep,s=void 0===o?Hi:o,c=t.playbackLowerLimit,u=void 0===c?Bi:c,l=t.playbackUpperLimit;return{enableMute:i,enableFullscreen:a,playbackStep:s,playbackLowerLimit:u,playbackUpperLimit:void 0===l?zi:l}};var As,Hs=Object(w.createContext)(null);function VideoPlayerEventingProvider(e){var t=e.children,n=e.dubbedSources,i=e.initialResolution,r=e.videoLibraryVersion,a=e.videoName,o=e.learnerMaxVideoProgressInSeconds,s=e.trimmedStartTimeSeconds,c=e.trimmedDurationSeconds,u=Object(vn.b)(),l=u.itemId,d=u.lessonId,p=u.lessonName,g=u.moduleId,m=u.moduleName,v=u.videoDurationInSeconds,b=u.courseId,f=u.courseSlug,y=u.courseName,C=Object(Ie.e)(),k=Object(w.useCallback)((function(){var e="none"!==Ui.a.get("audioLanguage"),t=n||{},u=Object.keys(t).length>0;return{videoId:l,autoplay:Ui.a.get("autoplay"),courseId:b,courseName:y,courseSlug:f,fullscreen:Yi.isFullScreen(),lessonId:d,lessonName:p,moduleId:g,moduleName:m,playbackRate:Ui.a.get("playbackRate"),resolution:i,subtitleLanguage:e?Ui.a.get("dubbedSubtitleLanguage"):Ui.a.get("subtitleLanguage"),audioLanguage:Ui.a.get("audioLanguage"),audioLanguageEnabled:Ui.a.get("audioLanguage")!==Ni,audioDubbingAvailable:u,videoDuration:v,videoLibraryVersion:r,videoName:a,videoPosition:o?Math.round(o):Mi,volume:Ui.a.get("volume"),trimmedStartTime:s,trimmedDuration:null!=c?c:void 0,dubbingNudgeDisplayed:Ce.a.getItem("user-education-nudge-displayed",JSON.parse,!1),transcriptLanguage:ke.get("language-code")}}),[n,l,b,y,f,d,p,g,m,i,v,r,a,o,s,c]),O=Object(w.useCallback)((function(e,t,n){var i=k();C(e,{button:{name:t},videoPlayer:h()(h()({},i),n)})}),[k,C]),x=Object(w.useCallback)((function(e,t){var n=k(),i=Object(He.getUserLanguageCode)();C("interact_video_player",{videoPlayer:h()(h()(h()({},n),t),{},{videoPosition:0}),videoPlayerInteractionType:e},{profileLanguage:i})}),[k,C]),j=Object(w.useCallback)((function(e,t){O("click_button",e,t)}),[O]),T=Object(w.useCallback)((function(e,t){O("view_button",e,t)}),[O]),E=Object(w.useCallback)((function(e){var t=k();C("view_button",{button:{name:"video_player"},videoPlayer:h()(h()({},t),{},{videoPosition:e})})}),[k,C]);return Object(S.d)(Hs.Provider,{value:{trackVideoPlayerClickEvent:j,trackVideoPlayerViewEvent:T,trackInitialVideoPlayerEvent:E,trackVideoPlayerInteractionEvent:x}},t)}var Bs,zs,Us,Qs,Ws,qs,Ks,Gs,Zs,Js={videoPlayer:Object(S.c)(As||(As=y()(["\n    .vjs-waiting {\n      .vjs-loading-spinner {\n        z-index: 10000000;\n      }\n    }\n\n    .vjs-react {\n      font-family: OpenSans, Arial, sans-serif;\n\n      /* Player background-color defaults to black */\n      background-color: transparent;\n    }\n\n    .vjs-react .vjs-overlay {\n      position: absolute;\n      height: 100%;\n      width: 100%;\n      left: 0;\n      top: 0;\n      background-color: rgb(0 0 0 / 75%);\n      z-index: 3;\n      padding-top: 0;\n\n      .coursera-assess-assessment-in-video {\n        .coursera-assess-style-question-in-video {\n          padding: 36px !important;\n        }\n      }\n    }\n\n    .vjs-react .vjs-poster {\n      /* Poster defaults to black background. Make it transparent so it works with any color video player background. */\n      background-color: transparent;\n    }\n\n    .vjs-react.vjs-coursera-skin.vjs-coursera-phoenix-skin {\n      border-radius: var(--cds-border-radius-200);\n\n      /* Cover up the background that scrolls behind the video player\n         Because the outline appears outside its container, we need to leave space around the container to prevent the outline being cut off.\n         Temporary fix; will change to allocate space inside the container for the outline */\n      outline: ","px solid var(--cds-color-neutral-background-primary) !important;\n\n      &:focus {\n        /* !important is needed to override the !important styles\n           used by the legacy implementation */\n        outline: ","px solid #82a8e1 !important;\n      }\n\n      .vjs-mouse-display {\n        .vjs-time-tooltip {\n          top: -35px;\n          font-size: 13px;\n          border-radius: 1px;\n          background-color: #111;\n        }\n      }\n\n      .vjs-volume-panel {\n        &:hover {\n          .vjs-volume-control {\n            width: 3em;\n            height: 8em;\n            display: block;\n          }\n        }\n      }\n\n      .vjs-volume-control {\n        transition: none;\n        height: 0;\n        width: 0;\n        display: none;\n      }\n\n      .vjs-progress-holder {\n        margin: 0;\n      }\n\n      .vjs-text-track {\n        font-size: 1.8em;\n      }\n\n      .vjs-control-bar {\n        height: 35px;\n      }\n\n      .vjs-menu {\n        margin-bottom: 15px;\n      }\n\n      .vjs-tech {\n        z-index: 1;\n      }\n    }\n\n    /* Ensures the text tracks managed by video.js are shown on top of the video player */\n    .vjs-text-track-display {\n      z-index: 2;\n\n      .vjs-text-track-cue {\n        /* Unfortunately, since the styles are applied inline, we need to use !important to override them */\n        top: calc(100% - 110px) !important;\n\n        > div {\n          background-color: rgba(0 0 0 / 80%) !important;\n        }\n      }\n    }\n  "])),2,2)},Xs=t("++Ya"),Ys=Object(ve.a)("/api/onDemandVideoProgresses.v1",{type:"rest"}),$s={getVideoProgressId:function(e,t){return Object(Xs.c)([E.a.get().id,e,t])},get:function(e,t){var n=this.getVideoProgressId(e,t);if(!E.a.isAuthenticatedUser())return me.a.reject();var i=new Pt.a(n);return me()(Ys.get(i.toString()))},update:function(e,t,n){var i=this.getVideoProgressId(e,t),r={viewedUpTo:n,videoProgressId:i},a=new Pt.a(i);return me()(Ys.put(a.toString(),{data:r}))}},ec=$s,tc=t("BVC1"),nc=Object(ve.a)("/api/opencourse.v1",{type:"rest"}),ic={sendEvent:function(e,t){var n=e.itemMetadata,i=n.get("course.slug"),r=n.getId(),a=new Pt.a(tc.a.join("user","".concat(E.a.get().id),"course",i,"item",r,"lecture/videoEvents",t));return a.addQueryParam("autoEnroll","false"),nc.post(a.toString(),{data:{contentRequestBody:{}}})}},rc=ic.sendEvent,ac=t("k8Y/"),oc=t.n(ac),sc=t("bt/X"),cc=t.n(sc),uc=t("W8MJ"),lc=t.n(uc),dc=t("Wjkg"),pc=t("4uH7"),gc=t("Gcrz"),mc=t("UYTu"),hc=Object(mc.a)(Bs||(Bs=y()(['\n  mutation submitQuiz(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n    $skipFetchingResponses: Boolean!\n  ) {\n    submitQuiz(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @rest(\n        type: "RestPracticeQuizQuestionGetStateData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/lecture/inVideoQuiz/session/{args.sessionId}/action/submitResponse?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestSubmitQuizResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          id\n          isSubmitAllowed\n          feedback {\n            feedbackLevel\n            definition {\n              isCorrect\n              display {\n                typeName\n                definition {\n                  dtdId\n                  value\n                }\n              }\n              options {\n                id\n                count\n                isCorrect\n                feedback {\n                  typeName\n                  definition {\n                    dtdId\n                    value\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n']))),vc=function(e){function VideoQuizMutations(){return e.apply(this,arguments)||this}return Lt()(VideoQuizMutations,e),VideoQuizMutations.prototype.render=function(){var e=this.props,t=e.itemId,n=e.courseSlug,i=e.question,r=e.sessionId,a=e.userId,o=e.children;return(w.createElement(gc.b,{mutation:hc},(function(e){return o({submitQuiz:function(o){var s,c;return e({variables:{sessionId:r,userId:a,itemId:t,slug:n,body:{contentRequestBody:{argument:{questionInstance:i.id,response:null==o?void 0:null===(s=o.response)||void 0===s?void 0:null===(c=s.definition)||void 0===c?void 0:c.value,timestamp:null}}}}})}})})))},VideoQuizMutations}(w.Component),bc=t("Qdou"),fc=t("GD6B"),yc=t("Jn0X"),Cc=t("/Sxx"),kc=t("vU9D"),util_transformQuizToFormData=function(e,t,n){if(!t)return e&&e.map((function(e){return{prompt:e,response:{typeName:kc.f.AUTO_GRADABLE_RESPONSE,definition:{value:n&&((e||{}).effectiveResponse||{}).response?((e||{}).effectiveResponse||{}).response:(t=e,"widget"===((t||{}).question||{}).type?{answer:{}}:null)}}};var t}));var i=t.reduce((function(e,t){return h()(h()({},e),{},Un()({},t.questionInstance,t.response))}),{});return e&&e.map((function(e){var t=i[e.id];return{prompt:e,response:{typeName:kc.f.AUTO_GRADABLE_RESPONSE,definition:{value:t}}}}))},utils_transformQuestionToFormData=function(e){var t=util_transformQuizToFormData([e],void 0,!0),n=b()(t,1)[0],i=n.prompt,r=n.response;return{id:i.id,root:{element:{definition:{prompt:{typeName:kc.f.AUTO_GRADABLE_PROMPT,definition:{value:{effectiveResponse:i.effectiveResponse,variant:{definition:i.variant},question:i.question,feedback:i.feedback}}},response:r,responseId:i.id},typeName:kc.f.PROMPT_REQUIRING_RESPONSE_ELEMENT},children:[]}}},Sc={questionArea:Object(S.c)(zs||(zs=y()(["\n    overflow-y: scroll;\n    padding: 1.5rem;\n\n    &::-webkit-scrollbar {\n      -webkit-appearance: none;\n    }\n\n    &::-webkit-scrollbar:vertical {\n      width: 11px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      border-radius: 8px;\n      border: 2px solid var(--cds-color-neutral-background-primary);\n      background-color: rgb(0 0 0 / 50%);\n    }\n\n    &::-webkit-scrollbar-track {\n      background-color: var(--cds-color-neutral-background-primary);\n      border-radius: 8px;\n    }\n  "]))),responseBox:Object(S.c)(Us||(Us=y()(["\n    margin-top: 1.25rem;\n  "]))),legend:Object(S.c)(Qs||(Qs=y()(["\n    margin-bottom: 0;\n    border-bottom: none;\n    display: contents;\n  "])))},wc=function(e){function VideoQuizQuestionArea(t){var n;return(n=e.call(this,t)||this).containerRef=null,n.responseBoxRef=null,n}Lt()(VideoQuizQuestionArea,e);var t=VideoQuizQuestionArea.prototype;return t.componentDidUpdate=function(){var e,t,n="[data-test='GradeFeedback-".concat(Cc.a.FAILURE,"]");if(null!==(e=this.containerRef)&&void 0!==e&&e.querySelector(n)||(n="[data-test^='GradeFeedback-']"),"ready"===this.props.currentState){var i,r=null===(i=this.responseBoxRef)||void 0===i?void 0:i.querySelector('[role="group"]');if(r){var a=r.querySelectorAll('input[type="checkbox"]');if(a.length)a[0].focus()}}var o=null===(t=this.containerRef)||void 0===t?void 0:t.querySelector(n);o&&this.containerRef&&(this.containerRef.scrollTop=o.offsetTop)},t.render=function(){var e=this,t=this.props,n=t.question,i=t.isReadonly,r=t.currentState,a="done"===r||"retry"===r;if(!n)return null;var o=utils_transformQuestionToFormData(n).root,s=o.element,c=o.children,u=Object(yc.a)(s).promptText;return Object(S.d)("fieldset",{css:Sc.questionArea,ref:function(t){e.containerRef=t},className:"rc-VideoQuizQuestionArea",tabIndex:0},Object(S.d)("legend",{className:"rc-VideoQuizQuestionArea__legend",css:Sc.legend},Object(S.d)(bc.a,{value:u})),Object(S.d)("div",{className:"rc-VideoQuizQuestionArea__responseBox",css:Sc.responseBox,ref:function(t){e.responseBoxRef=t},"aria-live":"polite"},Object(S.d)(fc.b,{isReadOnly:i,isDisabled:a,formPart:s,enableFeedbackFocus:!0}),c&&c.length>0&&Object(S.d)("div",null,c.map((function(e){var t=e.element;return Object(S.d)(fc.b,{isReadOnly:i,isDisabled:a,formPart:t})})))))},VideoQuizQuestionArea}(w.Component),Oc=t("AWZ4"),xc=t("agp5"),jc=t("uhOI"),Tc=t("TSwX"),Ec=t("iR3l"),Ic=t.n(Ec),Pc=function(e){function VideoQuizSubmissionButton(){return e.apply(this,arguments)||this}return Lt()(VideoQuizSubmissionButton,e),VideoQuizSubmissionButton.prototype.render=function(){var e,t,n=this.props,i=n.onRetry,r=n.question,a=n.onSubmit,o=n.onContinue,s=n.apiState,c="continueOnly"===r.question.responseType,u=jc.a;switch(s){case"submitting":u=jc.c,t=Ic()("Submitting...");break;case"ready":e=a,t=Ic()("Submit");break;case"retry":e=i,t=Ic()("Retry");break;default:e=o,t=Ic()("Continue")}if(c)switch(s){case"submitting":t=Ic()("Continuing...");break;default:t=Ic()("Continue"),e=o}return(w.createElement(Tc.a,{label:t,apiStatus:u,onClick:e,variant:"primary",style:{background:"var(--cds-color-interactive-primary)",color:"var(--cds-color-white-0)",display:"inherit"},"data-testid":"VideoQuizSubmission-Button"}))},VideoQuizSubmissionButton}(w.Component),Vc={quizSubmissionArea:Object(S.c)(Ws||(Ws=y()(["\n    padding: 1.5rem;\n    border-top: 1px solid #e1e1e1;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n\n    button {\n      font-size: 0.8rem;\n      margin-right: 1.5rem;\n      color: var(--cds-color-interactive-primary);\n\n      &:last-of-type {\n        margin: 0;\n      }\n    }\n  "])))},_c=function(e){function VideoQuizSubmissionArea(){return e.apply(this,arguments)||this}return Lt()(VideoQuizSubmissionArea,e),VideoQuizSubmissionArea.prototype.render=function(){var e=this.props,t=e.onSubmit,n=e.onContinue,i=e.onRetry,r=e.questionState,a=e.question,o=e.question.id,s="continueOnly"===a.question.responseType;return Object(S.d)("div",{className:"rc-VideoQuizSubmissionArea",css:Vc.quizSubmissionArea},!s&&Object(S.d)(Oc.b,{onClick:n,type:"link",size:"sm"},Ic()("Skip")),Object(S.d)(xc.a,{ids:[o]},(function(e){return Object(S.d)(Pc,{onContinue:n,onRetry:i,onSubmit:function(){return e&&e.length>0&&t(e[0])},question:a,apiState:r})})))},VideoQuizSubmissionArea}(w.Component),Lc=t("RUkv"),qusetionTypeUtils_isPollQuestion=function(e){return[Lc.a.Poll,Lc.a.CheckboxPoll].includes(e.question.type)},qusetionTypeUtils_isPauseAndReflectQuestion=function(e){return[Lc.a.ReflectText,Lc.a.Continue].includes(e.question.type)},Mc={root:Object(S.c)(qs||(qs=y()(["\n    position: absolute;\n    background: rgb(0 0 0 / 75%);\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    display: block;\n    top: 0;\n    left: 0;\n  "]))),focusTrap:Object(S.c)(Ks||(Ks=y()(["\n    height: 1px;\n    width: 1px;\n    position: absolute;\n    top: 10px;\n    left: 0;\n    background: transparent;\n    border: none;\n  "]))),videoQuizWindow:Object(S.c)(Gs||(Gs=y()(["\n    position: absolute;\n    top: 50%;\n    max-height: 90%;\n    font-size: 1rem;\n    width: 80%;\n    left: 50%;\n    background: var(--cds-color-neutral-background-primary);\n    transform: translate(-50%, -50%);\n    display: grid;\n    grid-template-rows: auto minmax(0, 1fr) auto;\n    color: var(--cds-color-neutral-primary);\n  "]))),videoQuizHeader:Object(S.c)(Zs||(Zs=y()(["\n    line-height: 1.2em;\n    border-bottom: 1px solid #e1e1e1;\n    margin: 0;\n    padding: 1.5rem;\n  "])))},Nc=function(e){function VideoQuizContent(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).blurListeningEnabled=!1,t.state={isSubmitting:!1,didError:!1,latestFeedback:null,latestResponse:null},t.onBlur=function(e){var n=e.relatedTarget;if(t.blurListeningEnabled&&t.windowRef&&n&&!t.windowRef.contains(n)){var i,r=t.getFocusableWindowElements();null==r||null===(i=r.first)||void 0===i||i.focus()}},t.mouseListener=function(){t.blurListeningEnabled=!1},t.keyListener=function(e){var n=t.props.onContinue;t.blurListeningEnabled=!0,e.keyCode===pc.a.tab?t.handleTabKey(e):e.keyCode===pc.a.esc&&n()},t.handleTabKey=function(e){var n=t.getFocusableWindowElements();n&&(e.shiftKey&&n.active===n.first&&(n.last.focus(),e.preventDefault()),e.shiftKey||n.active!==n.last||(n.first.focus(),e.preventDefault()))},t.handleFocus=function(){var e=t.getFocusableWindowElements();e&&e.first.focus()},t.getFocusableWindowElements=function(){if(t.windowRef){var e=t.windowRef.querySelectorAll('a[href], button, textarea, input, select, iframe, [tabindex]:not([tabindex="-1"])');return{first:e[0],last:e[e.length-2],active:document.activeElement,all:e}}return null},t.renderLabel=function(){var e=t.props.question;return e?qusetionTypeUtils_isPollQuestion(e)?Ic()("Poll"):qusetionTypeUtils_isPauseAndReflectQuestion(e)?Ic()("Reflect"):Ic()("Question"):null},t}Lt()(VideoQuizContent,e);var t=VideoQuizContent.prototype;return t.componentDidMount=function(){var e,t=this.getFocusableWindowElements();null==t||null===(e=t.first)||void 0===e||e.focus(),document.addEventListener("keydown",this.keyListener),document.addEventListener("mousedown",this.mouseListener)},t.componentWillUnmount=function(){document.removeEventListener("keydown",this.keyListener),document.removeEventListener("mousedown",this.mouseListener)},t.getPersistedResponse=function(){if(this.props.question){var e=dc.a.get(this.localStorageKey);if(e)return e}return{feedback:null,response:null}},t.setPersistedResponse=function(e,t){var n=this.props.question;n&&dc.a.set("videoQuizResponses.".concat(n.id),{feedback:e,response:t})},t.getQuestionWithSubmission=function(){var e=this.props.question,t=this.state,n=t.latestResponse,i=t.latestFeedback;if(e){var r,a,o=this.getPersistedResponse(),s=i||o.feedback,c=n||o.response,u={questionInstance:e.id,response:null==c?void 0:null===(r=c.response)||void 0===r?void 0:null===(a=r.definition)||void 0===a?void 0:a.value};return h()(h()({},e),{},{feedback:s,effectiveResponse:u})}return null},t.resetQuestion=function(){dc.a.remove(this.localStorageKey),this.setState({isSubmitting:!1,didError:!1,latestFeedback:null,latestResponse:null})},t.render=function(){var e,t=this,n=this.props,i=n.onContinue,r=n.onSubmit,a=n.question,o=this.state,s=o.isSubmitting,c=o.didError;if(!a)return null;var u=this.getQuestionWithSubmission(),l=null==u?void 0:u.feedback,d=null==l?void 0:null===(e=l.definition)||void 0===e?void 0:e.isCorrect,p=qusetionTypeUtils_isPollQuestion(a),g="ready";return c?g="errored":s?g="submitting":l&&(g=d||p?"done":"retry"),Object(S.d)("div",{role:"dialog","aria-labelledby":"dialog_videoQuizQuestion",className:"rc-VideoQuiz__window",css:Mc.videoQuizWindow,ref:function(e){t.windowRef=e}},Object(S.d)(Zt.a,{variant:"titleSmall",component:"h2",id:"dialog_videoQuizQuestion",className:"video-quiz-header",css:Mc.videoQuizHeader},this.renderLabel()),Object(S.d)(wc,{isReadonly:void 0!==d,currentState:g,question:u}),Object(S.d)(_c,{onRetry:function(){return t.resetQuestion()},onContinue:i,onSubmit:function(e){t.setState({isSubmitting:!0}),r(e).then((function(n){var i,r,a,o,s=(null!==(i=null==n?void 0:null===(r=n.data)||void 0===r?void 0:null===(a=r.submitQuiz)||void 0===a?void 0:null===(o=a.contentResponseBody)||void 0===o?void 0:o.return)&&void 0!==i?i:{}).feedback;t.setState({isSubmitting:!1,didError:!1,latestFeedback:s,latestResponse:e}),t.setPersistedResponse(s,e)})).catch((function(){return t.setState({didError:!0})}))},question:a,questionState:g}),Object(S.d)("button",{css:Mc.focusTrap,type:"button",className:"focus-trap",onFocus:this.handleFocus}))},lc()(VideoQuizContent,[{key:"localStorageKey",get:function(){var e;return"videoQuizResponses.".concat(null===(e=this.props.question)||void 0===e?void 0:e.id)}}]),VideoQuizContent}(w.Component),Fc=function(e){function VideoQuiz(){return e.apply(this,arguments)||this}return Lt()(VideoQuiz,e),VideoQuiz.prototype.render=function(){var e=this.props,t=e.onContinue,n=e.sessionId,i=e.itemId,r=e.courseSlug,a=e.question;if(!a)return null;var o=E.a.get().id;return Object(S.d)("div",{className:"rc-VideoQuiz",css:Mc.root},Object(S.d)(vc,{itemId:i,courseSlug:r,userId:o,sessionId:n,question:a},(function(e){var n=e.submitQuiz;return Object(S.d)(Nc,{question:a,onContinue:t,onSubmit:n})})))},VideoQuiz}(w.Component),components_LearnerInVideoQuiz=function(e){var t=e.videoQuizModel,n=e.player,i=e.itemId,r=e.courseSlug,a=Object(w.useState)(null),o=b()(a,2),s=o[0],c=o[1],u=Object(w.useState)([]),l=b()(u,2),d=l[0],p=l[1];return Object(w.useEffect)((function(){var initializeVideoQuizListeners=function(){if(t){var e=t.questions,i=void 0===e?[]:e,r=cc()(oc()(i,"video.order","desc"),"video.cuePointMs");Object.keys(r).forEach((function(e){var t=r[e],i=parseInt(e,10)/1e3;n.addCuepoint({at:i,visible:!0},(function(){var e=Ve()(t),i=document.querySelector('[data-id="item-scroll-container"]');n.pause(),n.emitter.trigger("videoQuizView.visible"),i&&(i.scrollTop=0);var r=e.pop();c(r),p(e)}))}))}};return null==n||n.on("loadedmetadata",initializeVideoQuizListeners),function(){null==n||n.off("loadedmetadata",initializeVideoQuizListeners)}}),[n,t]),Object(S.d)(Fc,{key:null==s?void 0:s.id,onContinue:function(){if(d.length>0){var e=d.slice(-1)[0],t=d.slice(0,-1);e&&(c(e),p(t))}else!function(){n.emitter.trigger("videoQuizView.hidden"),c(null);var e=n.duration(),t=n.currentTime();"number"==typeof e&&"number"==typeof t&&e>t&&n.play()}()},itemId:i,courseSlug:r,sessionId:null==t?void 0:t.sessionId,question:s})},isValidValue=function(e){return null!=e},getSyncPlayerOnTimeUpdate=function(e){var t=e.player,n=e.trimmedDurationSeconds,i=e.trimmedStartTimeSeconds;return function(){var e=null==t?void 0:t.currentTime(),r=null==t?void 0:t.duration();if(t&&isValidValue(e)&&isValidValue(r)){var a=null!=i?i:0,o=n?Math.floor(a+n):r;e<a?t.currentTime(a):e>o&&(t.pause(),t.trigger("ended"))}}},syncPlayerDuration=function(e,t){e&&t&&e.duration(t)},Dc=t("MA7l"),Rc=t("F/us"),Ac=t.n(Rc),Hc=function Cuepoint(e,t,n){var i=Ac()(t);this.name=i.has("name")?t.name:"",this.startTime=t.at||0,this.endTime=i.has("to")?t.to:0,this.type=i.has("to")?Cuepoint.RANGE:Cuepoint.POINT,this.callback=n||function(){},this.player=e,this.visible=i.has("visible")&&t.visible};Hc.POINT=0,Hc.RANGE=1,Ac.a.extend(Hc.prototype,{type:Hc.POINT,visible:!1,marker:null,startTime:0,endTime:0,name:"",didFire:!1,move:function(e){this.startTime=parseFloat(e/100*this.player.duration()).toFixed(1),this.marker&&this.marker.move(e)},filter:function(e,t){if(this.type===Hc.POINT)return e<this.startTime&&this.startTime<=t;var n=e>=this.startTime&&e<this.endTime,i=e<this.startTime,r=t>this.startTime&&t<this.endTime;return n||i&&r},setFired:function(e){this.didFire=e},fire:function(){this.name&&this.player.emitter.trigger("cuepoint."+this.name),this.callback&&this.callback(),this.setFired(!0)}});var Bc=[],zc=!1;he.a.registerPlugin("addCuepoint",(function(e,t){this.eventEmitter(),Bc.push(new Hc(this,e,t)),this.on("seeking",(function(){zc=!0})),this.on("seeked",(function(){zc=!1;var e=this.currentTime();Ac()(Bc).chain().filter((function(t){return t.startTime>e})).forEach((function(e){e.setFired(!1)}))}));var n=0;this.on("timeupdate",(function(){var e=this.currentTime();zc||Ac()(Bc).chain().filter((function(t){return t.filter(n,e)&&!t.didFire})).invoke("fire"),n=e})),this.on("dispose",(function(){Bc=[]}))})),he.a.registerPlugin("eventEmitter",(function(){this.emitter||(this.emitter=Cn.a.emitter())}));t("t9gw");var Uc=t("oYk5"),Qc=t.n(Uc);function tab_visible(e){return Qc.a.expr.filters.visible(e)&&!Qc()(e).parents().addBack().filter((function(){return"hidden"===Qc.a.css(this,"visibility")})).length}function _focusable(e){var t,n,i,r=e.nodeName.toLowerCase(),a=!isNaN(Qc.a.attr(e,"tabindex"));return"area"===r?(n=(t=e.parentNode).name,!(!e.href||!n||"map"!==t.nodeName.toLowerCase())&&(!!(i=Qc()("img[usemap=#"+n+"]")[0])&&tab_visible(i))):/^(input|select|textarea|button|object)$/.test(r)?!e.disabled&&tab_visible(e):"a"===r?(e.href||a)&&tab_visible(e):a&&tab_visible(e)}function tab_tabbable(e){var t=Qc.a.attr(e,"tabindex"),n=isNaN(t);return(n||t>=0)&&_focusable(e)}var Wc={isFocusable:function(e){return _focusable(e,isNaN(Qc.a.attr(e,"tabindex")))},isTabbable:tab_tabbable,getNext:function(e){for(var t=e;t;)if((t=t.nextSibling)&&tab_tabbable(t))return t;return null},getPrevious:function(e){for(var t=e;t;)if((t=t.previousSibling)&&tab_tabbable(t))return t;return null}};he.a.registerPlugin("hotkeys",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n={volumeStep:.1,seekStep:5,enableMute:!0,enableFullscreen:!0,playbackStep:.25,playbackLowerLimit:.75,playbackUpperLimit:2},i=null;t.el().hasAttribute("tabIndex")||t.el().setAttribute("tabIndex","-1"),t.on("play",(function(){var e=t.el().querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")}));var keyDown=function(i){var r=e.volumeStep||n.volumeStep,a=e.seekStep||n.seekStep,o=e.enableMute||n.enableMute,s=e.enableFullscreen||n.enableFullscreen,c=e.playbackStep||n.playbackStep,u=e.playbackLowerLimit||n.playbackLowerLimit,l=e.playbackUpperLimit||n.playbackUpperLimit;if(t.controls()){var d=document.activeElement;if(d===t.el()||d===t.el().querySelector(".iframeblocker"))if(32===i.which)i.preventDefault(),t.paused()?t.play():t.pause();else if(37===i.which){i.preventDefault();var p=t.currentTime()-a;t.currentTime()<=a&&(p=0),t.currentTime(p)}else 39===i.which?(i.preventDefault(),t.currentTime(t.currentTime()+a)):40===i.which?(i.preventDefault(),t.volume(t.volume()-r)):38===i.which?(i.preventDefault(),t.volume(t.volume()+r)):77===i.which?o&&(t.muted()?t.muted(!1):t.muted(!0)):70===i.which?s&&(t.isFullscreen()?t.exitFullscreen():t.requestFullscreen()):i.shiftKey&&(190===i.which&&t.playbackRate()<l?t.playbackRate(t.playbackRate()+c):188===i.which&&t.playbackRate()>u&&t.playbackRate(t.playbackRate()-c))}};return t.on("keydown",keyDown),t.on("userinactive",(function(){if(t.controls()){var e=document.activeElement,n=Qc()(t.controlBar.el_),restoreFocus=function(){t.el_.focus()};n.find(e).size()>0?(i=document.activeElement,n.css("transition")?n.one("transitionend",restoreFocus):restoreFocus()):i=null}})),t.on("useractive",(function(){if(t.controls()&&i){var e=Qc()(t.controlBar.el_),returnFocus=function(){i&&(i.focus(),i=null)};e.css("transition")?e.one("transitionend",returnFocus):returnFocus()}})),Qc()(document).on("keydown.videoJSPlayer",(function(e){if(9===e.which&&!t.userActive()){if(i){var n=null;(n=e.shiftKey?Wc.getPrevious(i):Wc.getNext(i))&&(i=n)}t.userActive(!0)}})),t.on("dispose",(function(e){Qc()(document).off("keydown.videoJSPlayer")})),this})),he.a.registerPlugin("joinEvents",(function(){this.eventEmitter();var e=null,t=null,n=!1,triggerJoining=function(){n||(e=new Date,this.trigger("joining"))};this.on("play",triggerJoining),this.one("durationchange",(function(){t=new Date,n=!0,this.emitter.set("joined",{joinDuration:t-e}),this.off("play",triggerJoining)}))}));t("JAA1");var attachWaitTimer=function(e){var t=null,n=0,i="STOPPED",r=0,a=0,o=0,s=null,triggerEvent=function(){(r>0||a>0||o>0)&&(e.trigger({type:"waitmetrics",playDuration:r,waitDuration:a,waitCount:o}),r=0,a=0,o=0)},stopTimer=function(){s&&(clearInterval(s),s=null)},timerTick=function(){if(e.contentEl()){var s,c=new Date,u=e.currentTime();s=e.paused()?"STOPPED":u>n?"PLAYING":"WAITING";var l=c-t;"WAITING"!==i&&"WAITING"===s&&l<250||("WAITING"!==i&&"WAITING"===s&&(o+=1),"PLAYING"===s?r+=l:"WAITING"===s?a+=l:"STOPPED"===s&&(stopTimer(),triggerEvent()),r+a>=15e3&&triggerEvent(),t=c,n=u,i=s)}else stopTimer()},startTimer=function(){s||(t=new Date,s=setInterval(timerTick,100))};e.on("play",startTimer),e.on("timeupdate",startTimer)};he.a.registerPlugin("waitEvents",(function(){attachWaitTimer(this)}));var qc,Kc,Gc,Zc,Jc,Xc,Yc,$c=t("4x9Y"),eu=(t("DJ+3"),t("HXl9"),"VideoPlayer(corelex)"),tu={volumeStep:.1,seekStep:10,enableMute:!0,enableFullscreen:!0,playbackStep:.25,playbackLowerLimit:.75,playbackUpperLimit:2};function VideoPlayer(e,t){var n,i=e.onVideoPlayedToEnd,r=e.viewOptions,a=(r.course,r.videoContent),o=r.startPlaybackSeconds,s=r.autoplay,c=r.courseProgress,u=r.videoQuizModel,l=r.setVideoPlayer,d=r.setInteractiveTranscript,p=r.setDubbedInteractiveTranscript,g=e.setVideoRegion,m=e.onChangeFullScreen,v=e.ariaLabel,f=e.visibility,y=e.isFullscreen,C=e.layoutMode,k=e.isContextMenuEnabled,O=e.autoNextCountdownSeconds,x=e.isAutoNextPaused,T=e.deferAutoplayListener,I=t._eventData.namespace.app,P=a.videoId,V=a.name,L=Object(j.a)(),M=Object(w.useRef)(null),F=Object(w.useRef)(null),D=Object(w.useRef)(null),R=Object(w.useRef)(null),A=Object(w.useRef)(null),H=null!==(n=a.trimmedStartTimeSeconds)&&void 0!==n?n:0,B=a.trimmedDurationSeconds,z=Object(w.useState)(null),U=b()(z,2),Q=U[0],W=U[1],q=Object(w.useState)(!1),K=b()(q,2),G=K[0],Z=K[1],J=Object(w.useState)(void 0),X=b()(J,2),Y=X[0],ee=X[1],te=Object(w.useState)(!0),ne=b()(te,2),ie=ne[0],re=ne[1],ae=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext(),oe=ae.onVideoPlayedToEnd,se=ae.checkLearnerVideoProgress,ce=ae.shouldDisableSkippingForward,ue=ae.learnerMaxVideoProgressInSeconds,le=ae.setLearnerMaxVideoProgressInSeconds,de=ae.showVideoSkippingDisabledNotification,pe=ae.setShowVideoSkippingDisabledNotification,ge=Object(w.useCallback)((function(e){i(e),oe()}),[i,oe]),ve=(u||{}).questions,be=void 0===ve?[]:ve,fe=Object(vn.b)(),ye=fe.itemId,Ce=fe.lessonId,ke=fe.lessonName,Se=fe.moduleId,we=fe.moduleName,Oe=fe.courseId,xe=fe.courseSlug,je=fe.courseName,Te=fe.primaryLanguageCodes,Ee=fe.nextItem,Ie=a.dubbedSources,Pe=a.getSources(),Ve=a.sources,_e=null==Pe?void 0:Pe["video/webm"],Le=isHlsEnabled(),Me=Le?a.getHlsSource():void 0,Ne=Le&&!!Me,Fe=getInitialResolution({sourcesByResolution:Ve,enableHlsExperiment:Le,isAutoAllowed:!0}),De=s?void 0:a.getPosterForResolution("720p"),Re="fill"===C?{width:"100%",height:"100%"}:{},Ae=videoUtils_getVideoClassNames(C),He=a.subtitlesVtt,Be=a.dubbedSubtitlesVtt;for(var ze in He)He[ze]&&He[ze].url&&(He[ze].url=He[ze].url.replace(/^https?:\/\/[^\/]+\//,"/"));var Ue=Object(w.useRef)(ce),Qe=Object(w.useRef)(ue);Object(w.useEffect)((function(){Qe.current=ue}),[ue]),Object(w.useEffect)((function(){Ue.current=ce}),[ce]);var We=function(){var e=Object(w.useContext)(Hs);if(!e)throw new Error("useVideoPlayerEventing must be used within a VideoPlayerEventingProvider");return e}(),qe=We.trackVideoPlayerClickEvent,Ke=We.trackVideoPlayerViewEvent,Ge=We.trackInitialVideoPlayerEvent,Ze=We.trackVideoPlayerInteractionEvent,Je=Object(w.useCallback)((function(e){A.current||(ee({icon:e}),Z(!0),R.current&&clearTimeout(R.current),R.current=setTimeout((function(){Z(!1)}),1e3))}),[]),Xe=Object(w.useCallback)((function(e){var t,n,i;null!==(t=D.current)&&void 0!==t&&t.paused()?(null===(n=D.current)||void 0===n||n.play(),e&&(qe("video_play_hotkey",{}),Je(qc||(qc=Object(S.d)(svg_PlayArrowSvg,{"data-testid":"playSvgActionFeedback",width:60,height:60}))))):(null===(i=D.current)||void 0===i||i.pause(),e&&(qe("video_pause_hotkey",{}),Je(Kc||(Kc=Object(S.d)(svg_PauseSvg,{"data-testid":"pauseSvgActionFeedback",width:60,height:60})))))}),[qe,Je]),Ye=Object(w.useCallback)((function(){pe(!1)}),[pe]),$e=Object(w.useCallback)((function(e){var t,n,i=null===(t=D.current)||void 0===t?void 0:t.options(),r=tu.volumeStep,a=tu.seekStep,o=h()(h()({},i),tu),s=o.volumeStep,c=void 0===s?r:s,u=o.seekStep,l=void 0===u?a:u;if(document.activeElement===(null===(n=D.current)||void 0===n?void 0:n.el()))switch(e.which){case 32:case 13:e.preventDefault(),Xe(!0);break;case 37:var d,p;e.preventDefault();var g=null===(d=D.current)||void 0===d?void 0:d.currentTime(),m=null!=g?g:Mi,v=g-l;g<=l&&(v=0),null===(p=D.current)||void 0===p||p.currentTime(v),qe("video_seek_backward_hotkey",{previousVideoPosition:m,videoPosition:v}),Je(Gc||(Gc=Object(S.d)(svg_Replay10Svg,{width:60,height:60})));break;case 39:var b,f=null===(b=D.current)||void 0===b?void 0:b.currentTime(),y=null!=f?f:Mi,C=f+l;if(!Ue.current||C<Qe.current){var k,w;e.preventDefault();var O=null===(k=D.current)||void 0===k?void 0:k.currentTime(C);null===(w=D.current)||void 0===w||w.currentTime(O),qe("video_seek_forward_hotkey",{previousVideoPosition:y,videoPosition:C}),Je(Zc||(Zc=Object(S.d)(svg_Forward10Svg,{width:60,height:60})))}else pe(!0);break;case 38:var x,j;e.preventDefault();var T=null===(x=D.current)||void 0===x?void 0:x.volume(),E=null!=T?T:Mi,I=T+c;null===(j=D.current)||void 0===j||j.volume(I),qe("video_volume_increase_hotkey",{previousVolume:E,volume:I}),Je(Jc||(Jc=Object(S.d)(svg_VolumeUpSvg,{width:60,height:60})));break;case 40:var P,V;e.preventDefault();var L=null===(P=D.current)||void 0===P?void 0:P.volume(),M=null!=L?L:Mi,N=L-c;null===(V=D.current)||void 0===V||V.volume(N),qe("video_volume_decrease_hotkey",{previousVolume:M,volume:N}),Je(N>0?Xc||(Xc=Object(S.d)(svg_VolumeDownSvg,{width:60,height:60})):Yc||(Yc=Object(S.d)(svg_VolumeOffSvg,{width:60,height:60})))}}),[Xe,qe,Je,Ue,Qe,pe]),et=Object(w.useCallback)((function(e){var t;if(e.preventDefault(),e.target.matches(Ds)){var n,i=null===(t=D.current)||void 0===t?void 0:t.options(),r=tu.enableFullscreen,a=h()(h()({},i),tu).enableFullscreen;if(void 0===a?r:a)if(Yi.isFullScreen())Yi.requestFullScreenExit(),qe("video_full_screen_double_click_hotkey",{fullscreen:!1});else Yi.requestFullScreen(null===(n=D.current)||void 0===n?void 0:n.el_),qe("video_full_screen_double_click_hotkey",{fullscreen:!0})}}),[qe]),tt=Object(w.useCallback)((function(){var e,t,n=fn()(null===(e=D.current)||void 0===e?void 0:e.textTracks(),(function(e){return e.language===Ui.a.get("subtitleLanguage")}));n&&(n.mode="showing"),null===(t=D.current)||void 0===t||t.trigger("trackloaded")}),[]),nt=Object(w.useCallback)((function(){syncPlayerDuration(D.current,B)}),[B]),it=Object(w.useCallback)((function(){var e,t,n=Ui.a.get("playbackRate"),i=Ui.a.get("volume");null===(e=D.current)||void 0===e||e.playbackRate(n),null===(t=D.current)||void 0===t||t.volume(i)}),[]),rt=Object(w.useCallback)((function(e){var t;return(null!=H?H:0)+(null!=B?B:null===(t=D.current)||void 0===t?void 0:t.duration())*e}),[H,B]),at=Object(w.useCallback)((function(){var e,t,n,i=null===(e=D.current)||void 0===e?void 0:e.duration(),r=null===(t=D.current)||void 0===t?void 0:t.currentTime(),a=i*Vi,o=parseInt((1e3*(null===(n=D.current)||void 0===n?void 0:n.currentTime())).toString(),10);r>a&&(o=0),ec.update(Oe,P,o)}),[Oe,P]),ot=Object(w.useCallback)((function(){[.25,.5,.75].forEach((function(e){var t,n=rt(e);null===(t=D.current)||void 0===t||t.addCuepoint({at:n,visible:!0},(function(){at()}))}))}),[rt,at]),st=Object(w.useCallback)((function(){var e,t,n,i=rt(Vi),r=rt(100);null===(e=D.current)||void 0===e||e.addCuepoint({at:i,to:r},(n=!1,function(){if(!n){n=!0;var e=c.getItemProgress(ye);me()(rc(a,"ended")).then((function(t){if(e&&null!=t&&t.itemProgress){var n=h()(h()({},t.itemProgress),{},{progressState:N.f});e.set(n),L(Ln.b,{courseProgress:c}),L(_n.a,{courseSlug:xe,refetch:!0}),Mn.d(c.get("id"),c)}})).done(),AnalyticsMetadataFetcher_createVideoEventTracker(I,D.current)("end")}})),null===(t=D.current)||void 0===t||t.one("ended",(function(){var e=Ui.a&&Ui.a.get("autoplay"),t=Yi.isFullScreen();ge({itemId:ye,isAutoPlayEnabled:e,isFullScreenEnabled:t})}))}),[rt,c,ye,a,I,L,xe,ge]),ct=Object(w.useCallback)((function(){it(),tt(),st(),ot(),nt()}),[it,tt,st,ot,nt]),ut=Object(w.useCallback)((function(){var e=getInitialResolution({sourcesByResolution:Ve,enableHlsExperiment:Le,isAutoAllowed:!1}),t="fluid"===C?{fluid:!0}:{fill:!0},n=Object(On.a)(),i={nextItemMetadataOrItemGroup:Ee,title:V,subtitle:je,courseId:Oe,itemId:ye,moduleName:we,moduleId:Se,lessonId:Ce,lessonName:ke,defaultSubtitleLanguage:Ui.a.get("subtitleLanguage"),controls:!1,html5:{nativeTextTracks:!Ne&&n,nativeAudioTracks:!1,nativeVideoTracks:!1,vhs:{overrideNative:!0,limitRenditionByPlayerDimensions:!0,useDevicePixelRatio:!0,customPixelRatio:2}},poster:a.getPosterForResolution("720p"),plugins:{hotkeys:{},resolutions:{sourcesByResolution:videoUtils_formatSourcesByResolution(a.sources),resolution:e},joinEvents:{},waitEvents:"IE"!==wn.a.browser.name?{}:void 0}},r=h()(h()({},i),t),o=Object(he.a)(F.current,r);return o.emitter||(o.emitter=Cn.a.emitter()),o.setupHeartbeatListener(),o.currentTrack=function(){return o.textTracks().tracks_.find((function(e){return"showing"===e.mode}))},o}),[Oe,je,Ne,Le,ye,C,Ce,ke,Se,we,Ee,Ve,a,V]),lt=Object(w.useRef)((function(){getSyncPlayerOnTimeUpdate({player:D.current,trimmedDurationSeconds:B,trimmedStartTimeSeconds:H})})),dt=Object(w.useCallback)((function(){var e,t;B&&B!==(null===(e=D.current)||void 0===e?void 0:e.duration())&&nt(),lt.current(),le(Math.max(Qe.current,null===(t=D.current)||void 0===t?void 0:t.currentTime()))}),[le,nt,B,Qe]),pt=Object(w.useCallback)((function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=Math.max(0,e-(n?_i:0));null===(t=D.current)||void 0===t||t.currentTime(i)}),[]),gt=Object(w.useCallback)((function(){var e;null===(e=D.current)||void 0===e||e.off("durationchange",gt),void 0!==o?pt(o):ec.get(Oe,P).then((function(e){return e.elements[0]})).fail((function(){return Object(E.c)()?{courseId:Oe,videoId:P,userId:Object(E.b)().id,viewedUpTo:H}:{}})).done((function(e){var t=e.viewedUpTo,n=void 0===t?0:t,i=Object(Dc.c)(n/1e3);if(H>i&&(i=H),B){var r=B+H;i>r&&(i=r)}W(h()(h()({},e),{},{viewedUpTo:1e3*i})),pt(i,!H),Ge(i)}))}),[o,pt,Oe,P,H,B,Ge]),mt=Object(w.useCallback)((function(e){var t,n=null==Ve?void 0:null===(t=Ve[Fe])||void 0===t?void 0:t["video/mp4"];e.ready((function(){d({player:e,languageMap:He,defaultLanguage:Te&&Te[0]}),null==p||p({player:e,languageMap:h()(h()({},He),Be),defaultLanguage:Te&&Te[0]}),e.on("waiting",(function(){e.addClass("vjs-waiting")})),Le&&Me&&"auto"===Fe?e.src({src:Me,type:"application/x-mpegURL"}):e.src({src:n,type:"video/mp4"})})),e.on("error",(function(){Object($c.a)(e,eu)})),e.on("contextmenu",(function(e){k||e.preventDefault()})),e.on("loadedmetadata",ct),e.on("durationchange",gt),e.on("play",(function(){var e;D.current&&applySubtitlePosition({textTracks:Array.from(null===(e=D.current)||void 0===e?void 0:e.textTracks())})})),e.on("timeupdate",dt),e.on("keydown",$e),e.on("canplay",(function(){lt.current=getSyncPlayerOnTimeUpdate({player:D.current,trimmedDurationSeconds:a.trimmedDurationSeconds,trimmedStartTimeSeconds:H})}))}),[Ve,Fe,ct,gt,dt,$e,d,He,Te,p,Be,Le,Me,k,a.trimmedDurationSeconds,H]),ht=Object(w.useCallback)((function(e){e&&(e.dispose(),D.current=null)}),[]);!function(e){var t=e.player,n=e.trackVideoPlayerClickEvent,i=e.showVideoPlayerControlsFeedback,r=Object(w.useMemo)((function(){var e=playerUtils_getHotkeyOptions(t.current),r=e.enableFullscreen,a=e.enableMute,o=e.playbackStep,s=e.playbackLowerLimit,c=e.playbackUpperLimit;return{k:function(){t.current&&(t.current.paused()?(t.current.play(),null==n||n("video_play_hotkey",{}),null==i||i(Is||(Is=w.createElement(svg_PlayArrowSvg,{width:60,height:60})))):(t.current.pause(),null==n||n("video_pause_hotkey",{}),null==i||i(Ps||(Ps=w.createElement(svg_PauseSvg,{width:60,height:60})))))},m:function(){t.current&&a&&(t.current.muted(!t.current.muted()),null==n||n("video_mute_hotkey",{}),null==i||i(t.current.muted()?Vs||(Vs=w.createElement(svg_VolumeOffSvg,{width:60,height:60})):_s||(_s=w.createElement(svg_VolumeUpSvg,{width:60,height:60}))))},f:function(){r&&t.current&&(Yi.isFullScreen()?(Yi.requestFullScreenExit(),null==n||n("video_full_screen_hotkey",{fullscreen:!1})):(t.current.requestFullscreen(),null==n||n("video_full_screen_hotkey",{fullscreen:!0})))},">":function(e){if(e.shiftKey&&t.current){var i=t.current.playbackRate()||1,r=i<c?i+o:s;t.current.playbackRate(r),null==n||n("video_playback_rate_increase_hotkey",{previousPlaybackRate:i,playbackRate:r})}},"<":function(e){if(e.shiftKey&&t.current){var i=t.current.playbackRate()||1,r=i>s?i-o:c;t.current.playbackRate(r),null==n||n("video_playback_rate_decrease_hotkey",{previousPlaybackRate:i,playbackRate:r})}}}}),[t,n,i]);Object(w.useEffect)((function(){var handleDocumentKeyDown=function(e){if(!(e.ctrlKey||e.altKey||e.metaKey)){var t=e.target,n=t.tagName;"INPUT"===n||"SELECT"===n||"TEXTAREA"===n||t.isContentEditable||r[e.key]&&(e.preventDefault(),r[e.key](e))}};return document.addEventListener("keydown",handleDocumentKeyDown),function(){document.removeEventListener("keydown",handleDocumentKeyDown)}}),[r])}({player:D,trackVideoPlayerClickEvent:qe,showVideoPlayerControlsFeedback:Je}),Object(w.useEffect)((function(){var e,t=c.getItemProgress(ye).get("progressState");se(t,a.disableSkippingForward),D.current||(e=ut(),mt(e),D.current=e,l(e)),g(F.current),M.current&&(M.current.tabIndex=-1);var n=R.current;return function(){at(),e&&(e.isFullscreen()&&Yi.isFullScreen()?(e.one("fullscreenchange",(function(){ht(e)})),e.exitFullscreen()):ht(e)),n&&clearTimeout(n),d(null),null==p||p(null)}}),[]),Object(w.useEffect)((function(){var e;!T&&s&&(null===(e=D.current)||void 0===e||e.play())}),[T,s]),function(e){var t=e.player,n=e.togglePlayOnTabVisibilityChange;Object(w.useEffect)((function(){var handleTabVisiblityForAutoPlayPause=function(){t.current&&(document.hidden?t.current.pause():t.current.play())},handleWindowBlur=function(){var e;null===(e=t.current)||void 0===e||e.pause()},handleWindowFocus=function(){var e;null===(e=t.current)||void 0===e||e.play()};return n&&(document.addEventListener("visibilitychange",handleTabVisiblityForAutoPlayPause),window.addEventListener("blur",handleWindowBlur),window.addEventListener("focus",handleWindowFocus)),function(){n&&(document.removeEventListener("visibilitychange",handleTabVisiblityForAutoPlayPause),window.removeEventListener("blur",handleWindowBlur),window.removeEventListener("focus",handleWindowFocus))}}),[t,n])}({player:D,togglePlayOnTabVisibilityChange:ce});return Object(S.d)("div",{css:Js.videoPlayer,style:h()({position:"relative"},Re),onDoubleClick:et},Object(S.d)("div",{"data-vjs-player":!0,ref:M,"data-testid":"playerContainer"},Object(S.d)(VideoBoundaryProvider_VideoBoundaryProvider,{videoBoundaryRef:M},u&&xe&&ye&&Object(S.d)(components_LearnerInVideoQuiz,{itemId:ye,courseSlug:xe,videoQuizModel:u,player:D.current}),Object(S.d)("video",{className:Ae,crossOrigin:"anonymous",preload:"auto",ref:F,poster:De,autoPlay:s,tabIndex:0,"aria-label":v},Ne&&Object(S.d)("source",{"data-testid":"hlsSource",key:Me,type:"application/x-mpegURL",src:Me}),Object.keys(Pe).filter((function(e){return"video/webm"!==e})).map((function(e){var t=Pe[e];return Object(S.d)("source",{key:t,type:e,src:t})})),_e&&Object(S.d)("source",{key:Pe[_e],type:"video/webm",src:_e}),Object.keys(Be).map((function(e){var t=Be[e];return Object(S.d)("track",{key:e,id:e+"-dub",kind:"captions",label:Wi()(t.label),src:t.url,srcLang:e})})),Object.keys(He).map((function(e){var t=He[e];return Object(S.d)("track",{key:e,kind:"captions",label:Wi()(t.label),src:t.url,srcLang:e})}))),Object(S.d)("div",{role:"alert"},de&&Object(S.d)(learning_effort_VideoSkippingDisabledNotification,{onDismiss:Ye})),D.current&&Object(S.d)(Rs,{videoName:V,courseId:Oe,enableHls:Ne,hlsSource:Me,defaultSubtitleLanguage:Ui.a.get("subtitleLanguage"),nextItem:Ee,originalSources:Ve,dubbedSources:Ie,dubbedSubtitlesVtt:Be,player:D.current,videoQuizQuestions:be,onChangeFullScreen:function(e){var t;e?Yi.requestFullScreenExit():Yi.requestFullScreen(null===(t=D.current)||void 0===t?void 0:t.el_);qe("video_full_screen",{fullscreen:!e}),null==m||m(!e)},visibility:f,isFullscreen:y,autoNextCountdownSeconds:O,isAutoNextPaused:x,trackVideoPlayerClickEvent:qe,trackVideoPlayerInteractionEvent:Ze,trackVideoPlayerViewEvent:Ke,trimmedStartTimeSeconds:H,trimmedDurationSeconds:B,videoBoundaryElement:M.current||void 0,showFeedback:G,videoFeedbackState:Y,displayInitialCenterPlayButton:function(e){re(e)},showInitialCenterPlayButton:ie,centralPlayButtonRef:A,videoPlayerDivRef:M||void 0,videoProgress:Q}),D.current&&Object(S.d)(Kn,{player:D.current,videoProgress:Q}))))}VideoPlayer.contextTypes={_eventData:Sn.a.object.isRequired};var nu,iu,ru,au,ou,su,cu,uu,lu,du,pu,gu,mu,hu,vu,bu,VideoPlayer_VideoPlayerWithDayOneOnboardingAndEventingContext=function(e){var t=e.viewOptions.videoContent,n=t.dubbedSources,i=t.sources,r=t.name,a=t.trimmedStartTimeSeconds,o=void 0===a?0:a,s=t.trimmedDurationSeconds,c=Object(Vn.b)().isOpen,l=isHlsEnabled(),d=getInitialResolution({sourcesByResolution:i,enableHlsExperiment:l,isAutoAllowed:!0}),p=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext().learnerMaxVideoProgressInSeconds;return Object(S.d)(VideoPlayerEventingProvider,{dubbedSources:n,initialResolution:d,videoName:r,learnerMaxVideoProgressInSeconds:p,trimmedStartTimeSeconds:o,trimmedDurationSeconds:s,videoLibraryVersion:he.a.VERSION},Object(S.d)(VideoPlayer,u()({},e,{viewOptions:h()(h()({},e.viewOptions),{},{autoplay:e.viewOptions.autoplay&&!c}),deferAutoplayListener:c})))},fu=Object(o.b)(s.b.createTrackedContainer((function(){return{namespace:{app:"open_course.video",page:"item_layout"}}})))((function(e){return Object(S.d)(Pn.a,{componentName:eu,errorComponent:Object(S.d)(xn.a,{severity:"error",title:Wi()("There has been an error"),role:"alert"},Wi()("An error was encountered while playing this video, and our development team has been alerted. Please try again later."))},Object(S.d)(VideoPlayer_VideoPlayerWithDayOneOnboardingAndEventingContext,e))})),cds_VideoOrigamiRegion=function(e){var t=e.computedItem,n=e.courseProgress,i=e.verificationDisplay,r=e.videoContent,a=e.videoQuizModel,o=e.startPlaybackSeconds,s=e.autoplay,c=e.setVideoPlayer,u=e.setInteractiveTranscript,l=e.setVideoRegion,d=e.ariaLabel,p=e.isFullscreen,g=e.layoutMode,m=e.visibility,h=e.isContextMenuEnabled,v=e.autoNextCountdownSeconds,b=e.onVideoPlayedToEnd,f=e.isAutoNextPaused,y=e.setDubbedInteractiveTranscript,C=Object(vn.b)(),k=C.nextItem,S={course:C.course,courseProgress:n,computedItem:t,videoContent:r,videoQuizModel:a,nextItemMetadataOrItemGroup:k,verificationDisplay:i,startPlaybackSeconds:o,autoplay:s,setVideoPlayer:c,setInteractiveTranscript:u,setDubbedInteractiveTranscript:y};return w.createElement(fu,{viewOptions:S,setVideoRegion:l,ariaLabel:d,visibility:m,isFullscreen:p,layoutMode:g,isContextMenuEnabled:h,autoNextCountdownSeconds:v,onVideoPlayedToEnd:b,isAutoNextPaused:f})},yu=t("sVmg"),Cu={card:Object(S.c)(nu||(nu=y()(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n\n    "," {\n      flex-direction: row;\n      gap: 10px;\n    }\n  "])),I.a.down("xs")),titleAndSubtitleContainer:Object(S.c)(iu||(iu=y()(["\n    display: flex;\n    flex-direction: column-reverse;\n    text-align: left;\n\n    "," {\n      margin-top: 0;\n      align-items: flex-start;\n      flex-direction: column;\n    }\n  "])),I.a.down("xs")),imageContainer:Object(S.c)(ru||(ru=y()(["\n    position: relative;\n    margin-bottom: var(--cds-spacing-100);\n    "," {\n      margin-bottom: 0;\n    }\n  "])),I.a.down("xs")),thumbnailOverrides:Object(S.c)(au||(au=y()(["\n    border-radius: 8px;\n\n    "," {\n      width: 109px;\n    }\n  "])),I.a.down("xs")),titleText:Object(S.c)(ou||(ou=y()(["\n    font-weight: normal;\n    text-align: left;\n    max-height: calc(3 * var(--cds-line-height-250));\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    text-overflow: ellipsis;\n  "]))),subtitleText:Object(S.c)(su||(su=y()(["\n    color: var(--cds-color-neutral-primary-weak);\n  "]))),hoverOrActiveOverlay:Object(S.c)(cu||(cu=y()(["\n    width: 100%;\n    height: 100%;\n    background-color: var(--cds-color-darken-500);\n    position: absolute;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    top: 0;\n    border-radius: 8px;\n  "]))),active:Object(S.c)(uu||(uu=y()(["\n    font-weight: 600;\n  "])))},cds_VideoChapterCard=function(e){var t=e.active,n=e.title,i=e.subtitle,r=e.cssOverrides,a=e.imgOverlay,o=e.chapterStartTimestamp;return Object(S.d)("div",{key:n,css:[(null==r?void 0:r.card)||Cu.card]},Object(S.d)("div",{css:(null==r?void 0:r.imageContainer)||Cu.imageContainer,"data-testid":"image-container"},Object(S.d)(components_VideoTimestampThumbnail,{time:o,cssOverrides:Cu,spriteSheetHeight:922,spriteSheetWidth:1640}),a),Object(S.d)("div",{css:(null==r?void 0:r.titleAndSubtitleContainer)||Cu.titleAndSubtitleContainer},Object(S.d)(Zt.a,{component:"p",variant:"actionSecondary",css:[(null==r?void 0:r.titleText)||Cu.titleText,t&&Cu.active]},n),i&&Object(S.d)(Zt.a,{component:"p",variant:"bodySecondary",css:(null==r?void 0:r.subtitleText)||Cu.subtitleText},i)))},ku={chapterBtnWithThumbnail:Object(S.c)(lu||(lu=y()(["\n    padding: var(--cds-spacing-100);\n    background: none;\n    border: none;\n    border-radius: 8px;\n    width: 180px;\n    height: 100%;\n\n    ",' {\n      width: 100%;\n    }\n\n    .overlay-container {\n      .now-playing-icon {\n        display: none;\n      }\n    }\n\n    /* Add an overlay to the image only when hovering on viewports larger than mobile because mobile does not support hover states\n    and including this for mobile causes a bug where the active "Now playing" text does not show up */\n    '," {\n      &:hover {\n        .overlay-container {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n\n          .now-playing-text {\n            display: none;\n          }\n\n          .now-playing-icon {\n            display: block;\n          }\n        }\n      }\n    }\n  "])),I.a.down("xs"),I.a.up("sm")),chapterBtnWithoutThumbnail:Object(S.c)(du||(du=y()(["\n    padding: var(--cds-spacing-100);\n    background: none;\n    border: none;\n    border-radius: 8px;\n    width: 246px;\n    height: 100%;\n\n    &:hover {\n      background-color: var(--cds-color-emphasis-primary-background-xweak);\n    }\n\n    "," {\n      width: 100%;\n      min-height: 76px;\n    }\n  "])),I.a.down("xs")),overlay:Object(S.c)(pu||(pu=y()(["\n    display: none;\n    width: 100%;\n    height: 100%;\n    background-color: var(--cds-color-darken-500);\n    position: absolute;\n    top: 0;\n    border-radius: 8px;\n  "]))),overlayActive:Object(S.c)(gu||(gu=y()(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  "])))},VideoChapterCardButton_ImgOverlay=function(e){var t=e.active;return Object(S.d)("div",{className:"overlay-container",css:[ku.overlay,t&&ku.overlayActive]},mu||(mu=Object(S.d)(yu.a,{className:"now-playing-icon","data-testid":"play-icon",size:"large",color:"invert"})),Object(S.d)(Zt.a,{className:"now-playing-text",color:"invertBody",variant:"actionSecondary",component:"span"},Le()("Now playing")))},cds_VideoChapterCardButton=function(e){var t=e.active,n=e.chapterName,i=e.humanReadableTimestamp,r=e.onClick,a=e.ariaLabel,o=e.chapterStartTimestamp;return Object(S.d)("button",{css:[ku.chapterBtnWithThumbnail],key:n,onClick:r,type:"button","aria-label":a,"aria-current":t},Object(S.d)(cds_VideoChapterCard,{imgOverlay:Object(S.d)(VideoChapterCardButton_ImgOverlay,{active:t}),active:t,title:n,chapterStartTimestamp:o,subtitle:i}))},Su=t("x3GX");function useFormatVideoPosition(){var e=Object(Su.b)();return function(t){if(isNaN(t))return{formatted:"",timeInWords:""};var n=Math.floor(t);if(n<0)return{formatted:"",timeInWords:""};var i=Math.floor(n/3600),r=Math.floor(n%3600/60),a=n%60,o=function(t){var n=t.hours,i=t.minutes,r=t.seconds,a="",o=!0;return n>0&&(a=e.formatMessage(Wi()("{numHours} {numHours, plural, =1 {hour} other {hours}} "),{numHours:n}),o=!1),i>0&&(a+=e.formatMessage(Wi()("{numMinutes} {numMinutes, plural, =1 {minute} other {minutes}} "),{numMinutes:i}),o=!1),r>0?a+=e.formatMessage(Wi()("{numSeconds} {numSeconds, plural, =1 {second} other {seconds}}"),{numSeconds:r}):o&&0===r&&(a=e.formatMessage(Wi()("0 seconds"))),a.trim()}({hours:i,minutes:r,seconds:a}),s=r.toString().padStart(2,"0"),c=a.toString().padStart(2,"0");return i>0?{formatted:"".concat(i,":").concat(s,":").concat(c),timeInWords:o}:{formatted:"".concat(r,":").concat(a.toString().padStart(2,"0")),timeInWords:o}}}var wu,Ou,xu,ju,Tu,Eu,Iu,Pu={container:Object(S.c)(hu||(hu=y()(["\n    display: flex;\n    flex-wrap: wrap;\n    gap: var(--cds-spacing-200);\n\n    "," {\n      flex-direction: column;\n      gap: var(--cds-spacing-100);\n      flex-basis: 100%;\n    }\n  "])),I.a.down("xs")),gridWrapper:Object(S.c)(vu||(vu=y()(["\n    width: 100%;\n  "]))),btnContainer:Object(S.c)(bu||(bu=y()(["\n    display: flex;\n    align-items: stretch;\n  "])))},tabContent_ChaptersTabContent=function(e){var t=e.player,n=e.chapters,i=e.trackingData,r=i.courseId,a=i.itemId,o=i.itemName,s=i.orderInBranch,c=i.courseBranchId,u=Object(Ie.e)(),l=Object(Ie.f)("view_page_section",{pageSection:{sectionName:"lecture_chapters_tab_content"},courseItem:{name:o,id:a,orderInBranch:s,type:"lecture"},courseBranch:{id:c},product:{id:r}}),d=Object(w.useCallback)((function(e){return"number"==typeof e?n.findIndex((function(t){var n=t.startTimestampInSeconds,i=t.endTimestampInSeconds;return e>=n&&e<(i<0?1/0:i)})):-1}),[n]),p=Object(w.useState)(d(null==t?void 0:t.currentTime())),g=b()(p,2),m=g[0],h=g[1],v=useFormatVideoPosition();return Object(w.useEffect)((function(){var handleTimeUpdate=function(){var e=null==t?void 0:t.currentTime();if("number"==typeof e){var n=d(e);h(n)}};return null==t||t.on("timeupdate",handleTimeUpdate),function(){null==t||t.off("timeupdate",handleTimeUpdate)}}),[n,d,t]),Object(S.d)("div",{css:Pu.gridWrapper},Object(S.d)("div",{ref:l,css:Pu.container},n.map((function(e,n){var i=e.chapterName,l=e.startTimestampInSeconds,d=v(l),p=d.formatted,g=d.timeInWords,h=n===m;return Object(S.d)("div",{css:Pu.btnContainer,key:i},Object(S.d)(cds_VideoChapterCardButton,{active:h,chapterName:i,humanReadableTimestamp:p,chapterStartTimestamp:l,onClick:function(){return function(e,n){u("click_video_chapter_card",{videoChapter:{chapterStartTimestamp:n,videoPosition:null==t?void 0:t.currentTime(),chapterName:e},courseItem:{name:o,id:a,orderInBranch:s,type:"lecture"},courseBranch:{id:c},product:{id:r}});var i=null==t?void 0:t.duration();t&&"number"==typeof i&&n<=i&&t.currentTime(n)}(i,l)},ariaLabel:Le()("Jump to chapter titled #{chapterName} starting at #{timeInWords} #{nowPlayingLabel}",{chapterName:i,timeInWords:g,nowPlayingLabel:h?Le()("- Now playing"):""})}))}))))},Vu=t("GqWO"),DiscussTabContent_DiscussTabContent=function(e){var t=e.weekNumber;return Object(S.d)("div",{css:Object(S.c)(wu||(wu=y()(["\n        max-width: 700px;\n        padding-bottom: var(--cds-spacing-200);\n      "])))},Object(S.d)(Zt.a,{component:"p",variant:"bodyPrimary"},Le()("You can visit the Forums page to see all the different topics and discussions that are available. From there, you can post a question, start a new discussion, or join an existing conversation.")),Object(S.d)("div",{css:Object(S.c)(Ou||(Ou=y()(["\n          margin-top: var(--cds-spacing-300);\n        "])))},Object(S.d)(Cs.a,{icon:xu||(xu=Object(S.d)(Jt.a,null)),"aria-label":Le()("Discuss, opens discussion forums in another browser window"),variant:"quiet",iconPosition:"after",href:Object(Vu.q)(t),target:"_blank",typographyVariant:"bodyPrimary"},Le()("Discuss"))))},_u=t("HulD"),Lu=t("ahDc"),Mu=t("9A5E"),tabContent_DownloadTabContent=function(e){var t=e.lectureDownloadLinks,n=Object(w.useState)(!0),i=b()(n,2),r=i[0],a=i[1],o=!!VideoTrimmingContext_useVideoTrimmingContext().trimmedDurationSeconds;return Object(S.d)("div",null,o&&r&&Object(S.d)(_u.a,{role:"complementary",severity:"information",onDismiss:function(){return a(!1)},css:function(){return Object(S.c)(ju||(ju=y()(["\n            margin-bottom: var(--cds-spacing-300);\n          "])))}},Le()("This video includes a portion of the original lecture video. Download the full version below.")),Object(S.d)("ul",{css:function(){return Object(S.c)(Tu||(Tu=y()(["\n          list-style: none;\n          margin: 0;\n          padding: 0 0 0 var(--cds-spacing-100);\n        "])))}},t.map((function(e){var t=e.download,n=e.displayName,i=e.href,r=e.fileType,a=e.trackingName,o=e.data,s=e.onClick;return Object(S.d)("li",{key:"".concat(n).concat(r),css:function(){return Object(S.c)(Eu||(Eu=y()(["\n              margin-bottom: var(--cds-spacing-300);\n            "])))}},Object(S.d)(Cs.a,{variant:"quiet",component:Mu.a,onClick:s,href:i,data:o,download:t,trackingName:a,target:"_blank",rel:"noopener noreferrer",icon:Iu||(Iu=Object(S.d)(Lu.a,null)),iconPosition:"before",typographyVariant:"bodyPrimary"},"".concat(n," ").concat(r)))}))))},Nu=t("Gok7"),Fu=t("cDf5"),Du=t.n(Fu),Ru=t("Z3v1"),Au=t("F9YM"),Hu=t("Ne6o"),Bu=t.n(Hu),cds_HighlightButtonLabel=function(e){var t,n=e.startText,i=e.highlight,r=e.id,a=i.noteStartTs,o=i.noteEndTs,s=i.captureTs;if(a&&o){var c=Object(Au.e)(a),u=Object(Au.e)(o);t=w.createElement(L.a,{component:Ru.FormattedMessage,message:Bu()("{startText} from {fromHr} hours {fromMin} minutes {fromSec} seconds until {toHr} hours {toMin} minutes {toSec} seconds"),fromSec:c.seconds||"0",fromMin:c.minutes||"0",fromHr:c.hours||"0",toSec:u.seconds||"0",toMin:u.minutes||"0",toHr:u.hours||"0",startText:n})}else{var l=Object(Au.e)(s);t=w.createElement(L.a,{component:Ru.FormattedMessage,message:Bu()("{startText} for {hours} hours {minutes} minutes {seconds} seconds"),hours:l.hours||"0",minutes:l.minutes||"0",seconds:l.seconds||"0",startText:n})}return(w.createElement(Zt.a,{component:"span",id:r,className:"sr-only"},t))},zu=t("7NrJ"),Uu=t("gNwb"),Qu=Object(Uu.b)({type:"BUTTON"})(U.a);function HighlightDeleteButton(e){var t,n=Object(w.useState)(!1),i=b()(n,2),r=i[0],a=i[1],o=e.disabled,c=e.highlight,u=e.onDelete,l=Object(w.useRef)(null),d=Object(w.useRef)(null),p=Object(s.c)();return Object(w.useEffect)((function(){r&&null!=l&&l.current&&l.current.focus()}),[r]),Object(S.d)("div",null,!r&&Object(S.d)(Qu,{size:"small",_refAltAsTrueRef:d,variant:"ghost",disabled:o,onClick:function(){a(!0)},trackingName:"delete_highlight_pre","aria-label":Bu()("Delete note #{noteText}",{noteText:null==c?void 0:null===(t=c.noteText)||void 0===t?void 0:t.substr(0,50)})},Bu()("Delete")),r&&Object(S.d)(V.a,{container:!0,className:"HighlightDeleteButton_confirmation_controls",css:Object(S.c)({gap:"var(--cds-spacing-200)"})},Object(S.d)(V.a,{item:!0,"aria-live":"assertive"},Object(S.d)(Zt.a,{component:"div",className:"highlight-delete-btn-confirm",css:Object(S.c)({lineHeight:"36px",margin:"0 0 0 var(--cds-spacing-100)"}),id:"delete-note"},Bu()("Delete Note?"))),Object(S.d)(zu.a,{"aria-labelledby":"delete-note",size:"small",primaryButtonProps:{children:Bu()("Delete"),onClick:function(){p({trackingName:"delete_highlight",action:"click",trackingData:{}}),a(!1),u()},ref:l},alternateButtonProps:{children:Bu()("Cancel"),variant:"secondary",onClick:function(){p({trackingName:"cancel_delete_highlight",action:"click",trackingData:{}}),a(!1)}}})))}Qu.displayName="TrackedButton",HighlightDeleteButton.displayName="HighlightDeleteButton";var Wu=HighlightDeleteButton,qu=t("al67"),cds_HighlightEditButton=function(e){var t=e.disabled,n=e.onClick,i=e.ariaLabelledBy,r=e.hasComment,a=e.forwardRef,o=r?Bu()("Edit your thoughts"):Bu()("Add your thoughts");return w.createElement(U.a,{ref:a,variant:"ghost",onClick:n,size:"small",disabled:t,"aria-labelledby":i,onKeyPress:function(e){return Object(qu.a)(e,n)}},o)},Ku=t("o5PN"),Gu=t("SJ7i"),Zu=Object(Uu.b)({type:"BUTTON"})(U.a);Zu.displayName="TrackedButton";var Ju,Xu,Yu,$u,HighlightNoteEditor_styles=function(e){return Object(S.c)({".note-textarea":{width:"100%",color:"#555",resize:"none",padding:"10px",fontSize:"14px",border:"1px solid var(--cds-color-grey-975)",borderRadius:4},"&:focus":{outline:"1px solid #ccc"}})},el=function(e){function HighlightNoteEditor(t){var n;return(n=e.call(this,t)||this).handleSave=function(){var e=n.state.noteText;(0,n.props.onSave)(e)},n.handleChange=function(e){n.setState({noteText:e.target.value})},n.state={noteText:t.initialNoteText},n.textarea=null,n.setTextareaRef=function(e){n.textarea=e,n.props.forwardRef&&(n.props.forwardRef.current=e)},n}Lt()(HighlightNoteEditor,e);var t=HighlightNoteEditor.prototype;return t.componentDidMount=function(){this.textarea&&this.textarea.focus()},t.render=function(){var e,t,n=this.state.noteText,i=this.props,r=i.highlight,a=i.initialNoteText,o=i.onCancel,s=i.ariaLabelledBy,c=n===a||n.length>1e3,u=Object(Au.e)(null!==(e=null==r?void 0:r.noteStartTs)&&void 0!==e?e:0),l=Object(Au.e)(null!==(t=null==r?void 0:r.noteEndTs)&&void 0!==t?t:0),d=Bu()('Save your thoughts for "#{transcriptText}" starting at #{startHour} hours #{startMinute} minutes #{startSecond} seconds and ending at #{endHour} hours #{endMinute} minutes #{endSecond} seconds',{transcriptText:null==r?void 0:r.transcriptText,startHour:u.hours,startMinute:u.minutes,startSecond:u.seconds,endHour:l.hours,endMinute:l.minutes,endSecond:l.seconds}),p=Bu()('Cancel changes for "#{transcriptText}" starting at #{startHour} hours #{startMinute} minutes #{startSecond} seconds and ending at #{endHour} hours #{endMinute} minutes #{endSecond} seconds',{transcriptText:null==r?void 0:r.transcriptText,startHour:u.hours,startMinute:u.minutes,startSecond:u.seconds,endHour:l.hours,endMinute:l.minutes,endSecond:l.seconds});return Object(S.d)("div",{className:"rc-HighlightNoteEditor",css:HighlightNoteEditor_styles,"data-testid":"highlight-note-editor"},Object(S.d)(Zt.a,{component:"label",variant:"bodySecondary",htmlFor:"note-text"},Bu()("Add your thoughts")),Object(S.d)(Ku.a,{id:"note-text",name:"note-text",minRows:1,maxRows:20,value:n,className:"note-textarea","aria-labelledby":s,onChange:this.handleChange,inputRef:this.setTextareaRef}),Object(S.d)(V.a,{container:!0,justifyContent:"flex-start",css:Object(S.c)({gap:this.props.theme.spacing(16)})},Object(S.d)(V.a,{item:!0},Object(S.d)(Zu,{type:"button",size:"small","aria-label":d,disabled:c,onClick:this.handleSave,trackingName:"edit_highlight"},Bu()("Save"))),Object(S.d)(V.a,null,Object(S.d)(Zu,{type:"button",size:"small","aria-label":p,variant:"secondary",onClick:o,trackingName:"cancel_edit_highlight"},Bu()("Cancel")))))},HighlightNoteEditor}(w.Component),tl=Object(Gu.a)(el),nl=t("Ya7m"),il=t("IDuc"),HighlightPlayButton_HighlightPlayButton=function(e){var t,n=e.highlight,i=e.onClick,r=e.playing,a=function(e){var t=e.noteStartTs,n=e.noteEndTs,i=e.captureTs,r=VideoTrimmingContext_useVideoTrimmingContext(),a=r.trimmedStartTimeSeconds,o=r.trimmedEndTimeSeconds;return{noteStartTs:Object(w.useMemo)((function(){return a?Object(be.c)(t,a):t}),[t,a]),noteEndTs:Object(w.useMemo)((function(){return n&&o?Object(be.a)(n,{trimmedStartTimeSeconds:a,trimmedEndTimeSeconds:o}):n}),[n,o,a]),captureTs:Object(w.useMemo)((function(){return o?i<a?a:i>o?o:i+a:i}),[i,o,a])}}(n),o=a.noteStartTs,s=a.noteEndTs,c=a.captureTs;return t="number"==typeof o&&"number"==typeof s?r?Bu()("Pause video clip #{startTime} - #{endTime}",{startTime:Object(Au.c)(o),endTime:Object(Au.c)(s)}):Bu()("Play video clip #{startTime} - #{endTime}",{startTime:Object(Au.c)(o),endTime:Object(Au.c)(s)}):r?Bu()("Pause video clip #{startTime}",{startTime:Object(Au.c)(c)}):Bu()("Play video clip #{startTime}",{startTime:Object(Au.c)(c)}),Object(S.d)(U.a,{type:"button",variant:"ghost",size:"small",component:il.a,onClick:i,trackingName:"highlight_timestamp","aria-label":t,"aria-live":"off",icon:r?Ju||(Ju=Object(S.d)(nl.a,{size:"medium"})):Xu||(Xu=Object(S.d)(yu.a,{size:"medium"})),iconPosition:"before",css:Object(S.c)({marginLeft:"-16px"})},t)},rl=HighlightPlayButton_HighlightPlayButton;HighlightPlayButton_HighlightPlayButton.displayName="HighlightPlayButton";var al,ol,sl,cl,ul={highlightButton:Object(S.c)(Yu||(Yu=y()(["\n    margin: 0 0 var(--cds-spacing-200) 0;\n    background: none;\n    border: 0;\n    width: 120px;\n    text-align: left;\n    padding: 0;\n  "]))),videoThumbnail:Object(S.c)($u||($u=y()(["\n    max-width: 120px;\n    max-height: 80px;\n  "])))},cds_HighlightSnapshot=function(e){var t=e.highlight,n=e.onClick,i=e.playing,r=t.snapshotDataUrl,a=t.snapshotUrl,o=t.noteStartTs,s=t.captureTs,c=a||r;if(!c)return null;var u=Object(S.d)("img",{alt:Bu()("Video thumbnail"),src:c,css:ul.videoThumbnail});return n?Object(S.d)(il.a,{trackingName:"highlight_snapshot",type:"button",className:"rc-HighlightSnapshot",onClick:n,"aria-labelledby":"snapshot-btn-label-".concat(o||s),css:ul.highlightButton},Object(S.d)(cds_HighlightButtonLabel,{id:"snapshot-btn-label-".concat(o||s),startText:i?Bu()("Pause video for highlight marked"):Bu()("Play video for highlight marked"),highlight:t}),u):Object(S.d)("div",{css:ul.highlightButton},u)},cds_HighlightTranscript=function(e){var t=e.highlight,n=e.onClick,i=e.playing,r=t.snapshotUrl,a=t.snapshotDataUrl,o=t.transcriptText,s=t.noteStartTs,c=t.captureTs;if(!o)return null;var u=r||a?300:500,l=o.length>u?"".concat(o.substring(0,u),"..."):o;return n?w.createElement(L.a,{component:Dt.a,role:"button",tabIndex:0,onClick:n,className:"rc-HighlightTranscript",trackingName:"highlight_transcript",onKeyPress:function(e){return Object(qu.a)(e,n)},"aria-labelledby":"transcript-btn-label-".concat(s||c)},w.createElement(cds_HighlightButtonLabel,{id:"transcript-btn-label-".concat(s||c),startText:i?Bu()("Pause video for highlighted transcript with text, #{formattedTranscriptText}, marked",{formattedTranscriptText:l}):Bu()("Play video for highlighted transcript with text, #{formattedTranscriptText}, marked",{formattedTranscriptText:l}),highlight:t}),l):w.createElement(L.a,{component:Dt.a,trackingName:"highlight_transcript"},l)},ll={container:Object(S.c)(al||(al=y()(["\n    margin: var(--cds-spacing-300) 0;\n    padding: 0 0 var(--cds-spacing-200) 0;\n  "]))),highlightBody:Object(S.c)(ol||(ol=y()(["\n    margin: var(--cds-spacing-200) 0 var(--cds-spacing-100) 0;\n  "]))),highlightStatus:Object(S.c)(sl||(sl=y()(["\n    margin-left: var(--cds-spacing-200);\n  "]))),editingControls:Object(S.c)(cl||(cl=y()(["\n    margin-left: -8px;\n    margin-top: var(--cds-spacing-100);\n  "])))},nextTickExecute=function(e){setTimeout(e,0)},Highlight_Highlight=function(e){var t=e.highlight,n=e.highlight,i=n.id,r=n.pendingCreate,a=n.pendingUpdate,o=n.noteStartTs,s=n.captureTs,c=e.onDelete,u=e.currentHighlight,l=e.onSetCurrentHighlight,p=e.videoPlayer,m=e.onUpdate,v=e.forwardRef,f=Object(w.useState)(t.noteText),y=b()(f,2),C=y[0],k=y[1],O=Object(w.useState)(!1),x=b()(O,2),j=x[0],T=x[1],E=Object(w.useState)(!1),I=b()(E,2),P=I[0],L=I[1],M=Object(w.useState)(!1),N=b()(M,2),F=N[0],D=N[1],R=Object(w.useState)(null),A=b()(R,2),H=A[0],B=A[1],z=Object(w.useState)(null),U=b()(z,2),Q=U[0],W=U[1],q=Object(w.useRef)(null),K=Object(w.useRef)(null),G=Object(w.useRef)(null),Z=Object(w.useRef)(null),J=Object(w.useState)(""),X=b()(J,2),Y=X[0],ee=X[1],te=function(e){var t=VideoTrimmingContext_useVideoTrimmingContext(),n=t.trimmedStartTimeSeconds,i=t.trimmedEndTimeSeconds;return Object(w.useMemo)((function(){return Object(be.b)(e.noteStartTs,e.noteEndTs,{trimmedStartTimeSeconds:n,trimmedEndTimeSeconds:i})}),[e.noteStartTs,e.noteEndTs,n,i])}(t),focusOnNextFocusableElement=function(){var e=q.current;if(e){var t=Array.from(e.querySelectorAll('a[href], area[href], input:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]'));t.length>0&&t[0].focus()}},focusEditButton=function(){var e;null==K||null===(e=K.current)||void 0===e||e.focus(),ee("")},focusInput=function(){var e;null==G||null===(e=G.current)||void 0===e||e.focus()},handlePause=function(){D(!1)},handleToggle=function(){l(i),o?p.currentTime(o):p.currentTime(s),p.paused()||!F?(p.play(),D(!0)):(p.pause(),D(!1))},ne=function(){var e=g()(d()().mark((function _callee(e){return d()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return k(e),L(!1),n.next=4,m(h()(h()({},t),{},{noteText:e}));case 4:i=void 0,null==Z||null===(i=Z.current)||void 0===i||i.focus(),ee(Bu()("Your thoughts have been saved")),setTimeout(focusEditButton,1500);case 7:case"end":return n.stop()}var i}),_callee)})));return function(t){return e.apply(this,arguments)}}();Object(w.useEffect)((function(){var e,n;if(j&&(null==q||null===(e=q.current)||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e),("undefined"==typeof window||Du()(window))&&window.setTimeout)){var i=window.setTimeout((function(){T(!1),B(null)}),2e3);B(i)}t&&W(function(e){if(null!=e&&e.id)return e.id.split("~").length,e.id}(t)||null)}),[j,q,t]),Object(w.useEffect)((function(){return function(){p.off("pause",handlePause),H&&clearTimeout(H)}}),[Q,t,q,H,l,p]),Object(w.useEffect)((function(){u&&t.id!==u&&handlePause()}),[t,u]);var ie=Bu()("#{action} your thoughts#{noteText} for the note marked",{noteText:C?", ".concat(C,","):"",action:C?Bu()("Edit"):Bu()("Add")});Object(w.useEffect)((function(){u&&t.id===u&&nextTickExecute(focusOnNextFocusableElement)}),[u,t.id]);var re="edit-btn-label-".concat(null==t?void 0:t.id);return Object(S.d)(V.a,{container:!0,item:!0,spacing:12,ref:q,css:ll.container,xs:12,"data-testid":"highlight"},Object(S.d)(V.a,{ref:v,item:!0,justifyContent:"flex-start",alignItems:"center",sm:3},Object(S.d)(cds_HighlightSnapshot,{highlight:t,onClick:te?null:handleToggle,playing:F})),Object(S.d)(V.a,{container:!0,item:!0,direction:"row",wrap:"wrap",sm:9},Object(S.d)(V.a,{item:!0,justifyContent:"flex-start",alignItems:"center"},te?Object(S.d)(Zt.a,{variant:"bodySecondary",component:"div"},Bu()("Timestamp unavailable as this portion of the video has been removed.")):Object(S.d)(rl,{highlight:t,onClick:handleToggle,playing:F}),Object(S.d)(Zt.a,{component:"span",className:"highlight-status",css:te?{}:ll.highlightStatus,"aria-live":"assertive",role:"alert",ref:Z,tabIndex:-1},Y)),Object(S.d)(V.a,{item:!0,justifyContent:"flex-start",alignItems:"flex-start",css:ll.highlightBody,xs:12},Object(S.d)(cds_HighlightTranscript,{highlight:t,onClick:te?null:handleToggle,playing:F})),C&&Object(S.d)(V.a,{item:!0,className:"highlight-note"},Object(S.d)(Zt.a,{component:"h3",variant:"subtitleMedium"},Bu()("Your note")),Object(S.d)(Zt.a,{component:"p"},C)),Object(S.d)(V.a,{container:!0,item:!0,alignItems:"center",justifyContent:"flex-start",direction:"row",css:[ll.editingControls,!P&&{display:"none"}]},Object(S.d)(V.a,{item:!0,xs:12,sm:8,md:6},Object(S.d)(tl,{forwardRef:G,highlight:t,initialNoteText:C,onSave:ne,onCancel:function(){L(!1),nextTickExecute(focusEditButton)},ariaLabelledBy:re}))),Object(S.d)(V.a,{container:!0,item:!0,alignItems:"center",justifyContent:"flex-start",direction:"row",css:[ll.editingControls,{"div:nth-child(2)":{margin:"0 var(--cds-spacing-200)"}}]},Object(S.d)(V.a,{item:!0,css:[P&&{display:"none"}]},Object(S.d)(cds_HighlightEditButton,{forwardRef:K,onClick:function(){L(!0),nextTickExecute(focusInput)},ariaLabelledBy:re,hasComment:!!C,disabled:r||a})),Object(S.d)(V.a,{item:!0},Object(S.d)(Wu,{onDelete:function(){return c(t.id)},disabled:r||a,highlight:t})))),Object(S.d)(cds_HighlightButtonLabel,{id:re,startText:ie,highlight:t}))};Highlight_Highlight.displayName="Highlight";var dl,pl,gl,ml,hl,vl,bl,fl=Highlight_Highlight,yl=t("EHzZ"),Cl=t("buno"),kl=t("Ys1X"),Sl={btnLink:Object(S.c)(dl||(dl=y()(["\n    margin: -16px;\n  "])))},cds_ReviewPageLink=function(){var e=Object(un.e)().courseSlug;return Object(S.d)(U.a,{variant:"ghost",href:Object(kl.e)(Object(kl.c)(e)),trackingName:"note_sidebar_to_review_link",target:"_blank",rel:"noopener noreferrer",component:Cl.a,icon:pl||(pl=Object(S.d)(yl.a,{size:"small"})),iconPosition:"after",css:Sl.btnLink,"aria-label":Bu()("View all notes. Opens in new tab"),id:"note_sidebar_to_review_link_id"},Bu()("View all notes"))},wl="".concat(Ae.a.url.resource_assets,"learner/note_placeholder.svg"),Ol={container:Object(S.c)(gl||(gl=y()(["\n    display: flex;\n    flex-direction: column;\n    gap: var(--cds-spacing-300);\n  "])))},cds_VideoHighlightsLoadingPlaceholder=function(){return Object(S.d)("div",{className:"rc-VideoHighlightsLoadingPlaceholder",css:Ol.container},Object(S.d)("img",{src:wl,alt:Bu()("Note placeholder")}),Object(S.d)("img",{src:wl,alt:Bu()("Note placeholder")}),Object(S.d)("img",{src:wl,alt:Bu()("Note placeholder")}))},xl=t("TOZ3"),jl="".concat(Ae.a.url.resource_assets,"learner/icon_note.svg"),Tl="".concat(Ae.a.url.resource_assets,"learner/icon_highlight.svg"),cds_VideoHighlightsPlaceholder=function(e){var t=e.helpText;return(w.createElement("div",{className:"rc-VideoHighlightsPlaceholder"},w.createElement(xl.b,{justifyContent:"center"},w.createElement("img",{src:jl,alt:Bu()("Take notes"),className:"icon note-icon"}),w.createElement("img",{src:Tl,alt:Bu()("Highlight"),className:"icon"})),w.createElement(Zt.a,{component:"p",color:"supportText",className:"help-text"},t)))},El=Object(S.c)(ml||(ml=y()(["\n  padding: 0 0 var(--cds-spacing-200) 0;\n"])));function VideoHighlights(e){var t=Object(w.useState)(null),n=b()(t,2),i=n[0],r=n[1],a=e.loading,o=e.videoPlayer,s=e.highlights,c=e.notificationAnnouncement,u=e.onDelete,l=e.onUpdate,d=Object(w.useRef)(null),handleDelete=function(e){u&&(u(e),function(e){var t=s.findIndex((function(t){return t.id===e})),n=t;if(s.length<=t?n=t-1:s.length>1?n=0===t?1:t-1:s.length<1&&(n=-1),n>=0){var i=s[n].id;setTimeout((function(){return r(i)}),0)}}(e))},p=l&&s.map((function(e){return Object(S.d)(fl,{forwardRef:e.id===i?d:null,highlight:e,key:e.clientId,currentHighlight:i,onSetCurrentHighlight:r,videoPlayer:o,onDelete:handleDelete,onUpdate:function(t){return l(e.id,t)}})}));return Object(S.d)("div",{css:El},a&&(hl||(hl=Object(S.d)(cds_VideoHighlightsLoadingPlaceholder,null))),!a&&0===s.length&&Object(S.d)(cds_VideoHighlightsPlaceholder,{helpText:Bu()('Click the "Save Note" button below the lecture when you want to capture a screen. You can also highlight and save lines from the transcript. Add your own notes to anything you\'ve captured.')}),!a&&p,Object(S.d)(Nu.a,{role:"region","aria-live":"assertive","aria-atomic":!0,component:"span",className:"rc-A11yScreenReaderOnly"},c&&Object(S.d)("span",null,c)),Object(S.d)(V.a,{container:!0,item:!0,className:"highlight-sidebar-header",css:Object(S.c)(vl||(vl=y()(["\n          flex-flow: column;\n          vertical-align: center;\n          padding: var(--cds-spacing-200) 0 var(--cds-spacing-200);\n        "])))},bl||(bl=Object(S.d)(V.a,{item:!0},Object(S.d)(cds_ReviewPageLink,null)))))}var Il,Pl,Vl=Object(w.memo)(VideoHighlights),NotesTabContent_NotesTabContent=function(){var e=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),t=e.loading,n=e.videoPlayer,i=e.highlights,r=e.notificationAnnouncement,a=e.onDelete,o=e.onUpdate;return Object(S.d)("div",{css:Object(S.c)(Il||(Il=y()(["\n        max-width: 700px;\n      "])))},Object(S.d)(Vl,{loading:t,videoPlayer:n,highlights:i,notificationAnnouncement:r,onDelete:a,onUpdate:o}))},_l=t("8WNh"),Ll=t("WG1l"),Ml=t.n(Ll),findParentCueElement=function(e){return e.matches(".rc-Phrase")?e:e.closest(".rc-Phrase")},findCueElementWithIndex=function(e){return document.querySelector('[data-cue-index="'.concat(e,'"]'))},findCueMarkWithIndex=function(e){return document.querySelector('[data-cue-index="'.concat(e,'"] mark'))},getCueIndex=function(e){var t=e.getAttribute("data-cue-index");return null==t?null:parseInt(t,10)},getCueIndexFromText=function(e){if(!e||!e.parentElement)return null;var t=findParentCueElement(e.parentElement);return t?getCueIndex(t):null},Nl=function getTextNodesFromPhrase(e){return"#text"===e.nodeName?[e]:Array.from(e.childNodes).reduce((function(e,t){return[].concat(Ve()(e),Ve()(getTextNodesFromPhrase(t)))}),[])},getHighlightsForCue=function(e,t){return t.filter((function(t){return t.transcriptTextStartIndex&&t.transcriptTextEndIndex&&(t.transcriptTextStartIndex.cueIndex===e.index||t.transcriptTextEndIndex.cueIndex===e.index||e.index>t.transcriptTextStartIndex.cueIndex&&e.index<t.transcriptTextEndIndex.cueIndex)}))},getHighlightedTextIndicesForCue=function(e,t){return t.transcriptTextStartIndex&&t.transcriptTextEndIndex?e.index===t.transcriptTextStartIndex.cueIndex?e.index===t.transcriptTextEndIndex.cueIndex?{start:t.transcriptTextStartIndex.textIndex,end:t.transcriptTextEndIndex.textIndex+1}:{start:t.transcriptTextStartIndex.textIndex,end:e.text.length+1}:e.index>t.transcriptTextStartIndex.cueIndex?e.index<t.transcriptTextEndIndex.cueIndex?{start:0,end:e.text.length+1}:e.index===t.transcriptTextEndIndex.cueIndex?{start:0,end:t.transcriptTextEndIndex.textIndex+1}:{start:0,end:0}:{start:0,end:0}:{start:0,end:0}},getHighlightForCueElement=function(e,t){var n=getCueIndex(t);return null===n?null:e.find((function(e){var t=e.transcriptTextStartIndex,i=e.transcriptTextEndIndex;return!(!t||!i)&&(n>=t.cueIndex&&n<=i.cueIndex)}))},getIsCueIncludedInHighlight=function(e,t){var n=t.transcriptTextStartIndex,i=t.transcriptTextEndIndex;return!(!n||!i)&&(e.index>=n.cueIndex&&e.index<=i.cueIndex)},getTranscriptSelection=function(){var e=window.getSelection();if(e&&e.toString()){var t,n,i=e.anchorNode,r=e.anchorOffset,a=e.focusNode,o=e.focusOffset,s=getCueIndexFromText(a),c=getCueIndexFromText(i);if(null!==c&&null!==s)return c<s?(t={cueIndex:c,textIndex:r},n={cueIndex:s,textIndex:o-1}):c===s?(t={cueIndex:c,textIndex:Math.min(r,o)},n={cueIndex:c,textIndex:Math.max(r,o)-1}):(t={cueIndex:s,textIndex:o},n={cueIndex:c,textIndex:r-1}),{transcriptTextStartIndex:t,transcriptTextEndIndex:n}}},mouseMovedInNeighborhoodOfHighlight=function(e,t,n){var i=t.transcriptTextStartIndex,r=t.transcriptTextEndIndex;if(!i||!r)return!1;var a=findCueMarkWithIndex(i.cueIndex),o=findCueMarkWithIndex(r.cueIndex);if(!a||!o)return!1;var s=a.getBoundingClientRect(),c=o.getBoundingClientRect(),u=n.getBoundingClientRect(),l=u.left+50,d=u.right-250,p=Math.min(s.top,c.top)-50,g=Math.max(s.bottom,c.bottom);return e.clientX>=l&&e.clientX<=d&&e.clientY>=p&&e.clientY<=g},Fl=function getClosestTextNodeInTree(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=e;null!=i&&(3!==i.nodeType||i===n);){var r=i.childNodes,a="left"===t?r[r.length-1]:r[0],o=(i||{}).childNodes.length>0&&getClosestTextNodeInTree(a,t,n);i=o||("left"===t?i.previousSibling:i.nextSibling)}return i},getAdjacentTextNode=function(e,t){var n=Fl(e,t);if(n)return n;for(var i=e.parentElement;"left"===t?!i.previousSibling:!i.nextSibling;)i=i.parentElement;var r="left"===t?i.previousSibling:i.nextSibling;return 3===(null==r?void 0:r.nodeType)?r:Fl(r,t)},TranscriptHighlighterUtils_getTextNodeWordStartingOffsets=function(e){var t=e.data.split(" ");return 1===t.length?[0]:t.reduce((function(e,n,i){return[].concat(Ve()(e),[e[i]+n.length+(i!==t.length-1?1:0)])}),[0])},expandSelection=function(e){var t=e.direction,n=e.magnitude,i=window.getSelection();if(i){var r=i.getRangeAt(0),a=r.startContainer,o=r.startOffset,s=r.endContainer,c=r.endOffset,u="left"===t?a:s,l="left"===t?o:c,d="left"===t?0===l:l>=u.length-1,p=d?getAdjacentTextNode(u,t):u;if(p)if("word"===n){var g=TranscriptHighlighterUtils_getTextNodeWordStartingOffsets(p);if("left"===t){var m=d?p.length-1:l,h=g.find((function(e,t){return m>e&&m<=g[t+1]}))||0;r.setStart(p,h)}else{var v=d?0:l,b=g.find((function(e,t){return v>=g[t-1]&&v<e}))||g[g.length-1];r.setEnd(p,b)}}else if("phrase"===n)if("left"===t){r.setStart(p,0)}else{var f=p.length-1;r.setEnd(p,f)}}},contractSelection=function(e){var t=e.direction,n=e.magnitude,i=window.getSelection();if(i){var r=i.getRangeAt(0),a=r.startContainer,o=r.startOffset,s=r.endContainer,c=r.endOffset,u="left"===t?s:a,l="left"===t?c:o,d="left"===t?0===l:l>=u.length-1,p=d?getAdjacentTextNode(u,t):u;if(p)if("word"===n){var g=TranscriptHighlighterUtils_getTextNodeWordStartingOffsets(p);if("left"===t){var m=d?p.length-1:l,h=g.find((function(e,t){return m>e&&m<=g[t+1]}))||0;r.setEnd(p,h)}else{var v=d?0:l,b=g.find((function(e,t){return v<e&&v>=g[t-1]}))||g[g.length-1];r.setStart(p,b)}}else if("phrase"===n)if("left"===t){r.setEnd(p,0)}else{var f=p.length-1;r.setStart(p,f)}}},Dl=t("kj/T"),Rl=t.n(Dl),Phrase_styles=function(e){var t="rgba(42, 181, 115, 0.15)";return Object(S.c)(Pl||(Pl=y()(["\n    opacity: 1;\n    display: inline;\n\n    &:hover {\n      cursor: text;\n      background-color: #eee;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &.active {\n      background-color: ",";\n      outline: 1px solid ",";\n      outline-offset: -1px;\n\n      &:focus {\n        outline: none;\n      }\n    }\n\n    &.highlighted {\n      .highlight {\n        background-color: ",";\n      }\n\n      &:hover {\n        background-color: transparent;\n      }\n\n      &.active {\n        background-color: ",";\n\n        .highlight {\n          background: transparent;\n        }\n      }\n    }\n\n    &.targeted {\n      &:hover {\n        background-color: transparent;\n      }\n\n      .highlight {\n        background-color: ",";\n      }\n\n      &.active {\n        background-color: ",";\n\n        .highlight {\n          background-color: transparent;\n        }\n      }\n    }\n  "])),t,"rgba(42, 181, 115, 0.5)","rgba(43, 160, 202, 1.0)",t,"rgba(59, 175, 218, 0.4)",t)},Al=function(e){function Phrase(t){var n;return(n=e.call(this,t)||this).setPhraseRef=function(e){n.phrase=e},n.handleClick=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t.preventDefault();var i=n.props,r=i.cue,a=i.onClick;n.phrase&&n.phrase.setAttribute("tabIndex","0");var o=window.getSelection();o&&o.toString()||n.phrase&&n.phrase.focus(),a&&a(r,e)}},n.handleFocus=function(){var e=n.props.onFocus;window.setTimeout((function(){var t=window.getSelection();if(n.phrase&&t){var i=n.getTextRangeForPhrase();i&&(t.removeAllRanges(),t.addRange(i)),e&&e()}}),0)},n.handleMouseDown=function(){var e=window.getSelection();e&&e.toString()&&e.empty(),n.phrase&&n.phrase.removeAttribute("tabIndex")},n.getTextRangeForPhrase=function(){if(!n.phrase)return null;var e=Nl(n.phrase),t=e[0],i=e[e.length-1],r=document.createRange();return r.setStart(t,0),r.setEnd(i,i.length-1),r},n.phrase=null,n}return Lt()(Phrase,e),Phrase.prototype.render=function(){var e,t=this,n=this.props,i=n.cue,r=n.highlights,a=n.isActive,o=n.isTargeted,s=n.shouldDisableSkippingForward,c=0!==r.length,u=c&&!o,l=c&&o,d=Nt()("rc-Phrase",{active:a,targeted:l,highlighted:u}),p=r.map((function(e){return getHighlightedTextIndicesForCue(i,e)}));return e=s?Rl()("toggling through the video using the transcript is disabled on first play of the video"):a?Rl()("toggle video from current lecture segment"):Rl()("play video from #{cueText}",{cueText:i.text}),Object(S.d)("div",{tabIndex:0,role:"button","data-cue":i.id,className:d,ref:this.setPhraseRef,"data-cue-index":i.index,onClick:this.handleClick(!1),onMouseDown:this.handleMouseDown,onKeyPress:function(e){return Object(qu.a)(e,t.handleClick(!0))},onFocus:this.handleFocus,"aria-label":e,css:Phrase_styles(this.props.theme)},c&&Object(S.d)(L.a,{component:Ml.a,autoEscape:!0,searchWords:[],highlightClassName:"highlight",textToHighlight:"".concat(i.text," "),findChunks:function(){return p},"aria-hidden":!0}),!c&&Object(S.d)(Zt.a,{component:"span","aria-hidden":!0},"".concat(i.text," ")))},Phrase}(w.Component),Hl=Object(Gu.a)(Al);Hl.displayName="Phrase";var Bl,zl,Ul=Hl,Paragraph_styles=function(){return Object(S.c)(Bl||(Bl=y()(["\n  .timestamp {\n    border: none;\n    height: 26px;\n    color: #666;\n    font-size: 12px;\n    line-height: 26px;\n    margin-right: 30px;\n    margin-left: -7px;\n    background: white;\n\n    &:focus {\n      color: #333;\n      outline: 2px solid #888;\n      outline-offset: -5px;\n    }\n\n    &:hover {\n      color: #333;\n      text-decoration: underline;\n    }\n  }\n"])))},Ql=function(e){function Paragraph(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleTimestampClick=function(e){e.preventDefault();var n=t.props,i=n.cues;(0,n.onCueClick)(i[0])},t}return Lt()(Paragraph,e),Paragraph.prototype.render=function(){var e=this.props,t=e.cues,n=e.onCueClick,i=e.onPhraseFocus,r=e.activeCues,a=e.targetedHighlight,o=e.highlights,s=e.hideTime,c=e.renderPlainText,l=e.shouldDisableSkippingForward,d=t[0];return Object(S.d)(V.a,{container:!0,css:Paragraph_styles},Object(S.d)(V.a,{item:!0,className:"rc-Paragraph",css:Object(S.c)(zl||(zl=y()(["\n            display: flex;\n            padding: 0 0 var(--cds-spacing-200) 0;\n          "])))},!s&&Object(S.d)("button",{type:"button",className:"timestamp",onClick:this.handleTimestampClick,"aria-labelledby":"button-label-".concat(d.id)},Object(S.d)("span",{id:"button-label-".concat(d.id),className:"sr-only"},Object(S.d)(Ru.FormattedMessage,u()({message:Rl()("Play video starting at {hours}:{minutes}:{seconds} and follow transcript")},Object(Au.e)(d.startTimeForDisplay)))),Object(Au.c)(d.startTimeForDisplay)),Object(S.d)("div",{className:"phrases"},t.map((function(e){var t=r&&r.find((function(t){return e.id===t.id})),s=getHighlightsForCue(e,o),u=!(!a||!getIsCueIncludedInHighlight(e,a));return c?Object(S.d)("div",{className:"rc-Phrase"},Object(S.d)(Zt.a,{component:"p"},e.text)):Object(S.d)(Ul,{cue:e,key:e.id,onClick:n,onFocus:i,isActive:!!t,isTargeted:u,highlights:s,shouldDisableSkippingForward:l})})))))},Paragraph}(w.Component),Wl=Object(Gu.a)(Ql),ql={Transcript:Object(S.c)({padding:"0",lineHeight:"26px",position:"relative"}),Paragraph:Object(S.c)({marginBottom:"15px"})},Transcript_Transcript=function(e){var t=e.paragraphs,n=e.highlights,i=e.onCueClick,r=e.onPhraseFocus,a=e.activeCues,o=e.targetedHighlight,s=e.hideTime,c=e.renderPlainText,u=e.shouldDisableSkippingForward;return Object(S.d)(Dt.a,{trackingName:"interactive_transcript",trackMouseEnters:!0,trackMouseLeaves:!0,className:"rc-Transcript",css:ql.Transcript},t.map((function(e){return Object(S.d)(Wl,{cues:e,key:e[0].startTime,onCueClick:i,onPhraseFocus:r,activeCues:a,highlights:n,targetedHighlight:o,hideTime:s,renderPlainText:c,css:ql.Paragraph,shouldDisableSkippingForward:u})})))};Transcript_Transcript.displayName="Transcript";var Kl,Gl,Zl,Jl=Transcript_Transcript,Xl=t("sEfC"),Yl=t.n(Xl),TranscriptHighlightButton_styles=function(){return Object(S.c)(Kl||(Kl=y()(["\n  left: 320px;\n  z-index: 1000;\n  margin-top: -40px;\n  position: absolute;\n\n  button {\n    transition-property: background-color, border;\n  }\n\n  .transcript-highlight-btn-arrow-down {\n    width: 0;\n    height: 0;\n    bottom: -10px;\n    position: absolute;\n    border-top: 20px solid #2a73cc;\n    border-left: 20px solid transparent;\n    border-right: 20px solid transparent;\n    transition: border 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n  }\n\n  &:hover {\n    .transcript-highlight-btn-arrow-down {\n      border-top: 20px solid #0156b8;\n    }\n  }\n"])))},$l=Object(Uu.b)({type:"BUTTON"})(Oc.b),components_TranscriptHighlightButton=function(e){var t=e.cueIndex,n=e.label,i=e.trackingName,r=e.onClick,a=findCueElementWithIndex(t),o=null==a?void 0:a.offsetTop;return Object(S.d)("div",{className:"rc-TranscriptHighlightButton",style:{top:o},css:TranscriptHighlightButton_styles},Object(S.d)($l,{"data-testid":"transcriptHighlightButton",size:"sm",label:n,type:"primary",onClick:r,trackingName:i,style:{fontWeight:"bold"},tabIndex:-1},Gl||(Gl=Object(S.d)("div",{className:"transcript-highlight-btn-arrow-down"}))))},HotkeyUtils_getModifierKeyForPlatform=function(){var e=!1;return"undefined"!=typeof window&&(e=window.navigator.platform.includes("Mac")),e?"":Rl()("CTRL")},components_RemoveTranscriptHighlight=function(e){var t=e.targetedHighlight,n=e.onRemove,i=e.showKeyboardControls,r=HotkeyUtils_getModifierKeyForPlatform(),a=Rl()("Press [#{modiferKey} + D] to Delete Note",{modiferKey:r}),o=i?a:Rl()("Delete Note"),s=Object(w.useCallback)((function(){return function(e){e.target&&e.target.innerText===o&&n()}}),[o,n]);if(Object(w.useEffect)((function(){return document.addEventListener("mousedown",s()),function(){document.removeEventListener("mousedown",s())}}),[s]),!t.transcriptTextStartIndex)return null;var c=t.transcriptTextStartIndex.cueIndex;return(w.createElement(components_TranscriptHighlightButton,{onClick:n,cueIndex:c,label:o,trackingName:"delete_transcript_highlight"}))},components_SaveHighlightConfirmationPopup=function(e){var t=e.cueIndex,n=e.onTimeoutReached;return Object(w.useEffect)((function(){var e=setTimeout(n,800);return function(){return clearTimeout(e)}}),[t,n]),t||0===t?w.createElement(components_TranscriptHighlightButton,{cueIndex:t,label:Rl()("Note saved!"),trackingName:"transcript_highlight_saved_popup",onClick:function(){n()}}):null},ed=function(e){function SaveTranscriptHighlight(t){var n;return(n=e.call(this,t)||this).handleClick=function(){var e=n.props.onSave,t=window.getSelection();t&&t.empty(),e()},n.handleDocumentMouseDown=function(e){var t=n.props.onCancel;n.saveHighlight&&!n.saveHighlight.contains(e.target)&&t()},n.saveHighlight=null,n}Lt()(SaveTranscriptHighlight,e);var t=SaveTranscriptHighlight.prototype;return t.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown)},t.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown)},t.render=function(){var e=this.props,t=e.showKeyboardControls,n=e.transcriptSelection.transcriptTextStartIndex.cueIndex,i=HotkeyUtils_getModifierKeyForPlatform(),r=Rl()("Press [#{modiferKey} + S] to Save Note",{modiferKey:i}),a=t?r:Rl()("Save Note");return w.createElement(components_TranscriptHighlightButton,{cueIndex:n,label:a,onClick:this.handleClick,trackingName:"create_transcript_highlight"})},SaveTranscriptHighlight}(w.Component),td=function(e){function TranscriptSelectionAnnouncer(){return e.apply(this,arguments)||this}return Lt()(TranscriptSelectionAnnouncer,e),TranscriptSelectionAnnouncer.prototype.render=function(){var e=this.props.announcementText;return e?w.createElement("div",{className:"rc-TranscriptSelectionAnnouncer sr-only","aria-live":"assertive","aria-atomic":!0},w.createElement("span",{key:e},e)):null},TranscriptSelectionAnnouncer}(w.PureComponent),nd=Object(S.c)({position:"relative"}),id=function(e){function TranscriptHighlighter(t){var n;return(n=e.call(this,t)||this).handleSave=function(){var e=n.props,t=e.onSave,i=e.showSaveConfirmations,r=n.state.transcriptSelection;if(r){t(r);var a=r.transcriptTextStartIndex.cueIndex;n.setState({transcriptSelection:void 0});var o=window.getSelection();o&&o.empty(),n.updateAnnouncementText(Rl()("Note Saved!")),i&&n.showSaveConfirmation(a)}},n.handleRemove=function(){var e=n.props.onRemove,t=n.state.targetedHighlight;t&&(e(t.id),n.setState({targetedHighlight:void 0}),n.updateAnnouncementText(Rl()("Note Deleted!")))},n.handleCancel=function(){var e=window.getSelection();e&&e.empty(),n.setState({transcriptSelection:void 0})},n.handleMouseUp=function(){n.updateSelection(),n.setState({showKeyboardControls:!1})},n.handleMouseMove=function(e){n.mouseMoveTimeout&&clearTimeout(n.mouseMoveTimeout),n.mouseMoveTimeout=window.setTimeout((function(){var t=n.state.targetedHighlight,i=n.props,r=i.highlights,a=i.onSelect,o=window.getSelection();if(o&&o.toString())return n.mouseMoveTimeout=null,void n.resetTargetedHighlight();var s=e.target&&e.target.matches("mark")?findParentCueElement(e.target):null,c=s?getHighlightForCueElement(r,s):null;if(c||!t||!n.transcriptHighlighter||!mouseMovedInNeighborhoodOfHighlight(e,t,n.transcriptHighlighter)){if(!c)return n.mouseMoveTimeout=null,void n.resetTargetedHighlight();n.setState({targetedHighlight:c}),a(c),n.mouseMoveTimeout=null}}),0)},n.handleMouseLeave=function(){n.mouseMoveTimeout=null,n.resetTargetedHighlight()},n.handleKeyboardControls=function(e){if("Tab"===e.key&&n.setState({showKeyboardControls:!0}),!e.shiftKey||"ArrowRight"!==e.key&&"ArrowLeft"!==e.key&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key||window.setTimeout(n.updateSelection,0),e.metaKey||e.ctrlKey||e.ctrlKey&&e.altKey){var modifySelection=function(t){return e.preventDefault(),e.stopPropagation(),e.shiftKey?contractSelection(t):expandSelection(t)};switch(e.key){case"l":case"ArrowRight":modifySelection({direction:"right",magnitude:"word"});break;case"h":case"ArrowLeft":modifySelection({direction:"left",magnitude:"word"});break;case"j":case"ArrowDown":modifySelection({direction:"right",magnitude:"phrase"});break;case"k":case"ArrowUp":modifySelection({direction:"left",magnitude:"phrase"});break;case"s":e.preventDefault(),n.handleSave();break;case"d":e.preventDefault(),n.handleRemove();break;default:return}window.setTimeout(n.updateSelection,0)}},n.handleSelectingNote=function(e){var t=n.props.highlights,i=HotkeyUtils_getModifierKeyForPlatform(),r=findParentCueElement(e),a=r?getHighlightForCueElement(t,r):null;a&&(n.setState({targetedHighlight:a}),n.updateAnnouncementText(Rl()("Previously saved note: #{highlightedText}. Press [#{modifierKey} + D] to delete the note",{highlightedText:a.transcriptText,modifierKey:i})))},n.updateSelection=function(){var e=getTranscriptSelection(),t=HotkeyUtils_getModifierKeyForPlatform();n.setState({transcriptSelection:e});var i=window.getSelection();if(i){var r=Array.from(document.getElementsByTagName("mark")).filter((function(e){return i.containsNode(e,!0)}))[0];r?n.handleSelectingNote(r):(n.resetTargetedHighlight(),n.updateAnnouncementText(Rl()("#{selectedText}: Added to Selection. Press [#{modifierKey} + S] to save as a note",{selectedText:i&&i.toString(),modifierKey:t})))}},n.resetTargetedHighlight=function(){var e=n.props.onSelect;n.setState({targetedHighlight:null}),e(null)},n.updateAnnouncementText=Yl()((function(e){return n.setState({announcementText:e})}),250,{leading:!0}),n.clearSaveConfirmation=function(){n.setState({saveConfirmationCueIndex:void 0})},n.mouseMoveTimeout=null,n.transcriptHighlighter=null,n.saveHighlightButton=null,n.setTranscriptHighlighterRef=function(e){n.transcriptHighlighter=e},n.setSaveHighlightButtonRef=function(e){n.saveHighlightButton=e},n.state={announcementText:null,targetedHighlight:null,transcriptSelection:void 0,showKeyboardControls:!1},n}Lt()(TranscriptHighlighter,e);var t=TranscriptHighlighter.prototype;return t.componentDidMount=function(){this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("mouseup",this.handleMouseUp),this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("mousemove",this.handleMouseMove),this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("mouseleave",this.handleMouseLeave),this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("keydown",this.handleKeyboardControls)},t.componentWillUnmount=function(){this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("mouseup",this.handleMouseUp),this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("mousemove",this.handleMouseMove),this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("mouseleave",this.handleMouseLeave),this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("keydown",this.handleKeyboardControls)},t.showSaveConfirmation=function(e){this.setState({saveConfirmationCueIndex:e})},t.render=function(){var e=this.props,t=e.children,n=e.showSaveConfirmations,i=this.state,r=i.transcriptSelection,a=i.announcementText,o=i.targetedHighlight,s=i.showKeyboardControls,c=i.saveConfirmationCueIndex,u=HotkeyUtils_getModifierKeyForPlatform();return Object(S.d)("div",{className:"rc-TranscriptHighlighter",ref:this.setTranscriptHighlighterRef,css:nd},r&&!o&&Object(S.d)(ed,{onSave:this.handleSave,onCancel:this.handleCancel,transcriptSelection:r,showKeyboardControls:s}),o&&Object(S.d)(components_RemoveTranscriptHighlight,{targetedHighlight:o,onRemove:this.handleRemove,showKeyboardControls:s}),n&&Object(S.d)(components_SaveHighlightConfirmationPopup,{cueIndex:c,onTimeoutReached:this.clearSaveConfirmation}),Object(S.d)(Nu.a,{component:"p",className:"rc-A11yScreenReaderOnly"},Rl()("You may navigate through the transcript using tab. To save a note for a section of text press #{modifierKey} + S. To expand your selection you may use #{modifierKey} + arrow key. You may contract your selection using shift + #{modifierKey} + arrow key. For screen readers that are incompatible with using arrow keys for shortcuts, you can replace them with the H J K L keys. Some screen readers may require using #{modifierKey} in conjunction with the alt key",{modifierKey:u})),w.cloneElement(t,{onPhraseFocus:this.updateSelection}),Object(S.d)(td,{announcementText:a}))},TranscriptHighlighter}(w.Component),rd=t("M743"),ad=function(e){function InteractiveTranscript(t){var n;(n=e.call(this,t)||this).handleTrackLoaded=function(){var e=n.state.track;e&&e.cues&&n.setState((function(){return{isLoading:!1,cues:e.cues}}))},n.handleCueClick=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n.props,r=i.onTimeChange,a=i.handlePausePlayer,o=i.shouldDisableSkippingForward,s=n.state.playingCue,c=s===e,u=!t||t&&!c;o||(u?(r(e.startTime+.01),n.setState({playingCue:e})):(a(),n.setState({playingCue:null})))},n.handleHighlightSelection=function(e){e!==n.state.targetedHighlight&&n.setState({targetedHighlight:e})},n.handleInteractiveEffectDisable=function(e){if(27===e.keyCode){var t=n.state.renderPlainText;n.setState({renderPlainText:!t})}};var i=t.track;return n.state={track:i,cues:i&&i.cues||[],isLoading:!0,playingCue:null,targetedHighlight:null,componentDidMount:!1,renderPlainText:!1},n}Lt()(InteractiveTranscript,e);var t=InteractiveTranscript.prototype;return t.componentDidMount=function(){var e=this.props,t=e.trimmedStartTimeSeconds,n=e.trimmedEndTimeSeconds,i=this.state.track;i&&TrackUtils_loadTrack(i,t,n).then(this.handleTrackLoaded).done(),this.setState((function(){return{componentDidMount:!0}}))},t.componentWillReceiveProps=function(e){var t=this.props,n=t.track,i=t.trimmedStartTimeSeconds,r=t.trimmedEndTimeSeconds,a=e.track,o=e.trimmedStartTimeSeconds,s=e.trimmedEndTimeSeconds,c=a.languageCode!==n.languageCode,u=o!==i||s!==r,l=a.url!==n.url;a&&!a.error&&n&&(c||u||l)&&(this.setState({track:a,isLoading:!0}),TrackUtils_loadTrack(a,o,s,u).then(this.handleTrackLoaded).done())},t.render=function(){var e=this.props,t=e.time,n=e.timeDiff,i=e.highlights,r=e.onSaveHighlight,a=e.onRemoveHighlight,o=e.hideTime,s=e.disableHighlighting,c=e.showSaveConfirmations,u=e.shouldDisableSkippingForward,l=this.state,d=l.cues,p=l.track,g=l.isLoading,m=l.targetedHighlight,h=l.componentDidMount,v=l.renderPlainText,b=g&&(!p||!p.isLoaded),f=!s&&Object(rd.a)();if(!p)return null;var y=h?Object(Au.b)(d,t):[],C=!b&&d&&d.length>0;return w.createElement("div",{onKeyDown:this.handleInteractiveEffectDisable},b&&w.createElement("div",{className:"horizontal-box align-items-absolute-center",style:{height:"100px"},"data-testid":"load"},Zl||(Zl=w.createElement(_l.a,null))),w.createElement(Nu.a,{component:"span",className:"rc-A11yScreenReaderOnly"},w.createElement("h3",null,v?Rl()("Basic Transcript - Enable interactive transcript mode by pressing the escape key"):Rl()("Interactive Transcript - Enable basic transcript mode by pressing the escape key"))),C&&f&&w.createElement(id,{highlights:i,onSave:r,onRemove:a,onSelect:this.handleHighlightSelection,showSaveConfirmations:c},w.createElement(Jl,{highlights:i,activeCues:y,onCueClick:this.handleCueClick,targetedHighlight:m,paragraphs:n?Object(Au.a)(d,n):Object(Au.a)(d),hideTime:o,renderPlainText:v,shouldDisableSkippingForward:u})),C&&!f&&w.createElement(Jl,{highlights:i,activeCues:y,targetedHighlight:null,onCueClick:this.handleCueClick,paragraphs:n?Object(Au.a)(d,n):Object(Au.a)(d),hideTime:o,renderPlainText:v,shouldDisableSkippingForward:u}))},InteractiveTranscript}(w.Component),InteractiveTranscript_InteractiveTranscriptWithContext=function(e){var t=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext().shouldDisableSkippingForward,n=VideoTrimmingContext_useVideoTrimmingContext(),i=n.trimmedStartTimeSeconds,r=n.trimmedEndTimeSeconds;return w.createElement(ad,u()({},e,{shouldDisableSkippingForward:t,trimmedStartTimeSeconds:i,trimmedEndTimeSeconds:r}))};InteractiveTranscript_InteractiveTranscriptWithContext.defaultProps={highlights:[],onSaveHighlight:function(){},onRemoveHighlight:function(){},handlePausePlayer:function(){}};var od,sd,cd,ud,ld=InteractiveTranscript_InteractiveTranscriptWithContext,dd=t("p6CZ"),cds_VideoJsTranscriptContainer=function(e){var t=e.player,n=e.selectedTrack,i=e.highlights,r=e.onRemoveHighlight,a=e.onSaveHighlight,o=Object(w.useState)(0),s=b()(o,2),c=s[0],u=s[1];Object(w.useEffect)((function(){var handleTimeUpdate=function(){return u(t.currentTime())};return t.on("timeupdate",handleTimeUpdate),function(){t.off("timeupdate",handleTimeUpdate)}}),[t]);return w.createElement(ld,{time:c,timeDiff:void 0,track:n,highlights:i||[],onTimeChange:function(e){t.currentTime(e),t.paused()&&t.play(),u(e)},onRemoveHighlight:r,onSaveHighlight:function(e){var t=Object(dd.b)(e,n);a&&a(t)},handlePausePlayer:function(){return t.pause()},showSaveConfirmations:!0})},pd=t("He/R"),gd=t("fguj"),md={namespace:{app:"ondemand",page:"interactive_transcript"}},components_TrackChooser=function(e){var t=e.tracks,n=e.selectedTrack,i=e.onTrackSelect,r=e.courseId,a=e.itemId,o=Object(Ie.e)();return Object(S.d)(pd.a,{"data-testid":"track-chooser-select",value:null==n?void 0:n.languageCode,onChange:function(e){var c=e.target.value,u=n.languageCode,l={itemId:a,courseId:r,previousLanguage:u};if("-1"===c){var d=h()(h()({},l),{},{newLanguage:void 0});s.b.trackComponent(md,d,"track_chooser","deselected")}else{var p=h()(h()({},l),{},{newLanguage:c});s.b.trackComponent(md,p,"track_chooser","selected")}var g=t.getFromLanguageCode(c);ke.set("language-code",c),o("click_button",{button:{name:"video_transcript_switch"},videoPlayer:{transcriptLanguage:"string"==typeof c?c:"",videoId:""}}),i&&i(g)},onOpen:function(){o("click_button",{button:{name:"video_transcript_open"}})},label:Rl()("Transcript language"),labelPlacement:"integrated"},t.toArray().map((function(e){var t=e.label,n=e.languageCode;return Object(S.d)(gd.a,{key:"track-".concat(n),value:n,"aria-label":"".concat(Rl()("Language"),", ").concat(t)},t)})))},cds_VideoTranscriptToolbar=function(e){var t=e.tracks,n=e.selectedTrack,i=e.onTrackSelected,r=e.itemId,a=e.courseId;return Object(S.d)(w.Fragment,null,Object(S.d)(components_TrackChooser,{tracks:t,selectedTrack:n,onTrackSelect:i,courseId:a,itemId:r}))},TranscriptTabContent_TranscriptTabContent=function(){var e=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),t=e.tracks,n=e.selectedTrack,i=e.onTrackSelected,r=e.courseId,a=e.computedItem,o=e.videoPlayer,s=e.highlights,c=e.onSaveHighlight,u=e.onRemoveHighlight;return(w.createElement(V.a,{container:!0,justifyContent:"center",css:function(){return Object(S.c)(od||(od=y()(["\n        gap: 32px;\n        padding-top: var(--cds-spacing-200);\n        flex-direction: row-reverse;\n\n        & .rc-VolunteerLink {\n          padding: var(--cds-spacing-100) 0 0;\n        }\n\n        "," {\n          flex-wrap: wrap;\n        }\n\n        "," {\n          gap: 0;\n\n          & .rc-Paragraph > button {\n            margin: 0 var(--cds-spacing-200) 0 0;\n          }\n\n          & .rc-TranscriptHighlightButton {\n            left: 0;\n          }\n        }\n      "])),I.a.up("md"),I.a.down("sm"))}},t&&w.createElement(V.a,{item:!0,md:2,xs:12,css:function(){return Object(S.c)(sd||(sd=y()(["\n            margin-block: -16px;\n\n            "," {\n              margin-block: unset;\n              max-width: 700px;\n            }\n          "])),I.a.down("sm"))}},w.createElement(cds_VideoTranscriptToolbar,{tracks:t,selectedTrack:n,onTrackSelected:i,courseId:r,itemId:null==a?void 0:a.id})),w.createElement(V.a,{item:!0,md:9,xs:12,css:Object(S.c)(cd||(cd=y()(["\n          max-width: 700px;\n        "])))},n&&w.createElement(cds_VideoJsTranscriptContainer,{player:o,highlights:s,selectedTrack:n,onSaveHighlight:c,onRemoveHighlight:u}))))},hd=Object(w.memo)(TranscriptTabContent_TranscriptTabContent),vd=t("tzWg"),bd=t("nkpE"),fd=t("OMAK"),yd=t.n(fd);null===(ud=G.a.addDefaults)||void 0===ud||ud.call(G.a,[yd.a]);var Cd={get:function(e,t){return G.a.get("siteOnDemandCompletion",e,t)},preview:function(e,t,n){return G.a.preview("siteOnDemandCompletion",e,t)}},kd=Object(ve.a)("/api/onDemandLectureAssets.v1",{type:"rest"}),Sd={getLectureAssets:function(e,t){var n=new Pt.a("".concat(e,"~").concat(t)).addQueryParam("includes","openCourseAssets");return kd.get(n.toString())}},wd=Sd;function getLanguageCode(e){var t=e.currentTrack,n=e.primaryLanguageCodes,i=e.getSubtitlesForLanguageCode;if(t)return t.language;var r=Object(He.getLanguageCode)();return i(r)?r:(null==n?void 0:n[0])||"en"}var downloadsDropdownUtils_fetchLectureAssets=function(e,t){var n=Object(ve.a)("",{type:"rest"});return new Promise((function(i){wd.getLectureAssets(e,t).then((function(i){var r=i.linked["openCourseAssets.v1"];return Promise.all(r.filter((function(e){return e})).map((function(i){var r=i.typeName;if("url"===r){var a=i.definition,o=a.url,s=a.name;return Promise.resolve().then((function(){return{typeName:r,url:o,itemName:s,fileType:Le()("Link")}}))}var c=i.definition.assetId;return n.get("api/assets.v1/".concat(c),{data:{fields:"fileExtension"}}).then((function(e){var t=e.elements[0],n=t.url.url,a=t.name,o=t.fileExtension,s=i.definition.name||a;return{typeName:r,url:n,itemName:s,fileType:o}})).catch((function(n){return pe.captureException(n,{extra:{message:"Error fetching lecture asset data from assets.v1",assetId:c,courseId:e,itemId:t}}),null}))})))})).then((function(e){i(e.filter(Boolean))})).catch((function(n){pe.captureException(n,{extra:{message:"Error fetching lecture assets",courseId:e,itemId:t}}),i([])}))}))},Od=["240p","360p","540p","720p","1080p"];function getResolutionRange(e){var t=[],n=function(e){for(var t=0;t<Od.length;t+=1)if(e.getSourcesForResolution(Od[t]))return Od[t];return null}(e),i=function(e){for(var t=Od.length-1;t>=0;t-=1)if(e.getSourcesForResolution(Od[t]))return Od[t];return null}(e);return n&&t.push(n),i&&n!==i&&t.push(i),t}var xd,fileDownloadUtils_getVideoFilename=function(e,t){var n=t.name;return e||n||Le()("lecture")},fileDownloadUtils_onVideoSourceClick=function(e,t){var n=t.id;Object(vd.a)(e,n,!0,!0)},fileDownloadUtils_getVideoDownloadForResolution=function(e){var t=e.fileName,n=e.resolution,i=e.href,r=e.fileExtension,a=void 0===r?"mp4":r,o=e.onClick;return{displayName:Le()("Lecture Video (#{resolution})",{resolution:n}),trackingName:"download_video",href:i,download:"".concat(t,".").concat(a),fileType:a,onClick:o}},fileDownloadUtils_getLectureDownloadLinks=function(e){var t=e.videoContent,n=e.languageCode,i=e.computedItem,r=e.assetSources,a=e.courseId,o=t&&function(e){return!Object(bd.a)(Cd.get("itemVideoDownloadBlacklist"),e)}(a),s=function(e){return e.map((function(e){var t=e.itemName,n=e.url,i=e.fileType,r=e.typeName;return{displayName:t,href:n,fileType:i,assetTypeName:r,trackingName:"focused_lex_download_asset",data:{asset_type:r},download:"asset"===r?t:void 0}}))}(r);if(!o)return s;var c=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mp4",r=getResolutionRange(e),a=b()(r,2),o=a[0],s=a[1],c=[o,s],u=fileDownloadUtils_getVideoFilename(t.name,t),handleVideoSourceClick=function(){return fileDownloadUtils_onVideoSourceClick(n,t)};return c.map((function(t){var n=e.getSourcesForResolution(t),r=n&&n["video/mp4"];if(r)return fileDownloadUtils_getVideoDownloadForResolution({fileName:u,resolution:t,href:r,fileExtension:i,onClick:handleVideoSourceClick})}))}(t,i,a),u=function(e,t){var n=e.getSubtitlesUrl("subtitlesVtt",t),i=e.getSubtitlesLabel("subtitlesVtt",t);if(n)return{displayName:Le()("Subtitles (#{subtitleLanguage})",{subtitleLanguage:i}),trackingName:"focused_lex_download_subtitle",data:{languageCode:t,format:"vtt"},download:"subtitles-".concat(t,".vtt"),fileType:"WebVTT",href:n}}(t,n),l=function(e,t){var n=e.getSubtitlesUrl("subtitlesTxt",t);if(n){var i=e.getSubtitlesLabel("subtitlesTxt",t);return{href:n,download:"transcript.txt",trackingName:"focused_lex_download_transcript",data:{languageCode:t,format:"txt"},displayName:Le()("Transcript (#{subtitleLanguage})",{subtitleLanguage:i}),fileType:"txt"}}}(t,n);return[].concat(Ve()(c),[u,l],Ve()(s)).filter((function(e){return!!e}))},jd=t("ojHA"),HighlightCapturePreview_style=function(e){return Object(S.c)({bottom:"10px",right:"10px",padding:"5px",zIndex:1999,position:"fixed",background:"white",transition:"1s",boxShadow:"-1px 0px 20px -1px rgba(204,204,204,1)",img:{width:"280px"},opacity:e?"1":"0",visibility:e?"visible":"hidden"})},cds_HighlightCapturePreview=function(e){var t=e.show,n=e.highlight,i=e.onClick;return Object(S.d)("div",{tabIndex:0,role:"button",onClick:i,onKeyPress:function(e){return Object(qu.a)(e,i)},className:Nt()("rc-HighlightCapturePreview",{show:t}),css:HighlightCapturePreview_style(t)},n&&Object(S.d)("img",{alt:n.transcriptText,src:n.snapshotDataUrl}))},Td=Object(Uu.b)({type:"BUTTON"})(U.a);Td.displayName="TrackedButton";var toolbar_CaptureHighlightButton=function(e){var t,n=e.selectedTrack,i=e.videoPlayer,r=Object(w.useState)(!1),a=b()(r,2),o=a[0],s=a[1],c=Object(w.useState)(!1),u=b()(c,2),l=u[0],d=u[1],p=Object(w.useState)(null),g=b()(p,2),m=g[0],h=g[1],v=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),f=v.onCapture,y=v.selectedTab,C=v.setSelectedTab;Object(w.useEffect)((function(){return i.emitter.on("videoQuizView.hidden",(function(){return s(!1)})),i.emitter.on("videoQuizView.visible",(function(){return s(!0)})),function(){"function"==typeof i.emitter.off&&(i.emitter.off("videoQuizView.hidden",(function(){return s(!1)})),i.emitter.off("videoQuizView.visible",(function(){return s(!0)})))}}),[]);return w.createElement("div",{className:"rc-CaptureHighlightButton"},w.createElement(Td,{disabled:o,id:"save-note-button",variant:"ghost",iconPosition:"before",icon:xd||(xd=w.createElement(jd.a,{size:"small"})),onClick:function(e){if("Enter"!==e.key&&" "!==e.key&&(t&&clearTimeout(t),n)){var r=Object(dd.a)(n,i);f&&(f(r),y!==Re.notes.value&&C&&C(Re.notes.value)),h(r),d(!0),t=window.setTimeout((function(){d(!1)}),5e3)}},trackingName:"create_video_highlight"},Le()("Save note")),w.createElement(cds_HighlightCapturePreview,{show:l,highlight:m,onClick:function(){t&&clearTimeout(t),d(!1)}}))},hooks_useDubbingTranscript=function(e){var t=e.executeAction,n=e.transcriptState,i=e.handleTrackSelected,r=e.isDubbedAudioSelected,a=Object(w.useState)({tracks:void 0,selectedTrack:void 0}),o=b()(a,2),s=o[0],c=o[1],u=r?s.tracks:n.tracks,l=r?s.selectedTrack:n.selectedTrack,d=Object(Be.b)(),p=d.shouldChangeTranscriptLanguage,g=d.setShouldChangeTranscriptLanguage,m=d.isDubbingAvailable,v=d.setShouldNudgeBeVisible,handleDubbedTrackSelected=function(e){e&&c((function(t){return h()(h()({},t),{},{selectedTrack:e})}))},f=r?handleDubbedTrackSelected:i;return Object(w.useEffect)((function(){if(p.shouldChange&&m){var e=null==u?void 0:u.getFromLanguageCode(p.languageCode);f(e),g({shouldChange:!1,languageCode:void 0})}}),[f,u,p.shouldChange,p.languageCode,g,m,v]),Object(w.useEffect)((function(){r||v({isVisible:!0,languageCode:null==l?void 0:l.languageCode})}),[null==l?void 0:l.languageCode,r]),{dubbedTranscriptState:s,setDubbedTranscriptState:c,setDubbedInteractiveTranscript:function(e){if(e){if(k()(e.languageMap))return t(bt,!1),void c((function(e){return h()(h()({},e),{},{tracks:void 0,selectedTrack:void 0})}));var i=n.selectedTrack,r=e.languageMap,a=e.defaultLanguage,o=TrackUtils_buildTracks(r),s=TrackUtils_getDefaultTrack(o,a),u=i||s;t(bt,!0),c((function(e){return h()(h()({},e),{},{tracks:o,selectedTrack:u})}))}else c((function(e){return h()(h()({},e),{},{tracks:void 0,selectedTrack:void 0})}))},handleDubbedTrackSelected:handleDubbedTrackSelected}};function VideoIsPlayingStateProvider(e){var t=e.videoPlayer,n=e.children,i=Object(w.useState)(!1),r=b()(i,2),a=r[0],o=r[1];return Object(w.useEffect)((function(){return t&&(t.on("play",(function(){return o(!0)})),t.on("pause",(function(){return o(!1)})),t.on("ended",(function(){return o(!1)}))),function(){t&&(t.off("play",(function(){return o(!0)})),t.off("pause",(function(){return o(!1)})),t.off("ended",(function(){return o(!1)})))}}),[t]),n({isPlaying:a})}var videoSettingsUtils_getStorageKey=function(){var e=E.a.get().external_id;return"itemPage_firstVideoAutoplayHasBeenSet_".concat(e)},Ed=t("KoCz"),Id=t("WkKJ");function ContinuousSignalTracker(e){var t=e.shouldSend,n=e.sendSignalData,i=Object(Id.b)();return Object(w.useEffect)((function(){var e,r;return t&&null!==(e=window)&&void 0!==e&&e.setInterval&&(r=window.setInterval((function(){i(n)}),Id.a)),function(){r&&clearInterval(r)}}),[i,t,n]),null}var Pd,Vd,_d,Ld,Md,Nd,Fd,Dd,Rd,Ad,Hd,Bd,zd,Ud=t("7ipH"),Qd=t("tPFS"),Wd=t("2T3l"),qd=t("CLvh"),Kd=t.n(qd),getSocialCaptions=function(e){var t=e.courseName,n=e.partnerName,i=e.videoTitle;return{twitter:function(){return Kd()("Check out this video from #{partnerName}: #{courseName} on @Coursera.",{courseName:t,partnerName:n,videoTitle:i})},whatsapp:function(e){return Kd()("I found a great video from a course called #{courseName}. I think youll really like it. Its from #{partnerName} on Coursera, an online learning platform that partners with top universities and companies around the world Check it out: #{shareLink}",{courseName:t,partnerName:n,shareLink:e})},emailSubject:function(){return Kd()("I found an interesting video for you on Coursera!")},emailBody:function(e){return Kd()("I thought you might like this video from #{courseName} offered by #{partnerName}: on Coursera. #{shareLink}\n\nCoursera also offers online courses and Professional Certificates from 190+ world-class universities and companies, including Yale, the University of Pennsylvania, Google, IBM, and more.\n\nLet me know what you think!",{courseName:t,partnerName:n,shareLink:e})}}},Gd={titleAndSaveNoteContainer:Object(S.c)(Pd||(Pd=y()(["\n    margin-top: var(--cds-spacing-150);\n    background-color: var(--cds-color-white-0);\n    z-index: 1; /* so that the video player is on top of the title and save note container */\n    & button > span {\n      white-space: nowrap;\n    }\n  "]))),iTakeSpace:function(e,t){return Object(S.c)(Vd||(Vd=y()(["\n    width: 100%;\n    height: 0;\n    "," {\n      /* Empty div above video that keeps the overall scroll height the same.\n      Since videoHeight already accounts for VIDEO_TOP, don't need to account for that again. */\n      height: ","px;\n    }\n  "])),I.a.up("md"),t-e)},videoPlayerRow:function(e,t){return Object(S.c)(_d||(_d=y()(["\n    margin-top: ","px;\n    background-color: var(--cds-color-neutral-background-primary);\n\n    /* Rounded corners: */\n\n    z-index: 2; /* This is needed so that buttons in lecture tab panels don't overlap the video when they overflow their container. */\n    height: ","px;\n\n    /* Grid sets flex-basis to 100%. This causes the video to have zero height when it's not sticky. */\n    flex-basis: unset;\n\n    "," {\n      position: ",";\n      height: ","px;\n\n      /* stick below ItemPrimaryNavigation, leaving room for the focus outline as well */\n      top: ","px;\n      flex-basis: 100%;\n    }\n  "])),2,t,I.a.up("md"),e?"sticky":"static",t,78)},videoPlayerContainer:function(e){return Object(S.c)(Ld||(Ld=y()(["\n    width: 100%;\n    height: 100%;\n    background-color: var(--cds-color-grey-25);\n    border-radius: var(--cds-border-radius-200);\n    "," {\n      z-index: 3;\n      height: ","px;\n    }\n\n    & .rc-VideoMiniPlayer .vjs-coursera-skin {\n      /* !important is needed to override the !important property rule used by videoJS */\n      outline: none !important;\n    }\n  "])),I.a.up("md"),e)},feedbackButtons:Object(S.c)(Md||(Md=y()(["\n    margin-top: var(--cds-spacing-200);\n    margin-bottom: var(--cds-spacing-200);\n  "]))),overrideItemFeedbackStyles:Object(S.c)(Nd||(Nd=y()(["\n    & .c-flag-categories-modal > div {\n      bottom: 0;\n    }\n  "]))),itemFeedbackFlag:Object(S.c)(Fd||(Fd=y()(["\n    margin-top: var(--cds-spacing-150);\n  "]))),embeddedSourceAttribution:Object(S.c)(Dd||(Dd=y()(["\n    margin-top: var(--cds-spacing-100);\n    margin-bottom: var(--cds-spacing-200);\n  "])))},Zd=Object(S.d)("div",null,""),VideoItem_VideoItem=function(e){var t,n=e.autoplay,i=e.course,r=e.computedItem,a=e.videoContent,o=e.hasModalOpen,s=e.courseProgress,c=e.verificationDisplay,u=e.startPlaybackSeconds,l=e.videoQuizModel,p=e.isSubtitleTranslationEnabled,m=e.weekNumber,v=e.scrollingContainerRef,f=e.isPreviewMode,y=e.embeddedCoachEnabled,C=void 0!==y&&y,O=e.isAutoNextPaused,N=void 0!==O&&O,F=e.setIsUserReportingIssue,D=Object(w.useState)({isFullScreen:!1,visiblePlayer:!1,videoPlayer:void 0,videoRegion:void 0}),U=b()(D,2),Q=U[0],W=U[1],q=Object(vn.b)(),K=q.nextItem,G=q.primaryLanguageCodes,Z=q.embeddedContentSourceCourseId,J=q.originalItemName,te=q.currentItemIndex,ne=q.partnerName,ie=q.courseMaterials,re=Object(j.a)(),ae=null==ie?void 0:null===(t=ie.getLectureItemMetadatas())||void 0===t?void 0:t.map((function(e){return e.id})),oe=Object(T.a)(Qd.a,(function(e){return{hasVideoItemProgress:ae.some((function(t){return e.getItemProgress(t).isAtLeastStarted()}))}})).hasVideoItemProgress,se=Object(T.a)(ee.a,(function(e){return{courseBranchId:e.getBranchId()||i.id}})).courseBranchId,ce=(null==G?void 0:G[0])||"en",ue=Object(P.a)(I.a.only("md")),le=Object(P.a)(I.a.only("lg")),de=Object(P.a)(I.a.only("xl")),pe=Object(w.useState)(!1),ge=b()(pe,2),me=ge[0],he=ge[1],ve=function(e,t,n){return e?Me:t?Ne:n?Fe:Me}(ue,le,de),be=ve+68-240,fe=Object(w.useState)(0),ye=b()(fe,2),ke=ye[0],Se=ye[1],we=Object(w.useState)({tracks:void 0,selectedTrack:void 0}),Oe=b()(we,2),xe=Oe[0],je=Oe[1],Te=Object(Be.b)(),Ee=Te.shouldChangeTranscriptTracks,Ie=Te.setIsDubbingAvailable,Pe=Te.setShouldNudgeBeVisible,Ve=Te.setDefaultLanguageKey,_e=Object(w.useState)([]),De=b()(_e,2),Re=De[0],Ae=De[1],He=Object(w.useState)(""),ze=b()(He,2),Ue=ze[0],Qe=ze[1],We=r.id,qe=Yi.isFullScreen(),Ke=Object(w.useState)(!1),Ge=b()(Ke,2)[1],Ze=null==v?void 0:v.current,Je=function(e,t,n){return n?240:e>68?Math.max(240,t-(e-68)):t}(ke,ve,me),Xe=Object(w.useCallback)((function(){if(Ze){var e=Ze.scrollTop;me?function(e,t,n,i){return e>t&&t<=i-n}(ke,e,Je,ve)&&he(!1):e>=be&&he(!0),Se(e)}}),[Ze,me,ke,be,Je,ve]);Object(w.useEffect)((function(){Ve(ce)}),[ce,Ve]),Object(w.useEffect)((function(){return Ze&&Ze.addEventListener("scroll",Xe),function(){null==Ze||Ze.removeEventListener("scroll",Xe)}}),[Ze,Xe]);var Ye=i.id,$e=a.name,et=Le()("Video: #{name}",{name:$e}),tt=Q.videoRegion&&Q.videoPlayer,nt={courseId:Ye,userActionType:Ud.a.video_is_playing,itemData:{itemId:We,itemTypeName:"lecture"},courseBranchId:se},it=function(e){return!Object(bd.a)(Cd.get("itemVideoContextMenuDenyList"),e)}(Ye),setVisibility=function(e){W((function(t){return h()(h()({},t),{},{visiblePlayer:e})}))};function getSubtitlesForLanguageCode(e){return a.getCaptionForLanguage(e)}var onSubtitlesChange=function(){var e;Qe(getLanguageCode({currentTrack:null===(e=Q.videoPlayer)||void 0===e?void 0:e.currentTrack(),primaryLanguageCodes:G,getSubtitlesForLanguageCode:getSubtitlesForLanguageCode}))};Object(w.useEffect)((function(){var e=Q.videoPlayer;if(e)return e.on("subtitleschange",onSubtitlesChange),function(){var e=g()(d()().mark((function _callee(){var e;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,downloadsDropdownUtils_fetchLectureAssets(Ye,We);case 2:e=t.sent,Ae(e);case 4:case"end":return t.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}}()(),Qe(getLanguageCode({currentTrack:e.currentTrack(),primaryLanguageCodes:G,getSubtitlesForLanguageCode:getSubtitlesForLanguageCode})),function(){e.off("subtitleschange",onSubtitlesChange)}}),[a,Q.videoPlayer]);var rt,at=Object(w.useMemo)((function(){return fileDownloadUtils_getLectureDownloadLinks({videoContent:a,languageCode:Ue,computedItem:r,assetSources:Re,courseId:Ye})}),[a,Ue,r,Re,Ye]),handleTrackSelected=function(e){e&&(je((function(t){return h()(h()({},t),{},{selectedTrack:e})})),Pe({isVisible:!0,languageCode:e.languageCode}))},ot=hooks_useDubbingTranscript({executeAction:re,transcriptState:xe,handleTrackSelected:handleTrackSelected,isDubbedAudioSelected:null==Ee?void 0:Ee.shouldChange}),st=ot.dubbedTranscriptState,ct=ot.setDubbedInteractiveTranscript,ut=ot.handleDubbedTrackSelected,lt=Boolean(!Object(Wd.a)(Ye)&&!f&&m),dt=Boolean(xe.tracks&&xe.selectedTrack),pt=(rt=videoSettingsUtils_getStorageKey(),Ce.a.getItem(rt,JSON.parse,void 0)),gt=!oe&&!pt;Object(w.useEffect)((function(){gt&&(Ui.a.set("autoplay",!0),function(){var e=videoSettingsUtils_getStorageKey();Ce.a.setItem(e,!0,JSON.stringify)}())}),[pt,oe,gt]),Object(w.useEffect)((function(){k()(a.dubbedSources)?Ie(!1):Ie(!0)}),[Ie,a.dubbedSources]);var mt=ChaptersProvider_useChapters(),ht=mt.areChaptersEnabled,vt=mt.chapters,ft=function(e,t){var n="".concat(t,"~").concat(e);return X.get("enablePodcastFeedback").includes(n)}(We,se);return Object(w.useEffect)((function(){ft&&Object(A.a)({visitorSegmentationPendoVariable:{shouldEnablePodcastFeedbackForItem:ft}})}),[ft]),Object(S.d)(V.a,{id:"video-item-outermost-container",container:!0,direction:"column",wrap:"nowrap"},Object(S.d)("div",{css:Gd.iTakeSpace(Je,ve)}),Object(S.d)(V.a,{id:"video-player-row",item:!0,container:!0,xs:12,direction:"row",css:Gd.videoPlayerRow(ke,ve)},Object(S.d)(V.a,{id:"video-player-container",alignContent:"flex-start",item:!0,css:Gd.videoPlayerContainer(Je)},Object(S.d)(x.a,{onChange:function(e){(e||Q.isFullScreen)&&setVisibility(e)}},Object(S.d)(hn,{videoPlayer:Q.videoPlayer,videoRegion:Q.videoRegion,nextItem:K,parentCb:setVisibility,hasModalOpen:o,layoutMode:"fill"},Object(S.d)(cds_VideoOrigamiRegion,{computedItem:r,courseProgress:s,verificationDisplay:c,autoplay:n||gt,startPlaybackSeconds:u,videoQuizModel:l,videoContent:a,setVideoPlayer:function(e){W((function(t){return h()(h()({},t),{},{videoPlayer:e})})),e.el().focus()},setVideoRegion:function(e){W((function(t){return h()(h()({},t),{},{videoRegion:e})}))},setInteractiveTranscript:function(e){if(e){if(k()(e.languageMap))return re(bt,!1),void je((function(e){return h()(h()({},e),{},{tracks:void 0,selectedTrack:void 0})}));var t=xe.selectedTrack,n=e.languageMap,i=e.defaultLanguage,r=TrackUtils_buildTracks(n),a=TrackUtils_getDefaultTrack(r,i),o=t||a;re(bt,!0),je((function(e){return h()(h()({},e),{},{tracks:r,selectedTrack:o})}))}else je((function(e){return h()(h()({},e),{},{tracks:void 0,selectedTrack:void 0})}))},setDubbedInteractiveTranscript:ct,ariaLabel:et,visibility:Q.visiblePlayer,isFullscreen:qe,layoutMode:"fill",isContextMenuEnabled:it,autoNextCountdownSeconds:5,onVideoPlayedToEnd:function(){return Ge(!0)},isAutoNextPaused:N}))))),tt&&Object(S.d)(VideoHighlightManagerProvider_VideoHighlightingManagerProvider,{itemId:We,courseId:Ye,videoPlayer:Q.videoPlayer,selectedTrack:null!=Ee&&Ee.shouldChange?st.selectedTrack:xe.selectedTrack,tracks:null!=Ee&&Ee.shouldChange?st.tracks:xe.tracks,onTrackSelected:null!=Ee&&Ee.shouldChange?ut:handleTrackSelected,computedItem:r,videoContent:a,course:i,isSubtitleTranslationEnabled:p,executeAction:re},ft?Rd||(Rd=Object(S.d)(components_PodcastFeedback,null)):Object(S.d)(V.a,{container:!0,direction:"row",justifyContent:"space-between"},Object(S.d)("div",{css:[Gd.overrideItemFeedbackStyles,Gd.itemFeedbackFlag]},Object(S.d)(B.a,{tooltipPlacement:"top",setIsUserReportingIssue:F,computedItem:r,itemFeedbackType:z.a,eventNameSubmit:"core_lex_report_top_issue_submit",eventNameRemove:"core_lex_report_top_issue_remove",eventNameOpen:"core_lex_report_top_issue"})),Ad||(Ad=Object(S.d)(cds_ReportSection,null))),Object(S.d)(V.a,{item:!0,container:!0,direction:"column"},Object(S.d)(V.a,{id:"video-item-title-and-save-note",container:!0,item:!0,direction:"row",xs:12,justifyContent:"space-between",alignItems:"center",css:Gd.titleAndSaveNoteContainer},Object(S.d)(V.a,{item:!0,"data-testid":"video-item-title-and-attribution"},Object(S.d)(L.a,{variant:"h1semibold",className:"video-name"},$e,Object(S.d)(Y.a,{courseId:Ye})),Z&&Object(S.d)("div",{css:Gd.embeddedSourceAttribution},Object(S.d)(VideoItemEmbeddedSourceCourseAttribution_VideoItemEmbeddedSourceCourseAttribution,{embeddedContentSourceCourseId:Z,includeCourseName:R.a.INLINE,originalName:J,trimmedAttributionProperties:{courseId:Ye,itemId:We,trimRangeStart:a.trimmedStartTimeSeconds,duration:a.trimmedDurationSeconds}}))),Object(S.d)(V.a,{item:!0},dt&&Object(S.d)(toolbar_CaptureHighlightButton,{videoPlayer:Q.videoPlayer,selectedTrack:xe.selectedTrack}))),Object(S.d)(VideoIsPlayingStateProvider,{videoPlayer:Q.videoPlayer},(function(e){var t=e.isPlaying;return Object(S.d)(cds_VideoItemCoach,{courseId:i.id,itemId:r.id,embeddedCoachEnabled:C,isVideoPlaying:t})})),Object(S.d)(V.a,{item:!0,xs:12},Object(S.d)(LectureTabs_LectureTabs,{isLoggedIn:Object(E.c)(),stickyTop:Je+78+2,transcriptTabContent:dt?Hd||(Hd=Object(S.d)(hd,null)):Zd,downloadTabContent:0===at.length?null:Object(S.d)(tabContent_DownloadTabContent,{lectureDownloadLinks:at}),discussTabContent:lt?Object(S.d)(DiscussTabContent_DiscussTabContent,{weekNumber:m}):null,notesTabContent:dt?Bd||(Bd=Object(S.d)(NotesTabContent_NotesTabContent,null)):null,chaptersTabContent:ht&&vt.length>0?Object(S.d)(tabContent_ChaptersTabContent,{trackingData:{courseBranchId:se,courseId:Ye,itemId:We,itemName:r.name,orderInBranch:te},chapters:vt,player:Q.videoPlayer}):null,notifyOnTabChange:function(){if(Ze&&me){Ze.removeEventListener("scroll",Xe);var e=be+(Z?90:48)+12;Ze.scrollTop=e,Se(e),Ze.addEventListener("scroll",Xe)}}})))),zd||(zd=Object(S.d)(M.a,{color:"light"})),Object(S.d)(V.a,{container:!0,css:Gd.feedbackButtons},Object(S.d)(V.a,{item:!0},Object(S.d)(H.a,{setIsUserReportingIssue:F,hideReportAnIssue:!0,courseId:Ye,computedItem:r,itemFeedbackType:z.a,css:Gd.overrideItemFeedbackStyles})),Object(S.d)(V.a,{item:!0},Object(S.d)(Yt,{utmMediumParam:"page_share",utmContentParam:"in_course_lecture",utmCampaignParam:"bar_button",title:Le()("Share this video"),description:Le()("If you enjoy this video, take the time to show your friends."),captions:getSocialCaptions({courseName:null==i?void 0:i.name,partnerName:ne}),titleComponent:"h2"}),Object(S.d)(VideoIsPlayingStateProvider,{videoPlayer:Q.videoPlayer},(function(e){var t=e.isPlaying;return Object(S.d)(ContinuousSignalTracker,{shouldSend:t,sendSignalData:{heartbeatData:nt}})})))))},cds_VideoItem=function(e){var t=Object(w.useState)(!1),n=b()(t,2),i=n[0],r=n[1],a=Object(D.c)({courseId:e.course.id}).showEmbeddedCoach,o=Object(te.a)().expanded,s=a&&o;return Object(S.d)("div",{role:"region","aria-label":Le()("Video item")},Object(S.d)(Ed.b.Consumer,null,(function(t){var n=t.hasModalOpen,o=t.setHasModalOpen;return Object(S.d)(LearningEffortFirstPlayContext_LearningEffortFirstPlayContextProvider,null,Object(S.d)(VideoTrimmingContext_VideoTrimmingContextProvider,{trimmedStartTimeSeconds:e.videoContent.trimmedStartTimeSeconds,trimmedDurationSeconds:e.videoContent.trimmedDurationSeconds},Object(S.d)(Be.a,null,Object(S.d)(ChaptersProvider_ChaptersProvider,{courseId:e.course.id,itemId:e.computedItem.id,isTrimmedVideo:e.videoContent.trimmedStartTimeSeconds>0||!!e.videoContent.trimmedDurationSeconds,itemDurationInSeconds:e.videoContent.itemMetadata.attributes.contentSummary.definition.duration/1e3,videoId:e.videoContent.videoId},Object(S.d)(VideoItem_VideoItem,u()({},e,{setIsUserReportingIssue:r,hasModalOpen:n,setHasModalOpen:o,embeddedCoachEnabled:a,isAutoNextPaused:i||s}))))))})))},Jd=t("jGbM"),Xd=t("dm5P"),Yd=t("noZS"),$d=t.n(Yd),ep=t("xkGU"),tp=t.n(ep),np=t("K7Vu"),ip=function(){function VideoContent(e){var t=e.videoId,n=e.sources,i=e.posters,r=e.subtitles,a=e.subtitlesVtt,o=e.subtitlesTxt,s=e.itemMetadata,c=e.hlsSource,u=e.disableSkippingForward,l=e.trimmedStartTimeSeconds,d=e.trimmedDurationSeconds,p=e.dubbedSources,g=e.dubbedSubtitlesVtt;this.videoId=t,this.sources=n,this.posters=i,this.subtitles=r,this.subtitlesVtt=a,this.subtitlesTxt=o,this.itemMetadata=s,this.dubbedSources=p,this.name=s.get("name"),this.disableSkippingForward=u,this.trimmedStartTimeSeconds=l,this.trimmedDurationSeconds=d,this.hlsSource=c,this.dubbedSubtitlesVtt=g}var e=VideoContent.prototype;return e.getHlsSource=function(){return this.hlsSource+"&source=web"},e.getSources=function(){return this.getSourcesForResolution(N.d.defaultNormalBandwidthVideoPlayerResolution)},e.getSourcesForResolution=function(e){return this.sources[e]},e.getPosterForResolution=function(e){return this.posters[e]},e.getCaptionForLanguage=function(e){return this.subtitles[e]},e.getSubtitlesUrl=function(e,t){var n=this[e][t];return n&&n.url},e.getSubtitlesLabel=function(e,t){var n=this[e][t];return n&&n.label},e.getTrimmedStartTime=function(){return this.trimmedStartTimeSeconds},e.getTrimmedDuration=function(){return this.trimmedDurationSeconds},VideoContent}(),rp={mp4VideoUrl:"video/mp4",webMVideoUrl:"video/webm"},video=function(e){var t=e.metadata,n=t.get("id"),i=t.get("course.id"),r=t.get("course.slug"),a=e.useFullVideoLength;return function(e){var t=e.itemId,n=e.courseId,i=e.courseSlug;return new np.a({itemId:t,courseId:n,courseSlug:i}).getWithCourseItemId(N.d.lectureVideosApi,{includes:["video"],fields:["onDemandVideos.v1(sources,subtitles,subtitlesVtt,subtitlesTxt,subtitlesAssetTags,dubbedSources,dubbedSubtitlesVtt)","disableSkippingForward","startMs","endMs"]}).then((function(e){var t=e.linked["onDemandVideos.v1"][0],n=e.elements[0].disableSkippingForward,i=e.elements[0].startMs,r=e.elements[0].endMs;return h()(h()({},t),{},{disableSkippingForward:n,startTimeMs:i,endTimeMs:r})}))}({itemId:n,courseId:i,courseSlug:r}).then((function(e){var n,i=$d()(e.sources.byResolution,(function(e){var t={};return tp()(rp,(function(n,i){i in e&&(t[n]=e[i])})),t})),r=e.dubbedSources?Object.keys(e.dubbedSources).reduce((function(t,n){return t[n]=e.dubbedSources[n].byResolution,t}),{}):{},o=e.sources.playlists.hls;return new ip({itemMetadata:t,hlsSource:o,videoId:e.id,sources:i,dubbedSources:r||{},dubbedSubtitlesVtt:e.dubbedSubtitlesVtt?(n=e.dubbedSubtitlesVtt,Object.entries(n).reduce((function(e,t){var n=b()(t,2),i=n[0],r=n[1];return h()(h()({},e),{},Un()({},i,{label:getSubtitleLabel(i,!1),url:r}))}),{})):{},subtitles:constructLanguageMap(e.subtitles,e.subtitlesAssetTags),subtitlesVtt:constructLanguageMap(e.subtitlesVtt,e.subtitlesAssetTags),subtitlesTxt:constructLanguageMap(e.subtitlesTxt,e.subtitlesAssetTags),posters:$d()(e.sources.byResolution,(function(e){return e.previewImageUrl})),disableSkippingForward:e.disableSkippingForward,trimmedStartTimeSeconds:a?0:Object(Dc.a)(e.startTimeMs),trimmedDurationSeconds:a?null:Object(Dc.b)(e.startTimeMs,e.endTimeMs)})}))},ap=t("TdzE"),op=t("emlC"),utils_withVideoItemData=function(){return function(e){var t=e.displayName||e.name,n=function(t){function HOC(e){var n;return(n=t.call(this,e)||this).state={videoQuizModel:null,videoContent:null},n}Lt()(HOC,t);var n=HOC.prototype;return n.componentDidMount=function(){var e=this,t=this.props.itemMetadata,n="true"===this.props.router.location.query.useFullLengthVideo,i=ae()([video({metadata:t,useFullVideoLength:n}),Object(Xd.a)({metadata:t,authenticated:!0})]);me.a.all(i).spread((function(t,n){e.setState({videoContent:t,videoQuizModel:n||null})})).done()},n.render=function(){var t=this.props.router.location,n=this.state,i=n.videoQuizModel,r=n.videoContent;if(!r)return null;var a=t&&t.query.t?parseInt(t.query.t,10):void 0,o=!(!t||!t.query.t)||Ui.a.get("autoplay");return w.createElement(e,u()({},this.props,{autoplay:o||!1,videoQuizModel:i,videoContent:r,startPlaybackSeconds:a}))},HOC}(w.Component);return n.displayName="withVideoItemData(".concat(t,")"),Object(Jd.a)(n,e),Object(o.b)(Object(Vt.a)((function(e){return{router:e}})),Object(ap.b)(),Object(op.a)(["ProgressStore","VerificationStore","CourseScheduleStore","SessionStore","CourseStore"],(function(e,t){var n=e.ProgressStore,i=e.VerificationStore,r=e.CourseScheduleStore,a=e.SessionStore,o=e.CourseStore,s=t.itemMetadata.get("lesson.module.id"),c=r.getSchedule(),u=o.getCourseId();return{courseId:u,course:{id:u,slug:o.getCourseSlug(),name:o.getCourseName()},isSubtitleTranslationEnabled:o.isSubtitleTranslationEnabledForCourse(),courseProgress:n.courseProgress,verificationDisplay:i.getVerificationDisplay(),weekNumber:c.getWeekForModuleId(s),isPreviewMode:a.isPreviewMode()}})))(n)}};t.d(e,"VideoItemContainer",(function(){return sp}));var sp=Object(o.b)(utils_withVideoItemData(),s.b.createTrackedContainer((function(){return{namespace:{page:"focused_lex_video_item"}}})))(cds_VideoItem);sp.displayName="ComposedVideoItemWithHighlighting"},"RY+i":function(module,exports,e){e("CdQ7")},"Vwt+":function(module,e,t){"use strict";t.d(e,"d",(function(){return generateJsUriObjCurrentPage})),t.d(e,"c",(function(){return createCustomUrlPromise})),t.d(e,"a",(function(){return convertHmsStringIntoSeconds})),t.d(e,"b",(function(){return convertSecondsIntoHmsString}));var n=t("fw5G"),i=t.n(n),r=t("S+eF"),a=t.n(r),o=t("v6sC"),s=t("uKqt"),generateJsUriObjCurrentPage=function(e){var t=e.location,n=t.protocol,r=t.hostname,a=t.pathname,o=(new i.a).setProtocol(n).setHost(r).setPath(a);return"mock.dev-coursera.org"===r&&o.setPort(9443),o},createCustomUrlPromise=function(e,t){return new Promise((function(n,i){var r=Object(o.a)("",{type:"rest"});a()(r.post("".concat(s.b),{data:{targetUrl:e,customSlug:t||""}})).then((function(e){var t=e&&e.elements&&e.elements[0];n({customShareLink:t&&"https://coursera.org/share/".concat(t.customSlug)})})).catch((function(e){i(e)}))}))},convertHmsStringIntoSeconds=function(e){var t=e.split(":").reverse();return(t[2]&&60*Number(t[2])*60||0)+(t[1]&&60*Number(t[1])||0)+(t[0]&&Number(t[0])||0)},convertSecondsIntoHmsString=function(e){var t="",n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),r=Math.floor(e-3600*n-60*i);return n>0&&(t+=(n<10?"0":"")+n+":"),t+=(i<10?"0":"")+i+":",t+=(r<10?"0":"")+r}},WXLS:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},WbuL:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AssetIdToVideoId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assetVideoQueries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getAssetVideoByVideoId"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoAssetId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoId"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:159}};e.loc.source={body:"query AssetIdToVideoId($videoId: String!) {\n  assetVideoQueries {\n    getAssetVideoByVideoId(videoId: $videoId) {\n      videoAssetId\n      videoId\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.AssetIdToVideoId=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"AssetIdToVideoId")},WkKJ:function(module,e,t){"use strict";var n=t("fsL8"),i=t.n(n),r=t("yXPU"),a=t.n(r),o=t("DzJC"),s=t.n(o),c=t("q1tI"),u=t("3tO9"),l=t.n(u),d=t("6OIj"),p=t("PKC9"),g=t("agHs"),m=t("DU3t"),h=t("80iO"),v=t("djba"),b=t("ARDt"),f=t.n(b),y={mouse_movement:m.S.MouseMovement,key_press:m.S.KeyPress,page_scroll:m.S.PageScroll,video_is_playing:m.S.VideoIsPlaying},C={lecture:m.R.Lecture,supplement:m.R.Reading,quiz:m.R.Quiz,exam:m.R.Quiz,staffGraded:m.R.StaffGraded,phasedPeer:m.R.PeerReview,peer:m.R.PeerReview,teammateReview:m.R.TeammateReview,gradedDiscussionPrompt:m.R.DiscussionPrompt,discussionPrompt:m.R.DiscussionPrompt};function toGraphQl(e){if(e){var t=e.itemTypeName?C[e.itemTypeName]:null;return{itemDetails:{itemId:e.itemId,learnerActivityType:t}}}return{}}var k=3,S=1500,w=500,sleepAsync=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function isGraphQLError(e){var t;return(null===(t=e.graphQLErrors)||void 0===t?void 0:t.length)>0}function logToSentry(e,t){try{g.captureException(e,{tags:{feature:"LearningHours",errorType:t}})}catch(t){console.error("[Learning Hours]: Unable to capture this exception in Sentry",{error:e})}}t.d(e,"a",(function(){return O})),t.d(e,"b",(function(){return useSendSignal})),t.d(e,"c",(function(){return learningHoursSignalsUtil_useSendThrottledSignal}));var O=3e4;function useSendSignal(){var e=function(){var e={mutation:f.a,context:{clientName:"gatewayGql"}},t=Object(d.a)();function sendEventMutation(e,t,n){return _sendEventMutation.apply(this,arguments)}function _sendEventMutation(){return(_sendEventMutation=a()(i()().mark((function _callee2(n,r,a){var o,s,c,u;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=l()(l()({courseId:n.courseId,eventPlatform:m.Q.Web,userActionType:y[n.userActionType],durationMilliSeconds:r,eventOs:(new h.a).platform,clientDateTime:a.toISOString(),deviceId:v.a.get().uuid},toGraphQl(null==n?void 0:n.itemData)),{},{courseBranchId:n.courseBranchId}),i.next=3,t.mutate(l()({variables:{input:{heartbeat:s}}},e));case 3:return c=i.sent,u=null===(o=c.data)||void 0===o?void 0:o.LearningHours_SendEvent,i.abrupt("return","LearningHours_SendEventSuccess"===(null==u?void 0:u.__typename));case 6:case"end":return i.stop()}}),_callee2)})))).apply(this,arguments)}function sendEventMutationWithRetry(e,t,n,i){return _sendEventMutationWithRetry.apply(this,arguments)}function _sendEventMutationWithRetry(){return(_sendEventMutationWithRetry=a()(i()().mark((function _callee4(e,t,n,r){var o,s;return i()().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s=function(){return(s=a()(i()().mark((function _callee3(a){return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(r<k-1)){i.next=6;break}return i.next=3,sleepAsync(Math.pow(2,r)*S+Math.round(Math.random()*w));case 3:return i.abrupt("return",sendEventMutationWithRetry(e,t,n,r+1));case 6:return logToSentry(a,"ALL_RETRIES_FAILED"),i.abrupt("return",!1);case 8:case"end":return i.stop()}}),_callee3)})))).apply(this,arguments)},o=function(e){return s.apply(this,arguments)},c.prev=2,c.next=5,sendEventMutation(e,t,n);case 5:return c.abrupt("return",c.sent);case 8:if(c.prev=8,c.t0=c.catch(2),!Object(p.d)(c.t0)){c.next=23;break}if(u=c.t0,l=void 0,d=void 0,0!==(null===(l=u.graphQLErrors)||void 0===l?void 0:l.length)||0!==(null===(d=u.clientErrors)||void 0===d?void 0:d.length)){c.next=15;break}return c.abrupt("return",o(c.t0));case 15:if(!isGraphQLError(c.t0)){c.next=20;break}return logToSentry(c.t0,"GRAPHQL_ERROR"),c.abrupt("return",!1);case 20:return c.abrupt("return",!1);case 21:c.next=25;break;case 23:return logToSentry(c.t0,"UNEXPECTED_CLIENT_ERROR"),c.abrupt("return",!1);case 25:case"end":return c.stop()}var u,l,d}),_callee4,null,[[2,8]])})))).apply(this,arguments)}return(function(){var e=a()(i()().mark((function _callee(e,t,n){return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",sendEventMutationWithRetry(e,t,n,0));case 1:case"end":return i.stop()}}),_callee)})));return function(t,n,i){return e.apply(this,arguments)}}())}();function _sendSignal(){return(_sendSignal=a()(i()().mark((function _callee(t){var n,r;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.heartbeatData,r=new Date,i.next=4,e(n,O,r);case 4:case"end":return i.stop()}}),_callee)})))).apply(this,arguments)}return function(e){return _sendSignal.apply(this,arguments)}}var learningHoursSignalsUtil_useSendThrottledSignal=function(){var e=useSendSignal();return Object(c.useMemo)((function(){return s()(e,O)}),[])}},"d/Ev":function(module,exports){module.exports={name:"ContentInnovation",parameters:[{name:"enablePodcastFeedback",value:[]}]}},dl6a:function(module,exports,e){var t=e("jFGx"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},flsP:function(module,exports,e){var t=e("qe3q"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},fsNN:function(module,e,t){"use strict";var n=t("MnCE"),i=t("l1ss"),r=t("Vwt+");e.a=function(){return Object(n.b)(i.a,Object(n.f)({componentDidMount:function(){var e=this,t=this.props,n=t.targetShareLink;t.useCustomUrl&&"mock.dev-coursera.org"!==window.location.hostname&&Object(r.c)(n).then((function(t){var n=t.customShareLink;e.setState({customShareLink:n})}))}}))}},iR3l:function(module,exports,e){var t=e("rO66"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},jFGx:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"kj/T":function(module,exports,e){var t=e("nzgR"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},lhOz:function(module,exports,e){},mDxB:function(module,e,t){"use strict";t.d(e,"e",(function(){return reshapeHighlightForClient})),t.d(e,"f",(function(){return updateHighlight})),t.d(e,"b",(function(){return g})),t.d(e,"c",(function(){return deleteHighlight})),t.d(e,"a",(function(){return compareHighlightsByStartTimestamp})),t.d(e,"d",(function(){return m}));var n=t("fsL8"),i=t.n(n),r=t("yXPU"),a=t.n(r),o=t("fw5G"),s=t.n(o),c=t("v6sC"),u=t("sQ/U"),l=t("p6CZ"),d=Object(c.a)("/api/userNotes.v1",{type:"rest"}),p=function(){var e=a()(i()().mark((function _callee(e,t,n,r,a){var o,u,p,g,m;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=(new s.a).addQueryParam("action","getScreenShotUploadUrlV2").addQueryParam("courseId",e).addQueryParam("itemId",t).addQueryParam("userId",r).addQueryParam("timestamp",n),i.next=3,d.post(o.toString());case 3:return u=i.sent,p=u.split("?")[0],g=Object(l.c)(a),m=Object(c.a)(u,{type:"rest"}),i.next=9,m.put("",{contentType:"image/png",data:g,processData:!1});case 9:return i.abrupt("return",p);case 10:case"end":return i.stop()}}),_callee)})));return function(t,n,i,r,a){return e.apply(this,arguments)}}(),reshapeHighlightForClient=function(e){var t=e.id,n=e.createdAt,i=e.updatedAt,r=e.userText,a=e.shouldFocusOn,o=e.details.definition,s=o.noteEndTs,c=o.noteStartTs,u=o.captureTs,l=o.snapshotUrl,d=o.transcriptTextStartIndex,p=o.transcriptTextEndIndex,g=o.transcriptText,m=o.itemId,h=o.itemName;return{id:t,itemId:m,courseId:o.courseId,itemName:h,clientId:t,createdAt:n,updatedAt:i,languageCode:o.languageCode,noteText:r,noteEndTs:s&&s/1e3,noteStartTs:c&&c/1e3,captureTs:u&&u/1e3,snapshotUrl:l,transcriptTextStartIndex:d,transcriptTextEndIndex:p,transcriptText:g,pendingCreate:!1,pendingUpdate:!1,shouldFocusOn:a}},updateHighlight=function(e){var t=e.itemId,n=e.courseId,i=e.languageCode,r=e.id,a=e.highlight,o=new s.a(r),c=Object(l.d)({itemId:t,courseId:n,highlight:a,languageCode:i});return d.put(o.toString(),{data:c})},g=function(){var e=a()(i()().mark((function _callee2(e){var t,n,r,a,o,s,c,g,m,h,v;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=e.itemId,o=e.courseId,s=e.languageCode,c=e.highlight,g=Object(l.d)({itemId:a,courseId:o,highlight:c,languageCode:s}),m=u.a.get().id,!c.snapshotDataUrl){i.next=8;break}return i.next=6,p(o,a,g.details.definition.noteStartTs,m,c.snapshotDataUrl);case 6:h=i.sent,g.details.definition.snapshotUrl=h;case 8:return i.next=10,d.post("",{data:g});case 10:return v=i.sent,i.abrupt("return",{id:v.elements[0].id,snapshotUrl:(null===(t=v.elements[0])||void 0===t?void 0:null===(n=t.details)||void 0===n?void 0:null===(r=n.definition)||void 0===r?void 0:r.snapshotUrl)||""});case 12:case"end":return i.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),deleteHighlight=function(e){var t=e.id,n=new s.a(t);return d.delete(n.toString())},compareHighlightsByStartTimestamp=function(e,t){return e.noteStartTs<t.noteStartTs?-1:e.noteStartTs>t.noteStartTs?1:0},m=function(){var e=a()(i()().mark((function _callee3(e){var t,n,r,a,o;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.itemId,n=e.courseId,r=e.languageCode,a=(new s.a).addQueryParam("itemId",t).addQueryParam("courseId",n).addQueryParam("languageCode",r).addQueryParam("q","courseItemLanguageCode").addQueryParam("fields","id, userText, createdAt, updatedAt, details"),i.next=4,d.get(a.toString());case 4:return o=i.sent,i.abrupt("return",o.elements.map(reshapeHighlightForClient).sort(compareHighlightsByStartTimestamp));case 6:case"end":return i.stop()}}),_callee3)})));return function(t){return e.apply(this,arguments)}}()},"nQ+W":function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},nXAi:function(module,e,t){"use strict";t.d(e,"a",(function(){return ItemMetadataProvider})),t.d(e,"b",(function(){return useItemMetadata}));var n=t("q1tI"),i=Object(n.createContext)(void 0),ItemMetadataProvider=function(e){var t=e.itemMetadata,r=e.children;return(n.createElement(i.Provider,{value:{itemMetadata:t}},r))},useItemMetadata=function(){var e,t=Object(n.useContext)(i);if(!t)throw new Error("useItemMetadata must be used within an ItemMetadataProvider");var r=t.itemMetadata,a=r.get("course"),o=r.get("courseMaterials"),s=null==o?void 0:null===(e=o.getNeighbors(r))||void 0===e?void 0:e.nextItemMetadataOrItemGroup,c=r.getIndexInCourse();return{itemMetadata:r,nextItem:s,courseMaterials:o,course:a,courseName:a.get("name"),courseId:a.get("id"),courseSlug:a.get("slug"),primaryLanguageCodes:a.get("primaryLanguageCodes"),itemId:r.get("id"),itemName:r.get("name"),currentItemIndex:c,moduleName:r.get("module").get("name"),moduleId:r.get("module").get("id"),lessonId:r.get("lesson").get("id"),lessonName:r.get("lesson").get("name"),partnerName:a.get("universities").getNamesString(),videoDurationInSeconds:r.get("timeCommitment")/1e3,embeddedContentSourceCourseId:r.getEmbeddedContentSourceCourseId(),originalItemName:r.getOriginalName()}}},nzgR:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},p6CZ:function(module,e,t){"use strict";var n=t("k8gO"),i=t("F9YM");t.d(e,"c",(function(){return getBlobFromDataURI})),t.d(e,"b",(function(){return highlightUtils_generateHighlightFromTranscriptSelection})),t.d(e,"a",(function(){return highlightUtils_generateHighlightFromCaptureButton})),t.d(e,"d",(function(){return getDraftFromHighlight}));var getBlobFromDataURI=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),r=new Uint8Array(i),a=0;a<t.length;a+=1)r[a]=t.charCodeAt(a);return new Blob([i],{type:n})},highlightUtils_generateHighlightFromTranscriptSelection=function(e,t){var i=e.transcriptTextStartIndex,r=e.transcriptTextEndIndex,a=t.cues.filter((function(e){return e.index>=i.cueIndex&&e.index<=r.cueIndex})),o=a.reduce((function(e,t){var n=t.index,a=t.text,o=i.cueIndex,s=i.textIndex,c=r.cueIndex,u=r.textIndex;return n===o?n===c?"".concat(e).concat(a.substring(s,u+1)):"".concat(e).concat(a.substring(s)):n===c?"".concat(e," ").concat(a.substring(0,u+1)):"".concat(e," ").concat(a)}),""),s=Object(n.a)(),c=s,u=a[0],l=a[a.length-1].endTime;return{id:s,clientId:c,captureTs:u.startTime,noteStartTs:u.startTime,noteEndTs:l,transcriptText:o,noteText:"",languageCode:t.languageCode,transcriptTextStartIndex:i,transcriptTextEndIndex:r,pendingCreate:!0,pendingUpdate:!1}},highlightUtils_generateHighlightFromCaptureButton=function(e,t){var r=Object(n.a)(),a=r,o=e.languageCode,s=t.currentTime(),c=Object(i.d)(e.cues,s,o),u=c[0],l=c[c.length-1],d=c.reduce((function(e,t){return t.index===u.index?"".concat(e).concat(t.text):"".concat(e," ").concat(t.text)}),""),p={textIndex:0,cueIndex:u.index},g={textIndex:l.text.length-1,cueIndex:l.index},m=l.endTime;return{id:r,clientId:a,captureTs:s,noteStartTs:u.startTime,noteEndTs:m,transcriptText:d,noteText:"",languageCode:o,transcriptTextStartIndex:p,transcriptTextEndIndex:g,snapshotDataUrl:function(e){var t=document.createElement("canvas");t.width=960,t.height=540;var n=e.el().querySelector("video"),i=t.getContext("2d");return i&&n&&i.drawImage(n,0,0,t.width,t.height),t.toDataURL("image/jpeg")}(t),pendingCreate:!0,pendingUpdate:!1}},getDraftFromHighlight=function(e){var t=e.itemId,n=e.courseId,i=e.highlight,r=e.languageCode,a=i.noteStartTs,o=i.noteEndTs,s=i.captureTs,c=i.snapshotUrl,u=i.transcriptText,l=i.noteText,d=i.transcriptTextEndIndex;return{details:{typeName:"video",definition:{itemId:t,courseId:n,snapshotUrl:c||"",transcriptTextStartIndex:i.transcriptTextStartIndex,transcriptTextEndIndex:d,languageCode:r,transcriptText:u,noteEndTs:o&&1e3*o,captureTs:s&&1e3*s,noteStartTs:a&&1e3*a}},userNote:l}}},qe3q:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},rO66:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},uKqt:function(module,e,t){"use strict";t.d(e,"d",(function(){return n})),t.d(e,"i",(function(){return i})),t.d(e,"e",(function(){return r})),t.d(e,"c",(function(){return a})),t.d(e,"f",(function(){return o})),t.d(e,"j",(function(){return s})),t.d(e,"a",(function(){return c})),t.d(e,"g",(function(){return u})),t.d(e,"b",(function(){return l})),t.d(e,"h",(function(){return d}));var n="823425307723964",i="tw",r="fb",a="email",o="ln",s="wa",c="link",u="mobile",l="api/customUrls.v1",d="action=share"},vbpD:function(module,e,t){"use strict";var n=t("3tO9"),i=t.n(n),r=t("J4zp"),a=t.n(r),o=t("q1tI"),s=t("Yql6"),c=t("+TN3"),u=t("agHs"),l=t("KjNy"),d=t.n(l),hooks_useHasDayOneOnboardingModalBeenSeen=function(){var e,t,n=Object(c.b)(d.a,{variables:{eventType:"DAY_ONE_ONBOARDING_MODAL_SEEN"},context:{clientName:"gatewayGql"}}),i=n.loading,r=n.error,a=n.data;return o.useEffect((function(){r&&u.captureException(r)}),[r]),{loading:i,hasBeenSeen:!!r||!(null==a||null===(e=a.LexExperimentEvents)||void 0===e||null===(t=e.queryByEventType)||void 0===t||!t.id)||!1}};t.d(e,"a",(function(){return DayOneOnboardingModalProvider_DayOneOnboardingModalProvider})),t.d(e,"b",(function(){return DayOneOnboardingModalProvider_useDayOneOnboardingModal}));var p=o.createContext({isOpen:!1,openModal:function(){},closeModal:function(){},firstItemId:void 0,courseBranchId:void 0,hasBeenSeenInPreviousSession:!1,hasBeenSeenInPreviousSessionIsLoading:!1,hasBeenSeenInThisSession:!1,hasLoadedFirstItem:!1,enableDayOneOnboardingIsLoading:!1,setEnableDayOneOnboardingIsLoading:function(){},hasMadeProgressInCourse:!1}),DayOneOnboardingModalProvider_DayOneOnboardingModalProvider=function(e){var t=e.children,n=e.courseBranchId,r=e.hasMadeProgressInCourse,c=e.nextItemId,u=hooks_useHasDayOneOnboardingModalBeenSeen(),l=u.hasBeenSeen,d=u.loading,g=Object(s.a)(),m=o.useState(!1),h=a()(m,2),v=h[0],b=h[1],f=o.useState(!1),y=a()(f,2),C=y[0],k=y[1],S=o.useState(!1),w=a()(S,2),O=w[0],x=w[1],j=o.useState(!1),T=a()(j,2),E=T[0],I=T[1],P=o.useState(void 0),V=a()(P,2),L=V[0],M=V[1],N=o.useCallback((function(e){b(!0),e&&(k(!0),M(e))}),[M,b]),F=o.useCallback((function(){b(!1),I(!0),g("close_modal",i()({modal:{name:"course_day_one_onboarding_benchmark_screen"},courseItem:{id:L}},n?{courseBranch:{id:n}}:{}))}),[b,g,L,n]);o.useEffect((function(){c&&(k(!0),M(c))}),[k,M,c]);var D=o.useCallback((function(e){l||d||E||x(e)}),[l,d,E]);return(o.createElement(p.Provider,{value:{isOpen:v,openModal:N,closeModal:F,firstItemId:L,hasBeenSeenInPreviousSession:l,hasBeenSeenInPreviousSessionIsLoading:d,hasBeenSeenInThisSession:E,courseBranchId:n,hasLoadedFirstItem:C,enableDayOneOnboardingIsLoading:O,setEnableDayOneOnboardingIsLoading:D,hasMadeProgressInCourse:r}},t))},DayOneOnboardingModalProvider_useDayOneOnboardingModal=function(){return o.useContext(p)}},wi9P:function(module,exports,e){e("lhOz")},xmJK:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"yh+z":function(module,e,t){"use strict";var n=t("fw5G"),i=t.n(n),r=t("MnCE"),a=t("+LJP"),o=t("Vwt+");e.a=function(e){return Object(r.b)(Object(a.a)((function(e){return{router:e}})),Object(r.o)((function(t){var n=t.router,r=t.shareLink,a=t.hashedUserId,s=t.utmContentParam,c=t.utmMediumParam,u=t.utmCampaignParam,l=t.utmProductParam,d=t.extraQueryParams,p=r?new i.a(r):Object(o.d)(n);(p.addQueryParam("utm_source",e),c&&p.addQueryParam("utm_medium",c),s&&p.addQueryParam("utm_content",s),u&&p.addQueryParam("utm_campaign",u),l&&p.addQueryParam("utm_product",l),a&&p.addQueryParam("utm_user",a),d)&&Object.keys(d).forEach((function(e){p.addQueryParam(e,d[e])}));return{targetShareLink:p.toString()}})))}}}]);
//# sourceMappingURL=en.35.74a78fe549b8b0c4fcd1.js.map